(()=>{var e={};e.id=165,e.ids=[165],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},1804:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>l,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=r(7634),n=r(474),i=r(2889),o=r.n(i),a=r(8551),u={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(u[e]=()=>a[e]);r.d(t,u);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.t.bind(r,337,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,7503)),"/Users/macbook/developer/2025/eco-capture-and-claim/apps/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,337,23)),"next/dist/client/components/not-found-error"]}],c=[],l="/_not-found",p={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/_not-found",pathname:"/_not-found",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2778:(e,t,r)=>{Promise.resolve().then(r.bind(r,9854))},3629:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,1858,23)),Promise.resolve().then(r.t.bind(r,3187,23)),Promise.resolve().then(r.t.bind(r,2947,23)),Promise.resolve().then(r.t.bind(r,6297,23)),Promise.resolve().then(r.t.bind(r,4121,23)),Promise.resolve().then(r.t.bind(r,5951,23))},9854:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Providers:()=>a});var s=r(931),n=r(7980),i=r(8203),o=r(3218);function a({children:e}){return s.jsx(n.w,{i18n:i,children:s.jsx(o.Ho,{children:e})})}},1362:(e,t,r)=>{"use strict";r.d(t,{O:()=>i});var s=r(4044),n=r(3218);if(!n.vc.SUPABASE_URL||!n.vc.SUPABASE_ANON_KEY)throw Error("Missing required Supabase configuration");let i=(0,s.eI)(n.vc.SUPABASE_URL,n.vc.SUPABASE_ANON_KEY)},3218:(e,t,r)=>{"use strict";r.d(t,{Ho:()=>p,vc:()=>g,aC:()=>m});var s=r(8799);let n=s.z.enum(["collector","business"]),i=s.z.enum(["active","used","expired"]),o=s.z.enum(["credit","coupon"]),a=s.z.object({latitude:s.z.number(),longitude:s.z.number()});s.z.object({id:s.z.string().uuid(),email:s.z.string().email(),name:s.z.string(),phone:s.z.string().optional(),role:n,location:a.optional(),createdAt:s.z.date(),updatedAt:s.z.date()}),s.z.object({id:s.z.string().uuid(),userId:s.z.string().uuid(),containerId:s.z.string(),timestamp:s.z.date(),location:a,batteryType:s.z.string(),certificateId:s.z.string().uuid().optional(),createdAt:s.z.date()}),s.z.object({id:s.z.string().uuid(),recyclingRecordId:s.z.string().uuid(),userId:s.z.string().uuid(),businessId:s.z.string().uuid().optional(),issueDate:s.z.date(),validUntil:s.z.date(),status:i,createdAt:s.z.date(),updatedAt:s.z.date()}),s.z.object({id:s.z.string().uuid(),userId:s.z.string().uuid(),type:o,amount:s.z.number(),shopifyProductId:s.z.string().optional(),expiryDate:s.z.date().optional(),status:i,createdAt:s.z.date(),updatedAt:s.z.date()});var u=r(931),d=r(958),c=r(1362);let l=(0,d.createContext)({session:null,user:null,loading:!0,error:null}),p=({children:e})=>{let[t,r]=(0,d.useState)(null),[s,n]=(0,d.useState)(null),[i,o]=(0,d.useState)(!0),[a,p]=(0,d.useState)(null);return(0,d.useEffect)(()=>{c.O.auth.getSession().then(({data:{session:e},error:t})=>{t&&(console.error("Error getting session:",t),p(t.message)),console.log("Initial session:",e),r(e),n(e?.user??null),o(!1)});let{data:{subscription:e}}=c.O.auth.onAuthStateChange(async(e,t)=>{if(console.log("Auth state change event:",e),console.log("New session:",t),r(t),n(t?.user??null),o(!1),t?.user){let{error:e}=await c.O.auth.getUser();e?(console.error("Error verifying user:",e),p(e.message)):p(null)}});return()=>e.unsubscribe()},[]),u.jsx(l.Provider,{value:{session:t,user:s,loading:i,error:a},children:e})},m=()=>{let e=(0,d.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e},g={SUPABASE_URL:process.env.NEXT_PUBLIC_SUPABASE_URL,SUPABASE_ANON_KEY:process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY}},7503:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p,metadata:()=>l});var s=r(1325),n=r(4579),i=r.n(n);r(2938);var o=r(534);let a=(0,o.createProxy)(String.raw`/Users/macbook/developer/2025/eco-capture-and-claim/apps/web/src/app/providers.tsx`),{__esModule:u,$$typeof:d}=a;a.default;let c=(0,o.createProxy)(String.raw`/Users/macbook/developer/2025/eco-capture-and-claim/apps/web/src/app/providers.tsx#Providers`),l={title:"EcoCapture - Gesti\xf3n de Cupones",description:"Sistema de gesti\xf3n de cupones ecol\xf3gicos"};function p({children:e}){return s.jsx("html",{lang:"es",children:s.jsx("body",{className:i().className,children:s.jsx(c,{children:e})})})}}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[946],()=>r(1804));module.exports=s})();