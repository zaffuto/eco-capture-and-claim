(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[85],{7085:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6376);Object.defineProperty(t,"CacheControl",{enumerable:!0,get:function(){return n.CacheControl}}),Object.defineProperty(t,"CspDirective",{enumerable:!0,get:function(){return n.CspDirective}}),Object.defineProperty(t,"CspSandboxAllow",{enumerable:!0,get:function(){return n.CspSandboxAllow}}),Object.defineProperty(t,"HashAlgorithm",{enumerable:!0,get:function(){return n.HashAlgorithm}}),Object.defineProperty(t,"Header",{enumerable:!0,get:function(){return n.Header}}),Object.defineProperty(t,"Method",{enumerable:!0,get:function(){return n.Method}}),Object.defineProperty(t,"ResponseType",{enumerable:!0,get:function(){return n.ResponseType}}),Object.defineProperty(t,"SpecialSource",{enumerable:!0,get:function(){return n.SpecialSource}}),Object.defineProperty(t,"SriAsset",{enumerable:!0,get:function(){return n.SriAsset}}),Object.defineProperty(t,"StatusCode",{enumerable:!0,get:function(){return n.StatusCode}}),t.getResponseType=n.getResponseType,t.hashSource=n.hashSource,t.noCache=n.noCache,t.nonceSource=n.nonceSource},6376:function(e,t){"use strict";var r,n,i,a,o,s,l,c,u,d;Object.defineProperty(t,"__esModule",{value:!0}),t.Method=void 0,(r=t.Method||(t.Method={})).Get="GET",r.Post="POST",r.Put="PUT",r.Patch="PATCH",r.Delete="DELETE",r.Head="HEAD",r.Options="OPTIONS",r.Connect="CONNECT",t.StatusCode=void 0,(n=t.StatusCode||(t.StatusCode={}))[n.Continue=100]="Continue",n[n.SwitchingProtocols=101]="SwitchingProtocols",n[n.Ok=200]="Ok",n[n.Created=201]="Created",n[n.Accepted=202]="Accepted",n[n.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",n[n.NoContent=204]="NoContent",n[n.ResetContent=205]="ResetContent",n[n.PartialContent=206]="PartialContent",n[n.MultipleChoices=300]="MultipleChoices",n[n.MovedPermanently=301]="MovedPermanently",n[n.Found=302]="Found",n[n.SeeOther=303]="SeeOther",n[n.NotModified=304]="NotModified",n[n.UseProxy=305]="UseProxy",n[n.TemporaryRedirect=307]="TemporaryRedirect",n[n.BadRequest=400]="BadRequest",n[n.Unauthorized=401]="Unauthorized",n[n.PaymentRequired=402]="PaymentRequired",n[n.Forbidden=403]="Forbidden",n[n.NotFound=404]="NotFound",n[n.MethodNotAllowed=405]="MethodNotAllowed",n[n.NotAcceptable=406]="NotAcceptable",n[n.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",n[n.RequestTimeout=408]="RequestTimeout",n[n.Conflict=409]="Conflict",n[n.Gone=410]="Gone",n[n.LengthRequired=411]="LengthRequired",n[n.PreconditionFailed=412]="PreconditionFailed",n[n.RequestEntityTooLarge=413]="RequestEntityTooLarge",n[n.RequestUriTooLong=414]="RequestUriTooLong",n[n.UnsupportedMediaType=415]="UnsupportedMediaType",n[n.RequestedRangeNotSatisfiable=416]="RequestedRangeNotSatisfiable",n[n.ExpectationFailed=417]="ExpectationFailed",n[n.ImATeapot=418]="ImATeapot",n[n.UnprocessableEntity=422]="UnprocessableEntity",n[n.TooManyRequests=429]="TooManyRequests",n[n.InternalServerError=500]="InternalServerError",n[n.NotImplemented=501]="NotImplemented",n[n.BadGateway=502]="BadGateway",n[n.ServiceUnavailable=503]="ServiceUnavailable",n[n.GatewayTimeout=504]="GatewayTimeout",n[n.HttpVersionNotSupported=505]="HttpVersionNotSupported",t.Header=void 0,(i=t.Header||(t.Header={})).Accept="Accept",i.AcceptEncoding="Accept-Encoding",i.AcceptLanguage="Accept-Language",i.AccessControlAllowCredentials="Access-Control-Allow-Credentials",i.AccessControlAllowHeaders="Access-Control-Allow-Headers",i.AccessControlAllowMethods="Access-Control-Allow-Methods",i.AccessControlAllowOrigin="Access-Control-Allow-Origin",i.AccessControlExposeHeaders="Access-Control-Expose-Headers",i.AccessControlMaxAge="Access-Control-Max-Age",i.AccessControlRequestHeaders="Access-Control-Request-Headers",i.AccessControlRequestMethod="Access-Control-Request-Method",i.Authorization="Authorization",i.CacheControl="Cache-Control",i.CacheStatus="Cache-Status",i.Connection="Connection",i.ContentDisposition="Content-Disposition",i.ContentEncoding="Content-Encoding",i.ContentLength="Content-Length",i.ContentSecurityPolicy="Content-Security-Policy",i.ContentSecurityPolicyReportOnly="Content-Security-Policy-Report-Only",i.ContentType="Content-Type",i.ContentTypeOptions="X-Content-Type-Options",i.Cookie="Cookie",i.DownloadOptions="X-Download-Options",i.ETag="ETag",i.Forwarded="Forwarded",i.ForwardedFor="X-Forwarded-For",i.ForwardedHost="X-Forwarded-Host",i.ForwardedProtocol="X-Forwarded-Proto",i.FrameOptions="X-Frame-Options",i.Host="Host",i.IfNoneMatch="If-None-Match",i.Location="Location",i.Origin="Origin",i.ReferrerPolicy="Referrer-Policy",i.ServerTiming="Server-Timing",i.StrictTransportSecurity="Strict-Transport-Security",i.TimingAllowOrigin="Timing-Allow-Origin",i.Trailer="Trailer",i.TransferEncoding="Transfer-Encoding",i.UserAgent="User-Agent",i.WwwAuthenticate="WWW-Authenticate",i.XhrRedirectedTo="X-XHR-Redirected-To",i.XhrReferer="X-XHR-Referer",i.XssProtecton="X-XSS-Protection",i.XContentTypeOptions="X-Content-Type-Options",i.XDownloadOptions="X-Download-Options",i.XForwardedFor="X-Forwarded-For",i.XForwardedHost="X-Forwarded-Host",i.XForwardedProto="X-Forwarded-Proto",i.XFrameOptions="X-Frame-Options",i.XXhrRedirectedTo="X-XHR-Redirected-To",i.XXhrReferer="X-XHR-Referer",i.XXssProtecton="X-XSS-Protection",i.XXssProtection="X-XSS-Protection",t.CspDirective=void 0,(a=t.CspDirective||(t.CspDirective={})).ChildSrc="child-src",a.ConnectSrc="connect-src",a.DefaultSrc="default-src",a.FontSrc="font-src",a.FrameSrc="frame-src",a.ImgSrc="img-src",a.ManifestSrc="manifest-src",a.MediaSrc="media-src",a.ObjectSrc="object-src",a.PrefetchSrc="prefetch-src",a.ScriptSrc="script-src",a.StyleSrc="style-src",a.WebrtcSrc="webrtc-src",a.WorkerSrc="worker-src",a.BaseUri="base-uri",a.PluginTypes="plugin-types",a.Sandbox="sandbox",a.FormAction="form-action",a.FrameAncestors="frame-ancestors",a.ReportUri="report-uri",a.BlockAllMixedContent="block-all-mixed-content",a.RequireSriFor="require-sri-for",a.UpgradeInsecureRequests="upgrade-insecure-requests",t.CspSandboxAllow=void 0,(o=t.CspSandboxAllow||(t.CspSandboxAllow={})).Forms="allow-forms",o.SameOrigin="allow-same-origin",o.Scripts="allow-scripts",o.Popups="allow-popups",o.Modals="allow-modals",o.OrientationLock="allow-orientation-lock",o.PointerLock="allow-pointer-lock",o.Presentation="allow-presentation",o.PopupsToEscapeSandbox="allow-popups-to-escape-sandbox",o.TopNavigation="allow-top-navigation",t.SpecialSource=void 0,(s=t.SpecialSource||(t.SpecialSource={})).Any="*",s.Self="'self'",s.UnsafeInline="'unsafe-inline'",s.UnsafeEval="'unsafe-eval'",s.None="'none'",s.StrictDynamic="'strict-dynamic'",s.ReportSample="'report-sample'",s.Data="data:",s.Blob="blob:",s.FileSystem="filesystem:",t.SriAsset=void 0,(l=t.SriAsset||(t.SriAsset={})).Script="script",l.Style="style",t.HashAlgorithm=void 0,(c=t.HashAlgorithm||(t.HashAlgorithm={})).Sha256="sha256",c.Sha384="sha384",c.Sha512="sha512",t.ResponseType=void 0,(u=t.ResponseType||(t.ResponseType={})).Informational="1xx",u.Success="2xx",u.Redirection="3xx",u.ClientError="4xx",u.ServerError="5xx",u.Unknown="Unknown",t.CacheControl=void 0,(d=t.CacheControl||(t.CacheControl={})).NoCache="no-cache",d.NoStore="no-store",d.MustRevalidate="must-revalidate",d.MaxAge="max-age";let p=`${t.CacheControl.NoCache},${t.CacheControl.NoStore},${t.CacheControl.MustRevalidate},${t.CacheControl.MaxAge}=0`;t.getResponseType=function(e){return e>=100&&e<200?t.ResponseType.Informational:e>=200&&e<300?t.ResponseType.Success:e>=300&&e<400?t.ResponseType.Redirection:e>=400&&e<500?t.ResponseType.ClientError:e>=500&&e<600?t.ResponseType.ServerError:t.ResponseType.Unknown},t.hashSource=function(e,t){return`'${e}-${t}'`},t.noCache=p,t.nonceSource=function(e){return`'nonce-${e}'`}},9753:function(e,t,r){e.exports=r(7085)},4971:function(e,t,r){"use strict";r.d(t,{jL:function(){return _}});var n=r(6193),i=r(4428);let a=(0,n.createContext)(!1);var o=r(8656),s=r(4923),l=r(8705),c=r(5457),u={Banner:"Polaris-Banner",keyFocused:"Polaris-Banner--keyFocused",withinContentContainer:"Polaris-Banner--withinContentContainer",withinPage:"Polaris-Banner--withinPage",DismissIcon:"Polaris-Banner__DismissIcon","text-success-on-bg-fill":"Polaris-Banner--textSuccessOnBgFill","text-success":"Polaris-Banner__text--success","text-warning-on-bg-fill":"Polaris-Banner--textWarningOnBgFill","text-warning":"Polaris-Banner__text--warning","text-critical-on-bg-fill":"Polaris-Banner--textCriticalOnBgFill","text-critical":"Polaris-Banner__text--critical","text-info-on-bg-fill":"Polaris-Banner--textInfoOnBgFill","text-info":"Polaris-Banner__text--info","icon-secondary":"Polaris-Banner__icon--secondary"},d=function(e){return n.createElement("svg",Object.assign({viewBox:"0 0 20 20"},e),n.createElement("path",{fillRule:"evenodd",d:"M15.78 5.97a.75.75 0 0 1 0 1.06l-6.5 6.5a.75.75 0 0 1-1.06 0l-3.25-3.25a.75.75 0 1 1 1.06-1.06l2.72 2.72 5.97-5.97a.75.75 0 0 1 1.06 0Z"}))};d.displayName="CheckIcon";var p=function(e){return n.createElement("svg",Object.assign({viewBox:"0 0 20 20"},e),n.createElement("path",{d:"M10 6.75a.75.75 0 0 1 .75.75v3.5a.75.75 0 1 1-1.5 0v-3.5a.75.75 0 0 1 .75-.75Z"}),n.createElement("path",{d:"M11 13.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"}),n.createElement("path",{fillRule:"evenodd",d:"M10 3.5c-1.045 0-1.784.702-2.152 1.447a449.26 449.26 0 0 1-2.005 3.847l-.028.052a403.426 403.426 0 0 0-2.008 3.856c-.372.752-.478 1.75.093 2.614.57.863 1.542 1.184 2.464 1.184h7.272c.922 0 1.895-.32 2.464-1.184.57-.864.465-1.862.093-2.614-.21-.424-1.113-2.147-2.004-3.847l-.032-.061a429.497 429.497 0 0 1-2.005-3.847c-.368-.745-1.107-1.447-2.152-1.447Zm-.808 2.112c.404-.816 1.212-.816 1.616 0 .202.409 1.112 2.145 2.022 3.88a418.904 418.904 0 0 1 2.018 3.875c.404.817 0 1.633-1.212 1.633h-7.272c-1.212 0-1.617-.816-1.212-1.633.202-.408 1.113-2.147 2.023-3.883a421.932 421.932 0 0 0 2.017-3.872Z"}))};p.displayName="AlertTriangleIcon";var h=function(e){return n.createElement("svg",Object.assign({viewBox:"0 0 20 20"},e),n.createElement("path",{d:"M10 6a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5a.75.75 0 0 1 .75-.75Z"}),n.createElement("path",{d:"M11 13a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"}),n.createElement("path",{fillRule:"evenodd",d:"M11.237 3.177a1.75 1.75 0 0 0-2.474 0l-5.586 5.585a1.75 1.75 0 0 0 0 2.475l5.586 5.586a1.75 1.75 0 0 0 2.474 0l5.586-5.586a1.75 1.75 0 0 0 0-2.475l-5.586-5.585Zm-1.414 1.06a.25.25 0 0 1 .354 0l5.586 5.586a.25.25 0 0 1 0 .354l-5.586 5.585a.25.25 0 0 1-.354 0l-5.586-5.585a.25.25 0 0 1 0-.354l5.586-5.586Z"}))};h.displayName="AlertDiamondIcon";var f=function(e){return n.createElement("svg",Object.assign({viewBox:"0 0 20 20"},e),n.createElement("path",{d:"M10 14a.75.75 0 0 1-.75-.75v-3.5a.75.75 0 0 1 1.5 0v3.5a.75.75 0 0 1-.75.75Z"}),n.createElement("path",{d:"M9 7a1 1 0 1 1 2 0 1 1 0 0 1-2 0Z"}),n.createElement("path",{fillRule:"evenodd",d:"M17 10a7 7 0 1 1-14 0 7 7 0 0 1 14 0Zm-1.5 0a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0Z"}))};f.displayName="InfoIcon";let m={success:{withinPage:{background:"bg-fill-success",text:"text-success-on-bg-fill",icon:"text-success-on-bg-fill"},withinContentContainer:{background:"bg-surface-success",text:"text-success",icon:"text-success"},icon:d},warning:{withinPage:{background:"bg-fill-warning",text:"text-warning-on-bg-fill",icon:"text-warning-on-bg-fill"},withinContentContainer:{background:"bg-surface-warning",text:"text-warning",icon:"text-warning"},icon:p},critical:{withinPage:{background:"bg-fill-critical",text:"text-critical-on-bg-fill",icon:"text-critical-on-bg-fill"},withinContentContainer:{background:"bg-surface-critical",text:"text-critical",icon:"text-critical"},icon:h},info:{withinPage:{background:"bg-fill-info",text:"text-info-on-bg-fill",icon:"text-info-on-bg-fill"},withinContentContainer:{background:"bg-surface-info",text:"text-info",icon:"text-info"},icon:f}};var y=r(5121),g=r(1532),v=r(5296),b=r(8364),w=r(3386),E=r(8264),S=r(6465),A=r(3342);let _=(0,n.forwardRef)(function(e,t){let{tone:r,stopAnnouncements:i}=e,l=(0,n.useContext)(o.O),{wrapperRef:c,handleKeyUp:d,handleBlur:p,handleMouseUp:h,shouldShowFocus:f}=function(e){let t=(0,n.useRef)(null),[r,i]=(0,n.useState)(!1);return(0,n.useImperativeHandle)(e,()=>({focus:()=>{t.current?.focus(),i(!0)}}),[]),{wrapperRef:t,handleKeyUp:e=>{e.target===t.current&&i(!0)},handleBlur:()=>i(!1),handleMouseUp:e=>{e.currentTarget.blur(),i(!1)},shouldShowFocus:r}}(t),m=(0,s.AK)(u.Banner,f&&u.keyFocused,l?u.withinContentContainer:u.withinPage);return n.createElement(a.Provider,{value:!0},n.createElement("div",{className:m,tabIndex:0,ref:c,role:"warning"===r||"critical"===r?"alert":"status","aria-live":i?"off":"polite",onMouseUp:h,onKeyUp:d,onBlur:p},n.createElement(C,e)))});function C({tone:e="info",icon:t,hideIcon:r,onDismiss:a,action:s,secondaryAction:l,title:c,children:d}){let p=(0,g.Q)(),h=(0,n.useContext)(o.O),f=!c&&!h,E=Object.keys(m).includes(e)?e:"info",S=m[E][h?"withinContentContainer":"withinPage"],A={backgroundColor:S.background,textColor:S.text,bannerTitle:c?n.createElement(v.x,{as:"h2",variant:"headingSm",breakWord:!0},c):null,bannerIcon:r?null:n.createElement("span",{className:u[S.icon]},n.createElement(b.J,{source:t??m[E].icon})),actionButtons:s||l?n.createElement(y.h,null,s&&n.createElement(w.z,Object.assign({onClick:s.onAction},s),s.content),l&&n.createElement(w.z,Object.assign({onClick:l.onAction},l),l.content)):null,dismissButton:a?n.createElement(w.z,{variant:"tertiary",icon:n.createElement("span",{className:u[f?"icon-secondary":S.icon]},n.createElement(b.J,{source:i.S})),onClick:a,accessibilityLabel:p.translate("Polaris.Banner.dismissButton")}):null},_=d?n.createElement(v.x,{as:"span",variant:"bodyMd"},d):null;return h?n.createElement(x,A,_):f?n.createElement(k,A,_):n.createElement(P,A,_)}function P({backgroundColor:e,textColor:t,bannerTitle:r,bannerIcon:i,actionButtons:a,dismissButton:o,children:s}){let{smUp:c}=(0,l.kC)(),u=s||a;return n.createElement(E.x,{width:"100%"},n.createElement(S.E,{align:"space-between"},n.createElement(E.x,{background:e,color:t,borderStartStartRadius:c?"300":void 0,borderStartEndRadius:c?"300":void 0,borderEndStartRadius:!u&&c?"300":void 0,borderEndEndRadius:!u&&c?"300":void 0,padding:"300"},n.createElement(A.g,{align:"space-between",blockAlign:"center",gap:"200",wrap:!1},n.createElement(A.g,{gap:"100",wrap:!1},i,r),o)),u&&n.createElement(E.x,{padding:{xs:"300",md:"400"},paddingBlockStart:"300"},n.createElement(S.E,{gap:"200"},n.createElement("div",null,s),a))))}function k({backgroundColor:e,bannerIcon:t,actionButtons:r,dismissButton:i,children:a}){let[o,s]=(0,n.useState)("center"),l=(0,n.useRef)(null),d=(0,n.useRef)(null),p=(0,n.useRef)(null),h=(0,n.useCallback)(()=>{let e=l.current?.offsetHeight,t=d.current?.offsetHeight||p.current?.offsetHeight;e&&t&&(e>t?s("start"):s("center"))},[]);return(0,n.useEffect)(()=>h(),[h]),(0,c.O)("resize",h),n.createElement(E.x,{width:"100%",padding:"300",borderRadius:"300"},n.createElement(A.g,{align:"space-between",blockAlign:o,wrap:!1},n.createElement(E.x,{width:"100%"},n.createElement(A.g,{gap:"200",wrap:!1,blockAlign:o},t?n.createElement("div",{ref:d},n.createElement(E.x,{background:e,borderRadius:"200",padding:"100"},t)):null,n.createElement(E.x,{ref:l,width:"100%"},n.createElement(S.E,{gap:"200"},n.createElement("div",null,a),r)))),n.createElement("div",{ref:p,className:u.DismissIcon},i)))}function x({backgroundColor:e,textColor:t,bannerTitle:r,bannerIcon:i,actionButtons:a,dismissButton:o,children:s}){return n.createElement(E.x,{width:"100%",background:e,padding:"200",borderRadius:"200",color:t},n.createElement(A.g,{align:"space-between",blockAlign:"start",wrap:!1,gap:"200"},n.createElement(A.g,{gap:"150",wrap:!1},i,n.createElement(E.x,{width:"100%"},n.createElement(S.E,{gap:"200"},n.createElement(S.E,{gap:"050"},r,n.createElement("div",null,s)),a))),o))}},6465:function(e,t,r){"use strict";r.d(t,{E:function(){return o}});var n=r(6193),i=r(4923),a={BlockStack:"Polaris-BlockStack",listReset:"Polaris-BlockStack--listReset",fieldsetReset:"Polaris-BlockStack--fieldsetReset"};let o=({as:e="div",children:t,align:r,inlineAlign:o,gap:s,id:l,reverseOrder:c=!1,...u})=>{let d=(0,i.AK)(a.BlockStack,("ul"===e||"ol"===e)&&a.listReset,"fieldset"===e&&a.fieldsetReset),p={"--pc-block-stack-align":r?`${r}`:null,"--pc-block-stack-inline-align":o?`${o}`:null,"--pc-block-stack-order":c?"column-reverse":"column",...(0,i.jD)("block-stack","gap","space",s)};return n.createElement(e,{className:d,id:l,style:(0,i.vW)(p),...u},t)}},8264:function(e,t,r){"use strict";r.d(t,{x:function(){return o}});var n=r(6193),i=r(4923),a={listReset:"Polaris-Box--listReset",Box:"Polaris-Box",visuallyHidden:"Polaris-Box--visuallyHidden",printHidden:"Polaris-Box--printHidden"};let o=(0,n.forwardRef)(({as:e="div",background:t,borderColor:r,borderStyle:o,borderWidth:s,borderBlockStartWidth:l,borderBlockEndWidth:c,borderInlineStartWidth:u,borderInlineEndWidth:d,borderRadius:p,borderEndStartRadius:h,borderEndEndRadius:f,borderStartStartRadius:m,borderStartEndRadius:y,children:g,color:v,id:b,minHeight:w,minWidth:E,maxWidth:S,overflowX:A,overflowY:_,outlineColor:C,outlineStyle:P,outlineWidth:k,padding:x,paddingBlock:T,paddingBlockStart:O,paddingBlockEnd:R,paddingInline:H,paddingInlineStart:I,paddingInlineEnd:M,role:D,shadow:j,tabIndex:N,width:$,printHidden:K,visuallyHidden:U,position:W,insetBlockStart:F,insetBlockEnd:B,insetInlineStart:L,insetInlineEnd:J,zIndex:q,opacity:z,...V},G)=>{let X={"--pc-box-color":v?`var(--p-color-${v})`:void 0,"--pc-box-background":t?`var(--p-color-${t})`:void 0,"--pc-box-border-color":r?"transparent"===r?"transparent":`var(--p-color-${r})`:void 0,"--pc-box-border-style":o||(r||s||l||c||u||d?"solid":void 0),"--pc-box-border-radius":p?`var(--p-border-radius-${p})`:void 0,"--pc-box-border-end-start-radius":h?`var(--p-border-radius-${h})`:void 0,"--pc-box-border-end-end-radius":f?`var(--p-border-radius-${f})`:void 0,"--pc-box-border-start-start-radius":m?`var(--p-border-radius-${m})`:void 0,"--pc-box-border-start-end-radius":y?`var(--p-border-radius-${y})`:void 0,"--pc-box-border-width":s?`var(--p-border-width-${s})`:void 0,"--pc-box-border-block-start-width":l?`var(--p-border-width-${l})`:void 0,"--pc-box-border-block-end-width":c?`var(--p-border-width-${c})`:void 0,"--pc-box-border-inline-start-width":u?`var(--p-border-width-${u})`:void 0,"--pc-box-border-inline-end-width":d?`var(--p-border-width-${d})`:void 0,"--pc-box-min-height":w,"--pc-box-min-width":E,"--pc-box-max-width":S,"--pc-box-outline-color":C?`var(--p-color-${C})`:void 0,"--pc-box-outline-style":P||(C||k?"solid":void 0),"--pc-box-outline-width":k?`var(--p-border-width-${k})`:void 0,"--pc-box-overflow-x":A,"--pc-box-overflow-y":_,...(0,i.jD)("box","padding-block-start","space",O||T||x),...(0,i.jD)("box","padding-block-end","space",R||T||x),...(0,i.jD)("box","padding-inline-start","space",I||H||x),...(0,i.jD)("box","padding-inline-end","space",M||H||x),"--pc-box-shadow":j?`var(--p-shadow-${j})`:void 0,"--pc-box-width":$,position:W,"--pc-box-inset-block-start":F?`var(--p-space-${F})`:void 0,"--pc-box-inset-block-end":B?`var(--p-space-${B})`:void 0,"--pc-box-inset-inline-start":L?`var(--p-space-${L})`:void 0,"--pc-box-inset-inline-end":J?`var(--p-space-${J})`:void 0,zIndex:q,opacity:z},Z=(0,i.AK)(a.Box,U&&a.visuallyHidden,K&&a.printHidden,"ul"===e&&a.listReset);return n.createElement(e,{className:Z,id:b,ref:G,style:(0,i.vW)(X),role:D,tabIndex:N,...V},g)});o.displayName="Box"},3386:function(e,t,r){"use strict";r.d(t,{z:function(){return b}});var n=r(6193),i=r(4930),a=r(8377),o=r(757),s=r(8705),l=r(4923),c=r(1112),u={Button:"Polaris-Button",disabled:"Polaris-Button--disabled",pressed:"Polaris-Button--pressed",variantPrimary:"Polaris-Button--variantPrimary",variantSecondary:"Polaris-Button--variantSecondary",variantTertiary:"Polaris-Button--variantTertiary",variantPlain:"Polaris-Button--variantPlain",removeUnderline:"Polaris-Button--removeUnderline",variantMonochromePlain:"Polaris-Button--variantMonochromePlain",toneSuccess:"Polaris-Button--toneSuccess",toneCritical:"Polaris-Button--toneCritical",sizeMicro:"Polaris-Button--sizeMicro",sizeSlim:"Polaris-Button--sizeSlim",sizeMedium:"Polaris-Button--sizeMedium",sizeLarge:"Polaris-Button--sizeLarge",textAlignCenter:"Polaris-Button--textAlignCenter",textAlignStart:"Polaris-Button--textAlignStart",textAlignLeft:"Polaris-Button--textAlignLeft",textAlignEnd:"Polaris-Button--textAlignEnd",textAlignRight:"Polaris-Button--textAlignRight",fullWidth:"Polaris-Button--fullWidth",iconOnly:"Polaris-Button--iconOnly",iconWithText:"Polaris-Button--iconWithText",disclosure:"Polaris-Button--disclosure",loading:"Polaris-Button--loading",pressable:"Polaris-Button--pressable",hidden:"Polaris-Button--hidden",Icon:"Polaris-Button__Icon",Spinner:"Polaris-Button__Spinner"},d=r(8364),p=r(6267),h=r(4849),f=r(481);let m=(0,n.memo)((0,n.forwardRef)(function(e,t){let r;let i=(0,n.useContext)(f.F);if(i)return n.createElement(i,Object.assign({},h.Wo.props,e,{ref:t}));let{external:a,url:o,target:s,...l}=e,c="_blank"===(r=a?"_blank":s??void 0)?"noopener noreferrer":void 0;return n.createElement("a",Object.assign({target:r},l,{href:o,rel:c},h.Wo.props,{ref:t}))}));function y({id:e,children:t,className:r,url:i,external:a,target:o,download:s,submit:l,disabled:u,loading:d,pressed:p,accessibilityLabel:h,role:f,ariaControls:y,ariaExpanded:g,ariaDescribedBy:v,ariaChecked:b,onClick:w,onFocus:E,onBlur:S,onKeyDown:A,onKeyPress:_,onKeyUp:C,onMouseEnter:P,onTouchStart:k,...x}){let T={id:e,className:r,"aria-label":h},O={...T,role:f,onClick:w,onFocus:E,onBlur:S,onMouseUp:c.i8,onMouseEnter:P,onTouchStart:k},R=function(e,t){let r=(0,n.useCallback)(t=>{e&&(t.preventDefault(),t.stopPropagation())},[e]);return e?r:t}(u,w);return i?u?n.createElement("a",T,t):n.createElement(m,Object.assign({},O,{url:i,external:a,target:o,download:s},x),t):n.createElement("button",Object.assign({},O,{"aria-disabled":u,type:l?"submit":"button","aria-busy":!!d||void 0,"aria-controls":y,"aria-expanded":g,"aria-describedby":v,"aria-checked":b,"aria-pressed":p,onKeyDown:A,onKeyUp:C,onKeyPress:_,onClick:R,tabIndex:u?-1:void 0},x),t)}var g=r(1532),v=r(5296);function b({id:e,children:t,url:r,disabled:h,external:f,download:m,target:b,submit:w,loading:E,pressed:S,accessibilityLabel:A,role:_,ariaControls:C,ariaExpanded:P,ariaDescribedBy:k,ariaChecked:x,onClick:T,onFocus:O,onBlur:R,onKeyDown:H,onKeyPress:I,onKeyUp:M,onMouseEnter:D,onTouchStart:j,onPointerDown:N,icon:$,disclosure:K,removeUnderline:U,size:W="medium",textAlign:F="center",fullWidth:B,dataPrimaryLink:L,tone:J,variant:q="secondary"}){var z,V;let G=(0,g.Q)(),X=h||E,{mdUp:Z}=(0,s.kC)(),Y=(0,l.AK)(u.Button,u.pressable,u[(0,l.OZ)("variant",q)],u[(0,l.OZ)("size",W)],u[(0,l.OZ)("textAlign",F)],B&&u.fullWidth,K&&u.disclosure,$&&t&&u.iconWithText,$&&null==t&&u.iconOnly,X&&u.disabled,E&&u.loading,S&&!h&&!r&&u.pressed,U&&u.removeUnderline,J&&u[(0,l.OZ)("tone",J)]),Q=K?n.createElement("span",{className:E?u.hidden:u.Icon},n.createElement(d.J,{source:E?"placeholder":(z=i.S,V=a.S,"select"===K?o.S:"up"===K?z:V)})):null,ee="string"==typeof $||"object"==typeof $&&$.body||"function"==typeof $?n.createElement(d.J,{source:E?"placeholder":$}):$,et=ee?n.createElement("span",{className:E?u.hidden:u.Icon},ee):null,er=["plain","monochromePlain"].includes(q),en="medium";er?en="regular":"primary"===q&&(en=Z?"medium":"semibold");let ei="bodySm";("large"===W||er&&"micro"!==W)&&(ei="bodyMd");let ea=t?n.createElement(v.x,{as:"span",variant:ei,fontWeight:en,key:h?"text-disabled":"text"},t):null,eo=E?n.createElement("span",{className:u.Spinner},n.createElement(p.$,{size:"small",accessibilityLabel:G.translate("Polaris.Button.spinnerAccessibilityLabel")})):null,es={id:e,className:Y,accessibilityLabel:A,ariaDescribedBy:k,role:_,onClick:T,onFocus:O,onBlur:R,onMouseUp:c.i8,onMouseEnter:D,onTouchStart:j,"data-primary-link":L};return n.createElement(y,Object.assign({},es,{url:r,external:f,download:m,target:b},{submit:w,disabled:X,loading:E,ariaControls:C,ariaExpanded:P,ariaChecked:x,pressed:S,onKeyDown:H,onKeyUp:M,onKeyPress:I,onPointerDown:N}),eo,et,ea,Q)}},6637:function(e,t,r){"use strict";r.d(t,{B:function(){return a},h:function(){return o}});var n=r(6193),i=r(3386);function a(e,t={}){return Array.isArray(e)?e.map((e,r)=>o(e,t,r)):o(e,t)}function o({content:e,onAction:t,plain:r,destructive:a,...o},s,l){let c=!s?.tone&&a?"critical":s?.tone;return n.createElement(i.z,Object.assign({key:l,onClick:t,tone:c,variant:(r?"plain":void 0)||(a?"primary":void 0)},o,s),e)}},5121:function(e,t,r){"use strict";r.d(t,{h:function(){return c}});var n=r(6193),i=r(4923),a=r(71),o={ButtonGroup:"Polaris-ButtonGroup",Item:"Polaris-ButtonGroup__Item","Item-plain":"Polaris-ButtonGroup__Item--plain",variantSegmented:"Polaris-ButtonGroup--variantSegmented","Item-focused":"Polaris-ButtonGroup__Item--focused",fullWidth:"Polaris-ButtonGroup--fullWidth",extraTight:"Polaris-ButtonGroup--extraTight",tight:"Polaris-ButtonGroup--tight",loose:"Polaris-ButtonGroup--loose",noWrap:"Polaris-ButtonGroup--noWrap"},s=r(9888);function l({button:e}){let{value:t,setTrue:r,setFalse:a}=(0,s.O)(!1),l=(0,i.AK)(o.Item,t&&o["Item-focused"],"plain"===e.props.variant&&o["Item-plain"]);return n.createElement("div",{className:l,onFocus:r,onBlur:a},e)}function c({children:e,gap:t,variant:r,fullWidth:s,connectedTop:c,noWrap:u}){let d=(0,i.AK)(o.ButtonGroup,t&&o[t],r&&o[(0,i.OZ)("variant",r)],s&&o.fullWidth,u&&o.noWrap),p=(0,a.gD)(e).map((e,t)=>n.createElement(l,{button:e,key:t}));return n.createElement("div",{className:d,"data-buttongroup-variant":r,"data-buttongroup-connected-top":c,"data-buttongroup-full-width":s,"data-buttongroup-no-wrap":u},p)}},6972:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(6193),i=r(8705),a=r(8656),o=r(4923);function s(e){let{as:t="div",bevel:r=!0,borderRadius:i,boxShadow:a,children:s,zIndex:c="0"}=e;return n.createElement(t,{className:"Polaris-ShadowBevel",style:{"--pc-shadow-bevel-z-index":c,...(0,o.OX)("shadow-bevel","content",l(r,e=>e?'""':"none")),...(0,o.OX)("shadow-bevel","box-shadow",l(r,e=>e?`var(--p-shadow-${a})`:"none")),...(0,o.OX)("shadow-bevel","border-radius",l(r,e=>e?`var(--p-border-radius-${i})`:"var(--p-border-radius-0)"))}},s)}function l(e,t){return"boolean"==typeof e?t(e):Object.fromEntries(Object.entries(e).map(([e,r])=>[e,t(r)]))}var c=r(8264);let u=({children:e,background:t="bg-surface",padding:r={xs:"400"},roundedAbove:o="sm"})=>{let l=!!(0,i.kC)()[`${o}Up`];return n.createElement(a.O.Provider,{value:!0},n.createElement(s,{boxShadow:"100",borderRadius:l?"300":"0",zIndex:"32"},n.createElement(c.x,{background:t,padding:r,overflowX:"clip",overflowY:"clip",minHeight:"100%"},e)))}},5690:function(e,t,r){"use strict";r.d(t,{w:function(){return ea}});var n,i,a=r(6193),o=r(7279),s=r.n(o),l=r(4208),c=r(4923),u=r(4849);function d(e,t,r,n){return e>=t+("left"===n?0:30)&&e<=r-30}var p={DataTable:"Polaris-DataTable",condensed:"Polaris-DataTable--condensed",Navigation:"Polaris-DataTable__Navigation",Pip:"Polaris-DataTable__Pip","Pip-visible":"Polaris-DataTable__Pip--visible",ScrollContainer:"Polaris-DataTable__ScrollContainer",Table:"Polaris-DataTable__Table",TableRow:"Polaris-DataTable__TableRow",Cell:"Polaris-DataTable__Cell",IncreasedTableDensity:"Polaris-DataTable__IncreasedTableDensity",ZebraStripingOnData:"Polaris-DataTable__ZebraStripingOnData",RowCountIsEven:"Polaris-DataTable__RowCountIsEven",ShowTotalsInFooter:"Polaris-DataTable__ShowTotalsInFooter","Cell-separate":"Polaris-DataTable__Cell--separate","Cell-firstColumn":"Polaris-DataTable__Cell--firstColumn","Cell-numeric":"Polaris-DataTable__Cell--numeric","Cell-truncated":"Polaris-DataTable__Cell--truncated","Cell-header":"Polaris-DataTable__Cell--header","Cell-sortable":"Polaris-DataTable__Cell--sortable","Heading-left":"Polaris-DataTable__Heading--left","Cell-verticalAlignTop":"Polaris-DataTable__Cell--verticalAlignTop","Cell-verticalAlignBottom":"Polaris-DataTable__Cell--verticalAlignBottom","Cell-verticalAlignMiddle":"Polaris-DataTable__Cell--verticalAlignMiddle","Cell-verticalAlignBaseline":"Polaris-DataTable__Cell--verticalAlignBaseline",hoverable:"Polaris-DataTable--hoverable","Cell-hovered":"Polaris-DataTable__Cell--hovered",Icon:"Polaris-DataTable__Icon",Heading:"Polaris-DataTable__Heading",StickyHeaderEnabled:"Polaris-DataTable__StickyHeaderEnabled",StickyHeaderWrapper:"Polaris-DataTable__StickyHeaderWrapper","Cell-sorted":"Polaris-DataTable__Cell--sorted","Cell-total":"Polaris-DataTable__Cell--total",ShowTotals:"Polaris-DataTable__ShowTotals","Cell-total-footer":"Polaris-DataTable--cellTotalFooter",Footer:"Polaris-DataTable__Footer",StickyHeaderInner:"Polaris-DataTable__StickyHeaderInner","StickyHeaderInner-isSticky":"Polaris-DataTable__StickyHeaderInner--isSticky",StickyHeaderTable:"Polaris-DataTable__StickyHeaderTable",FixedFirstColumn:"Polaris-DataTable__FixedFirstColumn",StickyTableHeadingsRow:"Polaris-DataTable__StickyTableHeadingsRow",TooltipContent:"Polaris-DataTable__TooltipContent"},h=function(e){return a.createElement("svg",Object.assign({viewBox:"0 0 20 20"},e),a.createElement("path",{fillOpacity:.33,fillRule:"evenodd",d:"M9.116 4.823a1.25 1.25 0 0 1 1.768 0l2.646 2.647a.75.75 0 0 1-1.06 1.06l-2.47-2.47-2.47 2.47a.75.75 0 1 1-1.06-1.06l2.646-2.647Z"}),a.createElement("path",{fillRule:"evenodd",d:"M9.116 15.177a1.25 1.25 0 0 0 1.768 0l2.646-2.647a.75.75 0 0 0-1.06-1.06l-2.47 2.47-2.47-2.47a.75.75 0 0 0-1.06 1.06l2.646 2.647Z"}))};h.displayName="SortDescendingIcon";var f=function(e){return a.createElement("svg",Object.assign({viewBox:"0 0 20 20"},e),a.createElement("path",{fillRule:"evenodd",d:"M9.116 4.323a1.25 1.25 0 0 1 1.768 0l2.646 2.647a.75.75 0 0 1-1.06 1.06l-2.47-2.47-2.47 2.47a.75.75 0 1 1-1.06-1.06l2.646-2.647Z"}),a.createElement("path",{fillOpacity:.33,fillRule:"evenodd",d:"M9.116 15.677a1.25 1.25 0 0 0 1.768 0l2.646-2.647a.75.75 0 0 0-1.06-1.06l-2.47 2.47-2.47-2.47a.75.75 0 0 0-1.06 1.06l2.646 2.647Z"}))};f.displayName="SortAscendingIcon";var m=r(1532),y=r(1112),g=r(9888),v={TooltipContainer:"Polaris-Tooltip__TooltipContainer",HasUnderline:"Polaris-Tooltip__HasUnderline"},b=r(8100),w=r(7636),E={TooltipOverlay:"Polaris-Tooltip-TooltipOverlay",Tail:"Polaris-Tooltip-TooltipOverlay__Tail",positionedAbove:"Polaris-Tooltip-TooltipOverlay--positionedAbove",measuring:"Polaris-Tooltip-TooltipOverlay--measuring",measured:"Polaris-Tooltip-TooltipOverlay--measured",instant:"Polaris-Tooltip-TooltipOverlay--instant",Content:"Polaris-Tooltip-TooltipOverlay__Content",default:"Polaris-Tooltip-TooltipOverlay--default",wide:"Polaris-Tooltip-TooltipOverlay--wide"},S=r(8132);function A(){return new S.U({top:window.scrollY,left:window.scrollX,height:window.innerHeight,width:document.body.clientWidth})}var _={PositionedOverlay:"Polaris-PositionedOverlay",fixed:"Polaris-PositionedOverlay--fixed",preventInteraction:"Polaris-PositionedOverlay--preventInteraction"},C=r(5284),P=r(3337);let k={childList:!0,subtree:!0,characterData:!0,attributeFilter:["style"]};class x extends a.PureComponent{constructor(e){super(e),this.state={measuring:!0,activatorRect:(0,S.P)(this.props.activator),right:void 0,left:void 0,top:0,height:0,width:null,positioning:"below",zIndex:null,outsideScrollableContainer:!1,lockPosition:!1,chevronOffset:0},this.overlay=null,this.scrollableContainers=[],this.overlayDetails=()=>{let{measuring:e,left:t,right:r,positioning:n,height:i,activatorRect:a,chevronOffset:o}=this.state;return{measuring:e,left:t,right:r,desiredHeight:i,positioning:n,activatorRect:a,chevronOffset:o}},this.setOverlay=e=>{this.overlay=e},this.setScrollableContainers=()=>{let e=[],t=C.R.forNode(this.props.activator);if(t)for(e.push(t);t?.parentElement;)e.push(t=C.R.forNode(t.parentElement));this.scrollableContainers=e},this.registerScrollHandlers=()=>{this.scrollableContainers.forEach(e=>{e.addEventListener("scroll",this.handleMeasurement)})},this.unregisterScrollHandlers=()=>{this.scrollableContainers.forEach(e=>{e.removeEventListener("scroll",this.handleMeasurement)})},this.handleMeasurement=()=>{let{lockPosition:e,top:t}=this.state;this.observer.disconnect(),this.setState(({left:e,top:t,right:r})=>({left:e,right:r,top:t,height:0,positioning:"below",measuring:!0}),()=>{if(null==this.overlay||null==this.firstScrollableContainer)return;let{activator:r,preferredPosition:n="below",preferredAlignment:i="center",onScrollOut:a,fullWidth:o,fixed:s,preferInputActivator:l=!0}=this.props,c=l&&r.querySelector("input")||r,d=(0,S.P)(c),p=(0,S.P)(this.overlay),h=this.firstScrollableContainer===document?document.body:this.firstScrollableContainer,f=(0,S.P)(h),m=o||"cover"===n?new S.U({...p,width:d.width}):p;h===document.body&&(f.height=document.body.scrollHeight);let y=0,g=h.querySelector(`${u.VT.selector}`);g&&(y=g.clientHeight);let v=this.overlay.firstElementChild&&this.overlay.firstChild instanceof HTMLElement?function(e){let t=window.getComputedStyle(e);return{activator:parseFloat(t.marginTop||"0"),container:parseFloat(t.marginBottom||"0"),horizontal:parseFloat(t.marginLeft||"0")}}(this.overlay.firstElementChild):{activator:0,container:0,horizontal:0},b=A(),w=function(e){let t=e.closest(u.EY.selector)||document.body,r=t===document.body?"auto":parseInt(window.getComputedStyle(t).zIndex||"0",10);return"auto"===r||isNaN(r)?null:r}(r),E=function(e,t,r,n,i,a,o,s=0){let l=e.top,c=l+e.height,u=e.top-s,d=i.height-e.top-e.height,p=t.height,h=r.activator+r.container,f=r.container,m=e.top-Math.max(n.top,0),y=i.top+Math.min(i.height,n.top+n.height)-(e.top+e.height),g=m>=f,v=y>=f,b=Math.min(u,p),w=Math.min(u+e.height,p),E=Math.min(d+e.height,p),S=o?0:i.top,A={height:b-h,top:l+S-b,positioning:"above"},_={height:Math.min(d,p)-h,top:c+S,positioning:"below"},C={height:w-h,top:l+S-b+e.height+h,positioning:"cover"};return"above"===a?(g||m>=y&&!v)&&(u>p||u>d)?A:_:"below"===a?(v||y>=m&&!g)&&(d>p||d>u)?_:A:"cover"===a?(v||y>=m&&!g)&&(d+e.height>p||d>u)?{height:E-h,top:l+S,positioning:"cover"}:C:g&&v?u>d?A:_:m>f?A:_}(d,m,v,f,b,n,s,y),_=function(e,t,r,n,i){let a=r.width-t.width;return"left"===i?Math.min(a,Math.max(0,e.left-n.horizontal)):"right"===i?Math.min(a,Math.max(0,r.width-(e.left+e.width)-n.horizontal)):Math.min(a,Math.max(0,e.center.x-t.width/2))}(d,m,b,v,i),C=d.center.x-_+2*v.horizontal;this.setState({measuring:!1,activatorRect:(0,S.P)(r),left:"right"!==i?_:void 0,right:"right"===i?_:void 0,top:e?t:E.top,lockPosition:!!s,height:E.height||0,width:o||"cover"===n?m.width:null,positioning:E.positioning,outsideScrollableContainer:null!=a&&function(e,t){let{center:r}=e;return r.y<t.top||r.y>t.top+t.height}(d,function(e,t=A()){let r=Math.max(e.top,0),n=Math.max(e.left,0),i=Math.min(e.top+e.height,t.height),a=Math.min(e.left+e.width,t.width);return new S.U({top:r,left:n,height:i-r,width:a-n})}(f)),zIndex:null==w?w:w+1,chevronOffset:C},()=>{this.overlay&&(this.observer.observe(this.overlay,k),this.observer.observe(r,k))})})},this.observer=new MutationObserver(this.handleMeasurement)}componentDidMount(){this.setScrollableContainers(),this.scrollableContainers.length&&!this.props.fixed&&this.registerScrollHandlers(),this.handleMeasurement()}componentWillUnmount(){this.observer.disconnect(),this.scrollableContainers.length&&!this.props.fixed&&this.unregisterScrollHandlers()}componentDidUpdate(){let{outsideScrollableContainer:e,top:t}=this.state,{onScrollOut:r,active:n}=this.props;n&&null!=r&&0!==t&&e&&r()}render(){let{left:e,right:t,top:r,zIndex:n,width:i}=this.state,{render:o,fixed:s,preventInteraction:l,classNames:u,zIndexOverride:d}=this.props,p={top:null==r||isNaN(r)?void 0:r,left:null==e||isNaN(e)?void 0:e,right:null==t||isNaN(t)?void 0:t,width:null==i||isNaN(i)?void 0:i,zIndex:d||n||void 0},h=(0,c.AK)(_.PositionedOverlay,s&&_.fixed,l&&_.preventInteraction,u);return a.createElement("div",{className:h,style:p,ref:this.setOverlay},a.createElement(P.h,{event:"resize",handler:this.handleMeasurement}),o(this.overlayDetails()))}get firstScrollableContainer(){return this.scrollableContainers[0]??null}forceUpdatePosition(){requestAnimationFrame(this.handleMeasurement)}}let T=a.createElement(a.Fragment,null,a.createElement("path",{d:"M18.829 8.171 11.862.921A3 3 0 0 0 7.619.838L0 8.171h1.442l6.87-6.612a2 2 0 0 1 2.83.055l6.3 6.557h1.387Z",fill:"var(--p-color-tooltip-tail-up-border-experimental)"}),a.createElement("path",{d:"M17.442 10.171h-16v-2l6.87-6.612a2 2 0 0 1 2.83.055l6.3 6.557v2Z",fill:"var(--p-color-bg-surface)"})),O=a.createElement(a.Fragment,null,a.createElement("path",{d:"m0 2 6.967 7.25a3 3 0 0 0 4.243.083L18.829 2h-1.442l-6.87 6.612a2 2 0 0 1-2.83-.055L1.387 2H0Z",fill:"var(--p-color-tooltip-tail-down-border-experimental)"}),a.createElement("path",{d:"M1.387 0h16v2l-6.87 6.612a2 2 0 0 1-2.83-.055L1.387 2V0Z",fill:"var(--p-color-bg-surface)"}));function R({active:e,activator:t,preferredPosition:r="above",preventInteraction:n,id:i,children:o,accessibilityLabel:s,width:l,padding:d,borderRadius:p,zIndexOverride:h,instant:f}){let y=(0,m.Q)();return e?a.createElement(x,{active:e,activator:t,preferredPosition:r,preventInteraction:n,render:function(e){let{measuring:t,desiredHeight:r,positioning:n,chevronOffset:h}=e,m=(0,c.AK)(E.TooltipOverlay,t&&E.measuring,!t&&E.measured,f&&E.instant,"above"===n&&E.positionedAbove),g=(0,c.AK)(E.Content,l&&E[l]),v=t?void 0:{minHeight:r},b={"--pc-tooltip-chevron-x-pos":`${h}px`,"--pc-tooltip-border-radius":p?`var(--p-border-radius-${p})`:void 0,"--pc-tooltip-padding":d&&"default"===d?"var(--p-space-100) var(--p-space-200)":`var(--p-space-${d})`};return a.createElement("div",Object.assign({style:b,className:m},u.EY.props),a.createElement("svg",{className:E.Tail,width:"19",height:"11",fill:"none"},"above"===n?O:T),a.createElement("div",{id:i,role:"tooltip",className:g,style:{...v,...b},"aria-label":s?y.translate("Polaris.TooltipOverlay.accessibilityLabel",{label:s}):void 0},o))},zIndexOverride:h}):null}var H=r(5296);function I({children:e,content:t,dismissOnMouseOut:r,active:n,hoverDelay:i,preferredPosition:o="above",activatorWrapper:s="span",accessibilityLabel:l,width:u="default",padding:d="default",borderRadius:p,zIndexOverride:h,hasUnderline:f,persistOnClick:m,onOpen:E,onClose:S}){let{value:A,setTrue:_,setFalse:C}=(0,g.O)(!!n),{value:P,toggle:k}=(0,g.O)(!!n&&!!m),[x,T]=(0,a.useState)(null),{presenceList:O,addPresence:I,removePresence:D}=function(){let e=(0,a.useContext)(b.o);if(!e)throw Error("No ephemeral presence manager was provided. Your application must be wrapped in an <AppProvider> component. See https://polaris.shopify.com/components/app-provider for implementation instructions.");return e}(),j=(0,a.useId)(),N=(0,a.useRef)(null),$=(0,a.useRef)(!1),[K,U]=(0,a.useState)(!n),W=(0,a.useRef)(null),F=(0,a.useRef)(null),B=(0,a.useCallback)(()=>{!1!==n&&_()},[n,_]);(0,a.useEffect)(()=>{let e=(N.current?(0,y.so)(N.current):null)||N.current;e&&(e.tabIndex=0,e.setAttribute("aria-describedby",j),e.setAttribute("data-polaris-tooltip-activator","true"))},[j,e]),(0,a.useEffect)(()=>()=>{W.current&&clearTimeout(W.current),F.current&&clearTimeout(F.current)},[]);let L=(0,a.useCallback)(()=>{U(!O.tooltip&&!A),E?.(),I("tooltip")},[I,O.tooltip,E,A]),J=(0,a.useCallback)(()=>{S?.(),U(!1),F.current=setTimeout(()=>{D("tooltip")},150)},[D,S]),q=(0,a.useCallback)(e=>{"Escape"===e.key&&(J?.(),C(),m&&k())},[C,J,m,k]);(0,a.useEffect)(()=>{!1===n&&A&&(J(),C())},[n,A,J,C]);let z=x?a.createElement(w.h,{idPrefix:"tooltip"},a.createElement(R,{id:j,preferredPosition:o,activator:x,active:A,accessibilityLabel:l,onClose:M,preventInteraction:r,width:u,padding:d,borderRadius:p||"200",zIndexOverride:h,instant:!K},a.createElement(H.x,{as:"span",variant:"bodyMd"},t))):null,V=(0,c.AK)("div"===s&&v.TooltipContainer,f&&v.HasUnderline);return a.createElement(s,{onFocus:()=>{L(),B()},onBlur:()=>{J(),C(),m&&k()},onMouseLeave:function(){W.current&&(clearTimeout(W.current),W.current=null),$.current=!1,J(),P||C()},onMouseOver:function(){$.current||($.current=!0,i&&!O.tooltip?W.current=setTimeout(()=>{L(),B()},i):(L(),B()))},onMouseDown:m?k:void 0,ref:function(e){if(null==e){N.current=null,T(null);return}e.firstElementChild instanceof HTMLElement&&T(e.firstElementChild),N.current=e},onKeyUp:q,className:V},e,z)}function M(){}var D=r(8364);function j({content:e,contentType:t,nthColumn:r,firstColumn:n,truncate:i,header:o,total:s,totalInFooter:l,sorted:d,sortable:y,sortDirection:g,inFixedNthColumn:v,verticalAlign:b="top",defaultSortDirection:w="ascending",onSort:E,colSpan:S,setRef:A=()=>{},stickyHeadingCell:_=!1,stickyCellWidth:C,hovered:P=!1,handleFocus:k=()=>{},hasFixedNthColumn:x=!1,fixedCellVisible:T=!1,firstColumnMinWidth:O,style:R,lastFixedFirstColumn:H}){let I=(0,m.Q)(),M=(0,c.AK)(p.Cell,p[`Cell-${(0,c.OZ)("verticalAlign",b)}`],n&&p["Cell-firstColumn"],i&&p["Cell-truncated"],o&&p["Cell-header"],s&&p["Cell-total"],l&&p["Cell-total-footer"],"numeric"===t&&p["Cell-numeric"],y&&p["Cell-sortable"],d&&p["Cell-sorted"],_&&p.StickyHeaderCell,P&&p["Cell-hovered"],H&&v&&T&&p["Cell-separate"],r&&v&&_&&p.FixedFirstColumn),j=(0,c.AK)(o&&p.Heading,o&&"text"===t&&p["Heading-left"]),$=(0,c.AK)(y&&p.Icon),K=d&&g?g:w,U="ascending"===g?"descending":"ascending",W=I.translate("Polaris.DataTable.sortAccessibilityLabel",{direction:d?U:K}),F=a.createElement("span",{className:$},a.createElement(D.J,{source:"descending"===K?h:f,accessibilityLabel:W})),B=!(_&&x&&r&&!v),L=a.createElement("button",{className:j,onClick:E,onFocus:k,tabIndex:B?0:-1},F,e),J=y?L:e,q=S&&S>1?{colSpan:S}:{},z=r&&O?{minWidth:O}:{minWidth:C},V=a.createElement("th",Object.assign({ref:A},u.oU.props,q,{className:M,"aria-sort":g,style:{...R,...z},"data-index-table-sticky-heading":!0}),J),G=o?a.createElement("th",Object.assign({},u.oU.props,{"aria-sort":g},q,{ref:A,className:M,scope:"col",style:{...z}}),J):a.createElement("th",Object.assign({},q,{ref:A,className:M,scope:"row",style:{...z}}),i?a.createElement(N,{className:p.TooltipContent},e):e),X=o||n||r?G:a.createElement("td",Object.assign({className:M},q),e);return _?V:X}let N=({children:e,className:t=""})=>{let r=(0,a.useRef)(null),{current:n}=r,i=a.createElement("span",{ref:r,className:t},e);return n?.scrollWidth>n?.offsetWidth?a.createElement(I,{content:r.current.innerText},i):i};var $=function(e){return a.createElement("svg",Object.assign({viewBox:"0 0 20 20"},e),a.createElement("path",{fillRule:"evenodd",d:"M11.764 5.204a.75.75 0 0 1 .032 1.06l-3.516 3.736 3.516 3.736a.75.75 0 1 1-1.092 1.028l-4-4.25a.75.75 0 0 1 0-1.028l4-4.25a.75.75 0 0 1 1.06-.032Z"}))};$.displayName="ChevronLeftIcon";var K=function(e){return a.createElement("svg",Object.assign({viewBox:"0 0 20 20"},e),a.createElement("path",{fillRule:"evenodd",d:"M7.72 14.53a.75.75 0 0 1 0-1.06l3.47-3.47-3.47-3.47a.75.75 0 0 1 1.06-1.06l4 4a.75.75 0 0 1 0 1.06l-4 4a.75.75 0 0 1-1.06 0Z"}))};K.displayName="ChevronRightIcon",(n=i||(i={})).Input="INPUT",n.Textarea="TEXTAREA",n.Select="SELECT",n.ContentEditable="contenteditable";var U={Pagination:"Polaris-Pagination",table:"Polaris-Pagination--table",TablePaginationActions:"Polaris-Pagination__TablePaginationActions"},W=r(3223),F=r(8264),B=r(3342),L=r(5121),J=r(3386);function q({hasNext:e,hasPrevious:t,nextURL:r,previousURL:n,onNext:i,onPrevious:o,nextTooltip:s,previousTooltip:l,nextKeys:u,previousKeys:d,accessibilityLabel:p,accessibilityLabels:h,label:f,type:y="page"}){let g=(0,m.Q)(),v=(0,a.createRef)(),b=p||g.translate("Polaris.Pagination.pagination"),w=h?.previous||g.translate("Polaris.Pagination.previous"),E=h?.next||g.translate("Polaris.Pagination.next"),S=a.createElement(J.z,{icon:$,accessibilityLabel:w,url:n,onClick:o,disabled:!t,id:"previousURL"}),A=l&&t?a.createElement(I,{activatorWrapper:"span",content:l,preferredPosition:"below"},S):S,_=a.createElement(J.z,{icon:K,accessibilityLabel:E,url:r,onClick:i,disabled:!e,id:"nextURL"}),C=s&&e?a.createElement(I,{activatorWrapper:"span",content:s,preferredPosition:"below"},_):_,P=o||G,k=d&&(n||o)&&t&&d.map(e=>a.createElement(W.n,{key:e,keyCode:e,handler:n?V(z("previousURL",v)):V(P)})),x=i||G,T=u&&(r||i)&&e&&u.map(e=>a.createElement(W.n,{key:e,keyCode:e,handler:r?V(z("nextURL",v)):V(x)}));if("table"===y){let e=f?a.createElement(F.x,{padding:"300",paddingBlockStart:"0",paddingBlockEnd:"0"},a.createElement(H.x,{as:"span",variant:"bodySm",fontWeight:"medium"},f)):null;return a.createElement("nav",{"aria-label":b,ref:v,className:(0,c.AK)(U.Pagination,U.table)},k,T,a.createElement(F.x,{background:"bg-surface-secondary",paddingBlockStart:"150",paddingBlockEnd:"150",paddingInlineStart:"300",paddingInlineEnd:"200"},a.createElement(B.g,{align:"center",blockAlign:"center"},a.createElement("div",{className:U.TablePaginationActions,"data-buttongroup-variant":"segmented"},a.createElement("div",null,A),e,a.createElement("div",null,C)))))}let O=e&&t?a.createElement("span",null,f):a.createElement(H.x,{tone:"subdued",as:"span"},f),R=f?a.createElement(F.x,{padding:"300",paddingBlockStart:"0",paddingBlockEnd:"0"},a.createElement("div",{"aria-live":"polite"},O)):null;return a.createElement("nav",{"aria-label":b,ref:v,className:U.Pagination},k,T,a.createElement(L.h,{variant:"segmented"},A,R,C))}function z(e,t){return()=>{if(null==t.current)return;let r=t.current.querySelector(`#${e}`);r&&r.click()}}function V(e){return()=>{!function(){if(null==document||null==document.activeElement)return!1;let{tagName:e}=document.activeElement;return e===i.Input||e===i.Textarea||e===i.Select||document.activeElement.hasAttribute(i.ContentEditable)}()&&e()}}function G(){}var X=r(9277);function Z({children:e,onMount:t,fallback:r=null}){let n=(0,X.u)();return(0,a.useEffect)(()=>{n&&t&&t()},[n,t]),a.createElement(a.Fragment,null,n?e:r)}var Y=r(7272),Q=r(727);class ee extends a.Component{constructor(...e){super(...e),this.state={isSticky:!1,style:{}},this.placeHolderNode=null,this.stickyNode=null,this.setPlaceHolderNode=e=>{this.placeHolderNode=e},this.setStickyNode=e=>{this.stickyNode=e},this.handlePositioning=(e,t=0,r=0,n=0)=>{let{isSticky:i}=this.state;(e&&!i||!e&&i)&&(this.adjustPlaceHolderNode(e),this.setState({isSticky:!i},()=>null==this.props.onStickyChange?null:(this.props.onStickyChange(!i),null==this.props.boundingElement)?null:void this.props.boundingElement.toggleAttribute("data-sticky-active"))),this.setState({style:e?{position:"fixed",top:t,left:r,width:n}:{}})},this.adjustPlaceHolderNode=e=>{this.placeHolderNode&&this.stickyNode&&(this.placeHolderNode.style.paddingBottom=e?`${(0,S.P)(this.stickyNode).height}px`:"0px")}}componentDidMount(){let{boundingElement:e,offset:t=!1,disableWhenStacked:r=!1,stickyManager:n}=this.props;this.stickyNode&&this.placeHolderNode&&n.registerStickyItem({stickyNode:this.stickyNode,placeHolderNode:this.placeHolderNode,handlePositioning:this.handlePositioning,offset:t,boundingElement:e,disableWhenStacked:r})}componentWillUnmount(){let{stickyManager:e}=this.props;this.stickyNode&&e.unregisterStickyItem(this.stickyNode)}render(){let{style:e,isSticky:t}=this.state,{children:r}=this.props,n="function"==typeof r?r(t):r;return a.createElement("div",null,a.createElement("div",{ref:this.setPlaceHolderNode}),a.createElement("div",{ref:this.setStickyNode,style:e},n))}}function et(e){let t=function(){let e=(0,a.useContext)(Q.p);if(!e)throw new Y.U("No StickyManager was provided.");return e}();return a.createElement(ee,Object.assign({},e,{stickyManager:t}))}function er({columnVisibilityData:e,isScrolledFarthestLeft:t,isScrolledFarthestRight:r,navigateTableLeft:n,navigateTableRight:i,fixedFirstColumns:o,setRef:s=()=>{}}){let l=(0,m.Q)(),u=e.map((e,t)=>{if(t<o)return;let r=(0,c.AK)(p.Pip,e.isVisible&&p["Pip-visible"]);return a.createElement("div",{className:r,key:`pip-${t}`})}),d=l.translate("Polaris.DataTable.navAccessibilityLabel",{direction:"left"}),h=l.translate("Polaris.DataTable.navAccessibilityLabel",{direction:"right"});return a.createElement("div",{className:p.Navigation,ref:s},a.createElement(J.z,{variant:"tertiary",icon:$,disabled:t,accessibilityLabel:d,onClick:n}),u,a.createElement(J.z,{variant:"tertiary",icon:K,disabled:r,accessibilityLabel:h,onClick:i}))}let en=e=>{let t=[];return e&&e.forEach(e=>{t.push(e.clientHeight)}),t};class ei extends a.PureComponent{constructor(...e){super(...e),this.state={condensed:!1,columnVisibilityData:[],isScrolledFarthestLeft:!0,isScrolledFarthestRight:!1,rowHovered:void 0},this.dataTable=(0,a.createRef)(),this.scrollContainer=(0,a.createRef)(),this.table=(0,a.createRef)(),this.stickyTable=(0,a.createRef)(),this.stickyNav=null,this.headerNav=null,this.tableHeadings=[],this.stickyHeadings=[],this.tableHeadingWidths=[],this.stickyHeaderActive=!1,this.scrollStopTimer=null,this.handleResize=(0,l.D)(()=>{let{table:{current:e},scrollContainer:{current:t}}=this,r=!1;e&&t&&(r=e.scrollWidth>t.clientWidth+1),this.setState({condensed:r,...this.calculateColumnVisibilityData(r)})}),this.setCellRef=({ref:e,index:t,inStickyHeader:r})=>{if(null!=e){if(r){this.stickyHeadings[t]=e;let r=e.querySelector("button");null!=r&&r.addEventListener("focus",this.handleHeaderButtonFocus)}else this.tableHeadings[t]=e,this.tableHeadingWidths[t]=e.clientWidth}},this.changeHeadingFocus=()=>{let e;let{tableHeadings:t,stickyHeadings:r,stickyNav:n,headerNav:i}=this,a=r.findIndex(e=>e===document.activeElement?.parentElement),o=t.findIndex(e=>e===document.activeElement?.parentElement),s=n?.querySelectorAll("button"),l=i?.querySelectorAll("button"),c=-1;s?.forEach((e,t)=>{e===document.activeElement&&(c=t)});let u=-1;return(l?.forEach((e,t)=>{e===document.activeElement&&(u=t)}),a<0&&o<0&&c<0&&u<0)?null:(a>=0?e=t[a].querySelector("button"):o>=0&&(e=r[o].querySelector("button")),c>=0?e=l?.[c]:u>=0&&(e=s?.[u]),null==e)?null:void(e.style.visibility="visible",e.focus(),e.style.removeProperty("visibility"))},this.calculateColumnVisibilityData=e=>{let t=this.fixedFirstColumns(),{table:{current:r},scrollContainer:{current:n},dataTable:{current:i}}=this,{stickyHeader:a}=this.props;if((a||e)&&r&&n&&i){let e=r.querySelectorAll(u.oU.selector),a=e[t-1],o=t?a.offsetLeft+a.offsetWidth:0;if(e.length>0){let r=e.length-1,a=n.scrollLeft+o,s=n.scrollLeft+i.offsetWidth,l={firstVisibleColumnIndex:r,tableLeftVisibleEdge:a,tableRightVisibleEdge:s},c=[...e].map(function(e,t){let{firstVisibleColumnIndex:r,tableLeftVisibleEdge:n,tableRightVisibleEdge:i}=l,a=e.offsetLeft,o=a+e.offsetWidth,s=d(a,n,i,"left"),c=d(o,n,i,"right"),u=s||c,p=e.offsetWidth;return u&&(l.firstVisibleColumnIndex=Math.min(r,t)),{leftEdge:a,rightEdge:o,isVisible:u,width:p,index:t}}),u=c[c.length-1],p=t?a===o:0===a;return{columnVisibilityData:c,...function(e,t){let{firstVisibleColumnIndex:r}=e;return{previousColumn:t[Math.max(r-1,0)],currentColumn:t[r]}}(l,c),isScrolledFarthestLeft:p,isScrolledFarthestRight:u.rightEdge<=s}}}return{columnVisibilityData:[],previousColumn:void 0,currentColumn:void 0}},this.handleHeaderButtonFocus=e=>{let t=this.fixedFirstColumns();if(null==this.scrollContainer.current||null==e.target||0===this.state.columnVisibilityData.length)return;let r=e.target.parentNode,n=this.scrollContainer.current.scrollLeft,i=this.scrollContainer.current.offsetWidth,a=this.state.columnVisibilityData.length>0?this.state.columnVisibilityData[t]?.rightEdge:0,o=r.offsetLeft,s=r.offsetLeft+r.offsetWidth;n>o-a&&(this.scrollContainer.current.scrollLeft=o-a),s>n+i&&(this.scrollContainer.current.scrollLeft=s-i)},this.stickyHeaderScrolling=()=>{let{current:e}=this.stickyTable,{current:t}=this.scrollContainer;null!=e&&null!=t&&(e.scrollLeft=t.scrollLeft)},this.scrollListener=()=>{this.scrollStopTimer&&clearTimeout(this.scrollStopTimer),this.scrollStopTimer=setTimeout(()=>{this.setState(e=>({...this.calculateColumnVisibilityData(e.condensed)}))},100),this.setState({isScrolledFarthestLeft:this.scrollContainer.current?.scrollLeft===0}),this.props.stickyHeader&&this.stickyHeaderActive&&this.stickyHeaderScrolling()},this.handleHover=e=>()=>{this.setState({rowHovered:e})},this.handleFocus=e=>{let t=this.fixedFirstColumns();if(null==this.scrollContainer.current||null==e.target)return;let r=e.target.parentNode,n=this.props?this.state.columnVisibilityData[t]?.rightEdge:0,i=r.offsetLeft-n;this.scrollContainer.current.scrollLeft>i&&(this.scrollContainer.current.scrollLeft=i)},this.navigateTable=e=>{let t=this.fixedFirstColumns(),{currentColumn:r,previousColumn:n}=this.state,i=this.state.columnVisibilityData[t-1]?.rightEdge;if(!r||!n)return;let a=0;for(let e=0;e<r.index;e++)a+=this.state.columnVisibilityData[e].width;let{current:o}=this.scrollContainer;return()=>{let s=0;s=t?"right"===e?a-i+r.width:a-n.width-i:"right"===e?r.rightEdge:n.leftEdge,o&&(o.scrollLeft=s,requestAnimationFrame(()=>{this.setState(e=>({...this.calculateColumnVisibilityData(e.condensed)}))}))}},this.renderHeading=({heading:e,headingIndex:t,inFixedNthColumn:r,inStickyHeader:n})=>{let i;let{sortable:o,truncate:s=!1,columnContentTypes:l,defaultSortDirection:c,initialSortColumnIndex:u=0,verticalAlign:d,firstColumnMinWidth:p}=this.props,h=this.fixedFirstColumns(),{sortDirection:f=c,sortedColumnIndex:m=u,isScrolledFarthestLeft:y}=this.state,g=`heading-cell-${t}`,v=`stickyheader-${t}`,b=n?v:g;if(o){let e=o[t],r=e&&m===t;i={defaultSortDirection:c,sorted:r,sortable:e,sortDirection:r?f:"none",onSort:this.defaultOnSort(t),fixedNthColumn:h,inFixedNthColumn:h}}let w=n?this.tableHeadingWidths[t]:void 0,E={header:!0,stickyHeadingCell:n,content:e,contentType:l[t],nthColumn:t<h,fixedFirstColumns:h,truncate:s,headingIndex:t,...i,verticalAlign:d,handleFocus:this.handleFocus,stickyCellWidth:w,fixedCellVisible:!y,firstColumnMinWidth:p};return r&&n?[a.createElement(j,Object.assign({key:b},E,{setRef:e=>{this.setCellRef({ref:e,index:t,inStickyHeader:n})},inFixedNthColumn:!1})),a.createElement(j,Object.assign({key:`${b}-sticky`},E,{setRef:e=>{this.setCellRef({ref:e,index:t,inStickyHeader:n})},inFixedNthColumn:!!h,lastFixedFirstColumn:t===h-1,style:{left:this.state.columnVisibilityData[t]?.leftEdge}}))]:a.createElement(j,Object.assign({key:b},E,{setRef:e=>{this.setCellRef({ref:e,index:t,inStickyHeader:n})},lastFixedFirstColumn:t===h-1,inFixedNthColumn:r}))},this.totalsRowHeading=()=>{let{i18n:e,totals:t,totalsName:r}=this.props,n=r||{singular:e.translate("Polaris.DataTable.totalRowHeading"),plural:e.translate("Polaris.DataTable.totalsRowHeading")};return t&&t.filter(e=>""!==e).length>1?n.plural:n.singular},this.renderTotals=({total:e,index:t})=>{let r,n;let i=this.fixedFirstColumns(),o=`totals-cell-${t}`,{truncate:s=!1,verticalAlign:l,columnContentTypes:c}=this.props;0===t&&(r=this.totalsRowHeading()),""!==e&&t>0&&(n=c[t],r=e);let u=this.props.showTotalsInFooter;return a.createElement(j,{total:!0,totalInFooter:u,nthColumn:t<=i-1,firstColumn:0===t,key:o,content:r,contentType:n,truncate:s,verticalAlign:l})},this.getColSpan=(e,t,r,n)=>{if(this.fixedFirstColumns())return 1;let i=e||1,a=t||r,o=Math.floor(a/i);return 0===n?o+a%i:o},this.defaultRenderRow=({row:e,index:t,inFixedNthColumn:r,rowHeights:n})=>{let{columnContentTypes:i,truncate:o=!1,verticalAlign:s,hoverable:l=!0,headings:u}=this.props,{condensed:d}=this.state,h=this.fixedFirstColumns(),f=(0,c.AK)(p.TableRow,l&&p.hoverable);return a.createElement("tr",{key:`row-${t}`,className:f,onMouseEnter:this.handleHover(t),onMouseLeave:this.handleHover()},e.map((l,c)=>{let p=t===this.state.rowHovered,f=`cell-${c}-row-${t}`,m=this.getColSpan(e.length,u.length,i.length,c);return a.createElement(j,{key:f,content:l,contentType:i[c],nthColumn:c<=h-1,firstColumn:0===c,truncate:o,verticalAlign:s,colSpan:m,hovered:p,style:n?{height:`${n[t]}px`}:{},inFixedNthColumn:d&&r})}))},this.defaultOnSort=e=>{let{onSort:t,defaultSortDirection:r="ascending",initialSortColumnIndex:n}=this.props,{sortDirection:i=r,sortedColumnIndex:a=n}=this.state,o=r;return a===e&&(o="ascending"===i?"descending":"ascending"),()=>{this.setState({sortDirection:o,sortedColumnIndex:e},()=>{t&&t(e,o)})}}}componentDidMount(){this.handleResize()}componentDidUpdate(e){s()(e,this.props)||this.handleResize()}componentWillUnmount(){this.handleResize.cancel()}render(){let{headings:e,totals:t,showTotalsInFooter:r,rows:n,footerContent:i,hideScrollIndicator:o=!1,increasedTableDensity:s=!1,hasZebraStripingOnData:l=!1,stickyHeader:u=!1,hasFixedFirstColumn:d=!1,pagination:h}=this.props,{condensed:f,columnVisibilityData:m,isScrolledFarthestLeft:y,isScrolledFarthestRight:g}=this.state,v=this.fixedFirstColumns(),b=n.length%2==0,w=(0,c.AK)(p.DataTable,f&&p.condensed,t&&p.ShowTotals,r&&p.ShowTotalsInFooter,l&&p.ZebraStripingOnData,l&&b&&p.RowCountIsEven),E=(0,c.AK)(p.TableWrapper,f&&p.condensed,s&&p.IncreasedTableDensity,u&&p.StickyHeaderEnabled),S=a.createElement("tr",null,e.map((e,t)=>this.renderHeading({heading:e,headingIndex:t,inFixedNthColumn:!1,inStickyHeader:!1}))),A=t?a.createElement("tr",null,t.map((e,t)=>this.renderTotals({total:e,index:t}))):null,_=n.map(e=>e.slice(0,v)),C=e.slice(0,v),k=t?.slice(0,v),x=this.table.current?.children[0].childNodes,T=this.table.current?.children[1].childNodes,O=en(x),R=en(T),H=f&&0!==v&&a.createElement("table",{className:(0,c.AK)(p.FixedFirstColumn,!y&&p.separate),style:{width:`${m[v-1]?.rightEdge}px`}},a.createElement("thead",null,a.createElement("tr",{style:{height:`${O[0]}px`}},C.map((e,t)=>this.renderHeading({heading:e,headingIndex:t,inFixedNthColumn:!0,inStickyHeader:!1}))),t&&!r&&a.createElement("tr",{style:{height:`${O[1]}px`}},k?.map((e,t)=>this.renderTotals({total:e,index:t})))),a.createElement("tbody",null,_.map((e,t)=>this.defaultRenderRow({row:e,index:t,inFixedNthColumn:!0,rowHeights:R}))),t&&r&&a.createElement("tfoot",null,a.createElement("tr",null,k?.map((e,t)=>this.renderTotals({total:e,index:t}))))),I=n.map((e,t)=>this.defaultRenderRow({row:e,index:t,inFixedNthColumn:!1})),M=i?a.createElement("div",{className:p.Footer},i):null,D=h?a.createElement(q,Object.assign({type:"table"},h)):null,j=r?null:A,N=r?a.createElement("tfoot",null,A):null,$=e=>o?null:a.createElement(er,{columnVisibilityData:m,isScrolledFarthestLeft:y,isScrolledFarthestRight:g,navigateTableLeft:this.navigateTable("left"),navigateTableRight:this.navigateTable("right"),fixedFirstColumns:v,setRef:t=>{"header"===e?this.headerNav=t:"sticky"===e&&(this.stickyNav=t)}}),K=u?a.createElement(Z,null,a.createElement("div",{className:p.StickyHeaderWrapper,role:"presentation"},a.createElement(et,{boundingElement:this.dataTable.current,onStickyChange:e=>{this.changeHeadingFocus(),this.stickyHeaderActive=e}},t=>{let r=(0,c.AK)(p.StickyHeaderInner,t&&p["StickyHeaderInner-isSticky"]),n=(0,c.AK)(p.StickyHeaderTable,!y&&p.separate);return a.createElement("div",{className:r},a.createElement("div",null,$("sticky")),a.createElement("table",{className:n,ref:this.stickyTable},a.createElement("thead",null,a.createElement("tr",{className:p.StickyTableHeadingsRow},e.map((e,t)=>this.renderHeading({heading:e,headingIndex:t,inFixedNthColumn:!!(t<=v-1&&v),inStickyHeader:!0}))))))}))):null;return a.createElement("div",{className:E,ref:this.dataTable},K,$("header"),a.createElement("div",{className:w},a.createElement("div",{className:p.ScrollContainer,ref:this.scrollContainer},a.createElement(P.h,{event:"resize",handler:this.handleResize}),a.createElement(P.h,{capture:!0,passive:!0,event:"scroll",handler:this.scrollListener}),H,a.createElement("table",{className:p.Table,ref:this.table},a.createElement("thead",null,S,j),a.createElement("tbody",null,I),N)),D,M))}fixedFirstColumns(){let{hasFixedFirstColumn:e,fixedFirstColumns:t=0,headings:r}=this.props,n=e&&!t?1:t;return n>=r.length?0:n}}function ea(e){let t=(0,m.Q)();return a.createElement(ei,Object.assign({},e,{i18n:t}))}},1145:function(e,t,r){"use strict";r.d(t,{M:function(){return P}});var n=r(6193),i=function(e){return n.createElement("svg",Object.assign({viewBox:"0 0 20 20"},e),n.createElement("path",{fillRule:"evenodd",d:"M16.5 10a.75.75 0 0 1-.75.75h-9.69l2.72 2.72a.75.75 0 0 1-1.06 1.06l-4-4a.75.75 0 0 1 0-1.06l4-4a.75.75 0 1 1 1.06 1.06l-2.72 2.72h9.69a.75.75 0 0 1 .75.75Z"}))};i.displayName="ArrowLeftIcon";var a=function(e){return n.createElement("svg",Object.assign({viewBox:"0 0 20 20"},e),n.createElement("path",{fillRule:"evenodd",d:"M3.5 10a.75.75 0 0 1 .75-.75h9.69l-2.72-2.72a.75.75 0 1 1 1.06-1.06l4 4a.75.75 0 0 1 0 1.06l-4 4a.75.75 0 0 1-1.06-1.06l2.72-2.72h-9.69a.75.75 0 0 1-.75-.75Z"}))};a.displayName="ArrowRightIcon";var o=r(4923);function s(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function l(e){return 11===e?0:e+1}function c(e,t){return e.getTime()>t.getTime()}function u(e,t){return e.getTime()<t.getTime()}function d(e,t){return t.some(t=>e.getTime()===t.getTime())}let p=[0,1,2,3,4,5,6];function h(e){let t=[...p];return[...t.splice(e),...t]}function f(e){switch(e){case 0:return"january";case 1:return"february";case 2:return"march";case 3:return"april";case 4:return"may";case 5:return"june";case 6:return"july";case 7:return"august";case 8:return"september";case 9:return"october";case 10:return"november";case 11:return"december"}}function m(e){switch(e){case 0:return"sunday";case 1:return"monday";case 2:return"tuesday";case 3:return"wednesday";case 4:return"thursday";case 5:return"friday";case 6:return"saturday"}}var y={DatePicker:"Polaris-DatePicker",MonthLayout:"Polaris-DatePicker__MonthLayout",MonthContainer:"Polaris-DatePicker__MonthContainer",Month:"Polaris-DatePicker__Month",DayCell:"Polaris-DatePicker__DayCell","DayCell-inRange":"Polaris-DatePicker__DayCell--inRange",Day:"Polaris-DatePicker__Day","Day-inRange":"Polaris-DatePicker__Day--inRange","Day-selected":"Polaris-DatePicker__Day--selected","Day-disabled":"Polaris-DatePicker__Day--disabled",EmptyDayCell:"Polaris-DatePicker__EmptyDayCell",Weekday:"Polaris-DatePicker__Weekday",Header:"Polaris-DatePicker__Header",Title:"Polaris-DatePicker__Title","Day-firstInRange":"Polaris-DatePicker__Day--firstInRange","Day-hasRange":"Polaris-DatePicker__Day--hasRange","Day-hoverRight":"Polaris-DatePicker__Day--hoverRight","Day-lastInRange":"Polaris-DatePicker__Day--lastInRange",Week:"Polaris-DatePicker__Week"},g=r(5296);let v=(0,n.memo)(function({label:e,title:t,current:r}){return n.createElement("th",{"aria-label":e,scope:"col",className:y.Weekday},n.createElement(g.x,{as:"span",variant:"bodySm",alignment:"center",fontWeight:r?"bold":"regular",tone:r?void 0:"subdued"},t))});var b=r(1532);let w=(0,n.memo)(function({day:e,focused:t,onClick:r,onHover:i=E,onFocus:a=E,selected:l,inRange:c,inHoveringRange:u,disabled:d,lastDayOfMonth:p,isLastSelectedDay:h,isFirstSelectedDay:m,isHoveringRight:v,rangeIsDifferent:w,weekday:S,selectedAccessibilityLabelPrefix:A}){let _=(0,b.Q)(),C=(0,n.useRef)(null),P=p||e;if((0,n.useEffect)(()=>{t&&C.current&&C.current.focus()},[t]),!e)return n.createElement("td",{className:y.EmptyDayCell,onMouseOver:()=>i(P)});let k=r&&!d?r.bind(null,e):E,x=s(new Date,e),T=(0,o.AK)(y.DayCell,l&&y["DayCell-selected"],(c||u)&&!d&&y["DayCell-inRange"],h&&y["DayCell-lastInRange"],m&&y["DayCell-firstInRange"],v&&y["DayCell-hoverRight"],w&&y["DayCell-hasRange"]),O=(0,o.AK)(y.Day,l&&y["Day-selected"],d&&y["Day-disabled"],(c||u)&&!d&&y["Day-inRange"],h&&y["Day-lastInRange"],m&&y["Day-firstInRange"],v&&y["Day-hoverRight"],w&&y["Day-hasRange"]),R=e.getDate(),H=(t||l||x||1===R)&&!d?0:-1,I=[l&&A?`${A} `:"",`${x?_.translate("Polaris.DatePicker.today"):""}`,`${S||""} `,`${_.translate(`Polaris.DatePicker.months.${f(e.getMonth())}`)} `,`${R} `,`${e.getFullYear()}`].join("");return n.createElement("td",{className:T},n.createElement("button",{onFocus:()=>a(e),type:"button",ref:C,tabIndex:H,className:O,onMouseOver:()=>i(P),onClick:k,"aria-label":I,"aria-disabled":d,"aria-pressed":l},n.createElement(g.x,{as:"span",variant:"bodySm",alignment:"center",fontWeight:x?"bold":"regular"},R)))});function E(){}function S({focusedDate:e,selected:t,hoverDate:r,disableDatesBefore:i,disableDatesAfter:a,disableSpecificDates:o,allowRange:l,onChange:p=A,onHover:E=A,onFocus:S=A,month:C,year:P,weekStartsOn:k,accessibilityLabelPrefixes:x}){let T=(0,b.Q)(),O=l?_:()=>!1,R=new Date,H=R.getMonth()===C&&R.getFullYear()===P,I=(0,n.useMemo)(()=>(function(e,t,r=0){let n=new Date(t,e,1),i=n.getDay(),a=[[]],o=a[0],s=n,l=h(r);for(let e=0;e<l.indexOf(i);e++)o.push(null);for(;s.getMonth()===e;)7===o.length&&a.push(o=[]),o.push(s),s=new Date(t,e,s.getDate()+1);for(;o.length<7;)o.push(null);return a})(C,P,k),[C,k,P]),M=h(k).map(e=>n.createElement(v,{key:e,title:T.translate(`Polaris.DatePicker.daysAbbreviated.${m(e)}`),label:K(e),current:H&&new Date().getDay()===e})),D=(0,n.useCallback)(e=>{p(function(e,t){if(null==e)return{start:t,end:t};let{start:r,end:n}=e;return n&&(c(r,n)||u(r,n))?{start:t,end:t}:r?u(t,r)?{start:t,end:t}:{start:r,end:t}:n?u(t,n)?{start:t,end:n}:{start:r||n,end:t}:{start:t,end:t}}(l?t:void 0,e))},[l,p,t]),j=(0,n.useMemo)(()=>new Date(P,C+1,0),[C,P]);function N(p,h){let f;if(null==p)return n.createElement(w,{key:h,onHover:E,lastDayOfMonth:j});let m=i&&u(p,i)||a&&c(p,a)||o&&d(p,o),y=l&&t&&function(e,t){if(null==e)return!1;let{start:r}=t;return!!(r&&s(r,e))}(p,t),g=l&&t&&(!s(t.start,t.end)&&function(e,t){if(null==e)return!1;let{end:r}=t;return!!(r&&s(r,e))}(p,t)||r&&s(t.start,t.end)&&c(r,t.start)&&s(p,r)&&!y),v=!(t&&s(t.start,t.end)),b=r&&u(p,r),[A,_]=x;return l&&y||!l&&A?f=A:l&&g&&(f=_),n.createElement(w,{selectedAccessibilityLabelPrefix:f,weekday:K(h),focused:null!=e&&s(p,e),day:p,key:h,onFocus:S,onClick:D,onHover:E,selected:null!=t&&function(e,t){if(null==e)return!1;let{start:r,end:n}=t;return!!(r&&s(r,e)||n&&s(n,e))}(p,t),inRange:null!=t&&function(e,t){if(null==e)return!1;let{start:r,end:n}=t;return!!(r&&e>r&&n&&e<n)}(p,t),disabled:m,inHoveringRange:null!=t&&null!=r&&O(p,t,r),isLastSelectedDay:g,isFirstSelectedDay:y,isHoveringRight:b,rangeIsDifferent:v})}let $=I.map((e,t)=>n.createElement("tr",{className:y.Week,key:t},e.map(N)));return n.createElement("div",{className:y.MonthContainer},n.createElement("table",{role:"grid",className:y.Month},n.createElement("caption",{className:y.Title},n.createElement(g.x,{as:"span",variant:"bodyMd",alignment:"center",fontWeight:H?"bold":"medium"},T.translate(`Polaris.DatePicker.months.${f(C)}`)," ",P)),n.createElement("thead",null,n.createElement("tr",{className:y.WeekHeadings},M)),n.createElement("tbody",null,$)));function K(e){return T.translate(`Polaris.DatePicker.days.${m(e)}`)}}function A(){}function _(e,t,r){if(null==e)return!1;let{start:n,end:i}=t;return!!(s(n,i)&&e>n&&e<=r)}var C=r(3386);function P({id:e,selected:t,month:r,year:s,allowRange:p,multiMonth:h,disableDatesBefore:m,disableDatesAfter:g,disableSpecificDates:v,weekStartsOn:w=0,dayAccessibilityLabelPrefix:E,onMonthChange:A,onChange:_=k}){let P=(0,b.Q)(),[O,R]=(0,n.useState)(void 0),[H,I]=(0,n.useState)(void 0);(0,n.useEffect)(()=>{I(void 0)},[t]);let M=(0,n.useCallback)(e=>{I(e)},[]),D=(0,n.useCallback)(e=>{A&&A(e.getMonth(),e.getFullYear()),R(e),I(e)},[A]),j=(0,n.useCallback)(e=>{let{end:t}=e;R(t),I(new Date(t)),_(e)},[_]),N=(0,n.useCallback)((e,t)=>{A&&(I(void 0),A(e,t))},[A]),$=(0,n.useCallback)(e=>{R(e)},[]),K=(0,n.useCallback)(e=>{let{key:r}=e,n=T(t),i=H||n&&n.start;if(null!=i){if("ArrowUp"===r){let e=new Date(i);e.setDate(i.getDate()-7),m&&u(e,m)||v&&d(e,v)||D(e)}if("ArrowDown"===r){let e=new Date(i);e.setDate(i.getDate()+7),g&&c(e,g)||v&&d(e,v)||D(e)}if("ArrowRight"===r){let e=new Date(i);e.setDate(i.getDate()+1),g&&c(e,g)||v&&d(e,v)||D(e)}if("ArrowLeft"===r){let e=new Date(i);e.setDate(i.getDate()-1),m&&u(e,m)||v&&d(e,v)||D(e)}}},[g,m,v,H,t,D]),U=11===r?s+1:s,W=l(r),F=11===W?U+1:U,B=l(W),L=0===r?s-1:s,J=0===r?11:r-1,q=P.translate(`Polaris.DatePicker.months.${f(J)}`),z=h?P.translate(`Polaris.DatePicker.months.${f(B)}`):P.translate(`Polaris.DatePicker.months.${f(W)}`),V=h?F:U,G=(0,n.useMemo)(()=>T(t),[t]),X=[p?P.translate("Polaris.DatePicker.start"):E,P.translate("Polaris.DatePicker.end")],Z=h?n.createElement(S,{onFocus:M,focusedDate:H,month:W,year:U,selected:G,hoverDate:O,onChange:j,onHover:$,disableDatesBefore:m,disableDatesAfter:g,disableSpecificDates:v,allowRange:p,weekStartsOn:w,accessibilityLabelPrefixes:X}):null,Y=(0,o.AK)(y.DatePicker);return n.createElement("div",{id:e,className:Y,onKeyDown:x,onKeyUp:K},n.createElement("div",{className:y.Header},n.createElement(C.z,{variant:"tertiary",icon:i,accessibilityLabel:P.translate("Polaris.DatePicker.previousMonth",{previousMonthName:q,showPreviousYear:L}),onClick:()=>N(J,L)}),n.createElement(C.z,{variant:"tertiary",icon:a,accessibilityLabel:P.translate("Polaris.DatePicker.nextMonth",{nextMonth:z,nextYear:V}),onClick:()=>N(W,U)})),n.createElement("div",{className:y.MonthLayout},n.createElement(S,{onFocus:M,focusedDate:H,month:r,year:s,selected:T(t),hoverDate:O,onChange:j,onHover:$,disableDatesBefore:m,disableDatesAfter:g,disableSpecificDates:v,allowRange:p,weekStartsOn:w,accessibilityLabelPrefixes:X}),Z))}function k(){}function x(e){let{key:t}=e;("ArrowUp"===t||"ArrowDown"===t||"ArrowLeft"===t||"ArrowRight"===t)&&(e.preventDefault(),e.stopPropagation())}function T(e){return e instanceof Date?{start:e,end:e}:e}},8364:function(e,t,r){"use strict";r.d(t,{J:function(){return l}});var n=r(6193),i=r(4923),a=r(8705),o={Icon:"Polaris-Icon",toneInherit:"Polaris-Icon--toneInherit",toneBase:"Polaris-Icon--toneBase",toneSubdued:"Polaris-Icon--toneSubdued",toneCaution:"Polaris-Icon--toneCaution",toneWarning:"Polaris-Icon--toneWarning",toneCritical:"Polaris-Icon--toneCritical",toneInteractive:"Polaris-Icon--toneInteractive",toneInfo:"Polaris-Icon--toneInfo",toneSuccess:"Polaris-Icon--toneSuccess",tonePrimary:"Polaris-Icon--tonePrimary",toneEmphasis:"Polaris-Icon--toneEmphasis",toneMagic:"Polaris-Icon--toneMagic",toneTextCaution:"Polaris-Icon--toneTextCaution",toneTextWarning:"Polaris-Icon--toneTextWarning",toneTextCritical:"Polaris-Icon--toneTextCritical",toneTextInfo:"Polaris-Icon--toneTextInfo",toneTextPrimary:"Polaris-Icon--toneTextPrimary",toneTextSuccess:"Polaris-Icon--toneTextSuccess",toneTextMagic:"Polaris-Icon--toneTextMagic",Svg:"Polaris-Icon__Svg",Img:"Polaris-Icon__Img",Placeholder:"Polaris-Icon__Placeholder"},s=r(5296);function l({source:e,tone:t,accessibilityLabel:r}){let l;l="function"==typeof e?"function":"placeholder"===e?"placeholder":"external";let c=(0,i.AK)(o.Icon,t&&o[(0,i.OZ)("tone",t)]),{mdDown:u}=(0,a.kC)(),d={function:n.createElement(e,Object.assign({className:o.Svg,focusable:"false","aria-hidden":"true"},u?{viewBox:"1 1 18 18"}:{})),placeholder:n.createElement("div",{className:o.Placeholder}),external:n.createElement("img",{className:o.Img,src:`data:image/svg+xml;utf8,${e}`,alt:"","aria-hidden":"true"})};return n.createElement("span",{className:c},r&&n.createElement(s.x,{as:"span",visuallyHidden:!0},r),d[l])}},3342:function(e,t,r){"use strict";r.d(t,{g:function(){return a}});var n=r(6193),i=r(4923);let a=function({as:e="div",align:t,direction:r="row",blockAlign:a,gap:o,wrap:s=!0,children:l}){let c={"--pc-inline-stack-align":t,"--pc-inline-stack-block-align":a,"--pc-inline-stack-wrap":s?"wrap":"nowrap",...(0,i.jD)("inline-stack","gap","space",o),...(0,i.OX)("inline-stack","flex-direction",r)};return n.createElement(e,{className:"Polaris-InlineStack",style:c},l)}},3223:function(e,t,r){"use strict";r.d(t,{n:function(){return a}});var n=r(6193),i=r(1029);function a({keyCode:e,handler:t,keyEvent:r="keyup",options:a,useCapture:o}){let s=(0,n.useRef)({handler:t,keyCode:e});(0,i.L)(()=>{s.current={handler:t,keyCode:e}},[t,e]);let l=(0,n.useCallback)(e=>{let{handler:t,keyCode:r}=s.current;e.keyCode===r&&t(e)},[]);return(0,n.useEffect)(()=>(document.addEventListener(r,l,o||a),()=>{document.removeEventListener(r,l,o||a)}),[r,l,o,a]),null}},5412:function(e,t,r){"use strict";r.d(t,{_:function(){return l},n:function(){return s}});var n=r(6193),i=r(4923),a={Label:"Polaris-Label",hidden:"Polaris-Label--hidden",Text:"Polaris-Label__Text",RequiredIndicator:"Polaris-Label__RequiredIndicator"},o=r(5296);function s(e){return`${e}Label`}function l({children:e,id:t,hidden:r,requiredIndicator:l}){let c=(0,i.AK)(a.Label,r&&a.hidden);return n.createElement("div",{className:c},n.createElement("label",{id:s(t),htmlFor:t,className:(0,i.AK)(a.Text,l&&a.RequiredIndicator)},n.createElement(o.x,{as:"span",variant:"bodyMd"},e)))}},9397:function(e,t,r){"use strict";r.d(t,{jN:function(){return p},Nh:function(){return h}});var n=r(6193),i=r(4923),a={hidden:"Polaris-Labelled--hidden",LabelWrapper:"Polaris-Labelled__LabelWrapper",disabled:"Polaris-Labelled--disabled",HelpText:"Polaris-Labelled__HelpText",readOnly:"Polaris-Labelled--readOnly",Error:"Polaris-Labelled__Error",Action:"Polaris-Labelled__Action"},o=function(e){return n.createElement("svg",Object.assign({viewBox:"0 0 20 20"},e),n.createElement("path",{d:"M10 6a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5a.75.75 0 0 1 .75-.75Z"}),n.createElement("path",{d:"M11 13a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"}),n.createElement("path",{fillRule:"evenodd",d:"M17 10a7 7 0 1 1-14 0 7 7 0 0 1 14 0Zm-1.5 0a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0Z"}))};o.displayName="AlertCircleIcon";var s=r(8364),l=r(5296);function c({message:e,fieldID:t}){return e?n.createElement("div",{id:`${t}Error`,className:"Polaris-InlineError"},n.createElement("div",{className:"Polaris-InlineError__Icon"},n.createElement(s.J,{source:o})),n.createElement(l.x,{as:"span",variant:"bodyMd"},e)):null}var u=r(5412),d=r(6637);function p({id:e,label:t,error:r,action:o,helpText:s,children:p,labelHidden:f,requiredIndicator:m,disabled:y,readOnly:g,...v}){let b=(0,i.AK)(f&&a.hidden,y&&a.disabled,g&&a.readOnly),w=o?n.createElement("div",{className:a.Action},(0,d.h)(o,{variant:"plain"})):null,E=s?n.createElement("div",{className:a.HelpText,id:h(e),"aria-disabled":y},n.createElement(l.x,{as:"span",tone:"subdued",variant:"bodyMd",breakWord:!0},s)):null,S=r&&"boolean"!=typeof r&&n.createElement("div",{className:a.Error},n.createElement(c,{message:r,fieldID:e})),A=t?n.createElement("div",{className:a.LabelWrapper},n.createElement(u._,Object.assign({id:e,requiredIndicator:m},v,{hidden:!1}),t),w):null;return n.createElement("div",{className:b},A,p,S,E)}function h(e){return`${e}HelpText`}},6305:function(e,t,r){"use strict";r.d(t,{u:function(){return ep}});var n=r(6193);function i(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}function o(e,t){return(o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,o(e,t)}var l=n.createContext(null);function c(e,t){var r=Object.create(null);return e&&n.Children.map(e,function(e){return e}).forEach(function(e){r[e.key]=t&&(0,n.isValidElement)(e)?t(e):e}),r}function u(e,t,r){return null!=r[t]?r[t]:e.props[t]}var d=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},p=function(e){function t(t,r){var n,i=(n=e.call(this,t,r)||this).handleExited.bind(function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n));return n.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},n}s(t,e);var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var r,i,a=t.children,o=t.handleExited;return{children:t.firstRender?c(e.children,function(t){return(0,n.cloneElement)(t,{onExited:o.bind(null,t),in:!0,appear:u(t,"appear",e),enter:u(t,"enter",e),exit:u(t,"exit",e)})}):(Object.keys(i=function(e,t){function r(r){return r in t?t[r]:e[r]}e=e||{},t=t||{};var n,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var s={};for(var l in t){if(i[l])for(n=0;n<i[l].length;n++){var c=i[l][n];s[i[l][n]]=r(c)}s[l]=r(l)}for(n=0;n<a.length;n++)s[a[n]]=r(a[n]);return s}(a,r=c(e.children))).forEach(function(t){var s=i[t];if((0,n.isValidElement)(s)){var l=t in a,c=t in r,d=a[t],p=(0,n.isValidElement)(d)&&!d.props.in;c&&(!l||p)?i[t]=(0,n.cloneElement)(s,{onExited:o.bind(null,s),in:!0,exit:u(s,"exit",e),enter:u(s,"enter",e)}):c||!l||p?c&&l&&(0,n.isValidElement)(d)&&(i[t]=(0,n.cloneElement)(s,{onExited:o.bind(null,s),in:d.props.in,exit:u(s,"exit",e),enter:u(s,"enter",e)})):i[t]=(0,n.cloneElement)(s,{in:!1})}}),i),firstRender:!1}},r.handleExited=function(e,t){var r=c(this.props.children);e.key in r||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState(function(t){var r=a({},t.children);return delete r[e.key],{children:r}}))},r.render=function(){var e=this.props,t=e.component,r=e.childFactory,a=i(e,["component","childFactory"]),o=this.state.contextValue,s=d(this.state.children).map(r);return(delete a.appear,delete a.enter,delete a.exit,null===t)?n.createElement(l.Provider,{value:o},s):n.createElement(l.Provider,{value:o},n.createElement(t,a,s))},t}(n.Component);p.propTypes={},p.defaultProps={component:"div",childFactory:function(e){return e}};var h=r(1112),f=r(8656),m=r(71),y={Body:"Polaris-Modal__Body",NoScrollBody:"Polaris-Modal__NoScrollBody",IFrame:"Polaris-Modal__IFrame"},g=r(4923),v={Section:"Polaris-Modal-Section",titleHidden:"Polaris-Modal-Section--titleHidden"},b=r(8264);function w({children:e,flush:t=!1,subdued:r=!1,titleHidden:i=!1}){let a=(0,g.AK)(v.Section,i&&v.titleHidden);return n.createElement("div",{className:a},n.createElement(b.x,Object.assign({as:"section",padding:t?"0":"400"},i&&{paddingInlineEnd:"0"},r&&{background:"bg-surface-tertiary"}),e))}var E=r(4617),S={disabled:!1},A=function(e){return e.scrollTop},_="unmounted",C="exited",P="entering",k="entered",x="exiting",T=function(e){function t(t,r){n=e.call(this,t,r)||this;var n,i,a=r&&!r.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?a?(i=C,n.appearStatus=P):i=k:i=t.unmountOnExit||t.mountOnEnter?_:C,n.state={status:i},n.nextCallback=null,n}s(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===_?{status:C}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var r=this.state.status;this.props.in?r!==P&&r!==k&&(t=P):(r===P||r===k)&&(t=x)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,r,n=this.props.timeout;return e=t=r=n,null!=n&&"number"!=typeof n&&(e=n.exit,t=n.enter,r=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:r}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){if(this.cancelNextCallback(),t===P){if(this.props.unmountOnExit||this.props.mountOnEnter){var r=this.props.nodeRef?this.props.nodeRef.current:E.findDOMNode(this);r&&A(r)}this.performEnter(e)}else this.performExit()}else this.props.unmountOnExit&&this.state.status===C&&this.setState({status:_})},r.performEnter=function(e){var t=this,r=this.props.enter,n=this.context?this.context.isMounting:e,i=this.props.nodeRef?[n]:[E.findDOMNode(this),n],a=i[0],o=i[1],s=this.getTimeouts(),l=n?s.appear:s.enter;if(!e&&!r||S.disabled){this.safeSetState({status:k},function(){t.props.onEntered(a)});return}this.props.onEnter(a,o),this.safeSetState({status:P},function(){t.props.onEntering(a,o),t.onTransitionEnd(l,function(){t.safeSetState({status:k},function(){t.props.onEntered(a,o)})})})},r.performExit=function(){var e=this,t=this.props.exit,r=this.getTimeouts(),n=this.props.nodeRef?void 0:E.findDOMNode(this);if(!t||S.disabled){this.safeSetState({status:C},function(){e.props.onExited(n)});return}this.props.onExit(n),this.safeSetState({status:x},function(){e.props.onExiting(n),e.onTransitionEnd(r.exit,function(){e.safeSetState({status:C},function(){e.props.onExited(n)})})})},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,r=!0;return this.nextCallback=function(n){r&&(r=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var r=this.props.nodeRef?this.props.nodeRef.current:E.findDOMNode(this),n=null==e&&!this.props.addEndListener;if(!r||n){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)},r.render=function(){var e=this.state.status;if(e===_)return null;var t=this.props,r=t.children,a=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,i(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return n.createElement(l.Provider,{value:null},"function"==typeof r?r(e,a):n.cloneElement(n.Children.only(r),a))},t}(n.Component);function O(){}function R(e,t){return e.replace(RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}T.contextType=l,T.propTypes={},T.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:O,onEntering:O,onEntered:O,onExit:O,onExiting:O,onExited:O},T.UNMOUNTED=_,T.EXITED=C,T.ENTERING=P,T.ENTERED=k,T.EXITING=x;var H=function(e,t){return e&&t&&t.split(" ").forEach(function(t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=R(e.className,t):e.setAttribute("class",R(e.className&&e.className.baseVal||"",t))})},I=function(e){function t(){for(var t,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,r){var n=t.resolveArguments(e,r),i=n[0],a=n[1];t.removeClasses(i,"exit"),t.addClass(i,a?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,r)},t.onEntering=function(e,r){var n=t.resolveArguments(e,r),i=n[0],a=n[1];t.addClass(i,a?"appear":"enter","active"),t.props.onEntering&&t.props.onEntering(e,r)},t.onEntered=function(e,r){var n=t.resolveArguments(e,r),i=n[0],a=n[1]?"appear":"enter";t.removeClasses(i,a),t.addClass(i,a,"done"),t.props.onEntered&&t.props.onEntered(e,r)},t.onExit=function(e){var r=t.resolveArguments(e)[0];t.removeClasses(r,"appear"),t.removeClasses(r,"enter"),t.addClass(r,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var r=t.resolveArguments(e)[0];t.addClass(r,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var r=t.resolveArguments(e)[0];t.removeClasses(r,"exit"),t.addClass(r,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,r){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,r]},t.getClassNames=function(e){var r=t.props.classNames,n="string"==typeof r,i=n?(n&&r?r+"-":"")+e:r[e],a=n?i+"-active":r[e+"Active"],o=n?i+"-done":r[e+"Done"];return{baseClassName:i,activeClassName:a,doneClassName:o}},t}s(t,e);var r=t.prototype;return r.addClass=function(e,t,r){var n,i=this.getClassNames(t)[r+"ClassName"],a=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===r&&a&&(i+=" "+a),"active"===r&&e&&A(e),i&&(this.appliedClasses[t][r]=i,n=i,e&&n&&n.split(" ").forEach(function(t){var r,n;return r=e,n=t,void(r.classList?r.classList.add(n):(r.classList?n&&r.classList.contains(n):-1!==(" "+(r.className.baseVal||r.className)+" ").indexOf(" "+n+" "))||("string"==typeof r.className?r.className=r.className+" "+n:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+n)))}))},r.removeClasses=function(e,t){var r=this.appliedClasses[t],n=r.base,i=r.active,a=r.done;this.appliedClasses[t]={},n&&H(e,n),i&&H(e,i),a&&H(e,a)},r.render=function(){var e=this.props,t=(e.classNames,i(e,["classNames"]));return n.createElement(T,a({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(n.Component);I.defaultProps={classNames:""},I.propTypes={};var M=r(4021),D=r(2325),j={Container:"Polaris-Modal-Dialog__Container",Dialog:"Polaris-Modal-Dialog",Modal:"Polaris-Modal-Dialog__Modal",limitHeight:"Polaris-Modal-Dialog--limitHeight",sizeSmall:"Polaris-Modal-Dialog--sizeSmall",sizeLarge:"Polaris-Modal-Dialog--sizeLarge",sizeFullScreen:"Polaris-Modal-Dialog--sizeFullScreen",animateFadeUp:"Polaris-Modal-Dialog--animateFadeUp",entering:"Polaris-Modal-Dialog--entering",exiting:"Polaris-Modal-Dialog--exiting",exited:"Polaris-Modal-Dialog--exited",entered:"Polaris-Modal-Dialog--entered"};let N=(0,n.createContext)(void 0);var $=r(4849),K=r(7272),U=r(7512);let W=(0,n.memo)(function({children:e,disabled:t,root:r}){return(0,n.useEffect)(()=>{if(t||!r)return;let e=void 0!==r.current?r.current:r;!e||e.querySelector("[autofocus]")||(0,h.vr)(e,!1)},[t,r]),n.createElement(n.Fragment,null,e)});var F=r(3337),B=r(3223);function L({trapping:e=!0,children:t}){let{canSafelyFocus:r}=function({trapping:e}){let t=(0,n.useContext)(U.K),r=(0,n.useId)();if(!t)throw new K.U("No FocusManager was provided.");let{trapFocusList:i,add:a,remove:o}=t,s=i[0]===r,l=(0,n.useMemo)(()=>({canSafelyFocus:s}),[s]);return(0,n.useEffect)(()=>{if(e)return a(r),()=>{o(r)}},[a,r,o,e]),l}({trapping:e}),i=(0,n.useRef)(null),[a,o]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{o(!r||!!(i.current&&i.current.contains(document.activeElement))||!e)},[r,e]),n.createElement(W,{disabled:a,root:i.current},n.createElement("div",{ref:i},n.createElement(F.h,{event:"focusin",handler:t=>{let n=i.current&&i.current.contains(document.activeElement);!(!1===e||!i.current||n||t.target instanceof Element&&t.target.matches(`${$.l4.selector} *`))&&r&&t.target instanceof HTMLElement&&i.current!==t.target&&!i.current.contains(t.target)&&(0,h.vr)(i.current)}}),n.createElement(B.n,{keyCode:M.s.Tab,keyEvent:"keydown",handler:t=>{if(!1===e||!i.current)return;let r=(0,h.Y_)(i.current),n=(0,h.T7)(i.current);t.target!==n||t.shiftKey||(t.preventDefault(),(0,h.TA)(i.current)),t.target===r&&t.shiftKey&&(t.preventDefault(),(0,h.c7)(i.current))}}),t))}var J=r(5296);function q({instant:e,labelledBy:t,children:r,limitHeight:i,size:a,onClose:o,onExited:s,onEntered:l,setClosing:c,hasToasts:u,...d}){let p;let f=(0,D.Fg)(),m=(0,n.useRef)(null),y=(0,n.useContext)(N);y&&(p=y.toastMessages);let v=(0,g.AK)(j.Modal,a&&j[(0,g.OZ)("size",a)],i&&j.limitHeight),b=e?T:V;(0,n.useEffect)(()=>{m.current&&!m.current.contains(document.activeElement)&&(0,h.vr)(m.current)},[]);let w=n.createElement("div",{"aria-live":"assertive"},p?p.map(e=>n.createElement(J.x,{visuallyHidden:!0,as:"p",key:e.id},e.content)):null);return n.createElement(b,Object.assign({},d,{nodeRef:m,mountOnEnter:!0,unmountOnExit:!0,timeout:parseInt(f.motion["motion-duration-200"],10),onEntered:l,onExited:s}),n.createElement("div",{className:j.Container,"data-polaris-layer":!0,"data-polaris-overlay":!0,ref:m},n.createElement(L,null,n.createElement("div",{role:"dialog","aria-modal":!0,"aria-label":t,"aria-labelledby":t,tabIndex:-1,className:j.Dialog},n.createElement("div",{className:v},n.createElement(B.n,{keyCode:M.s.Escape,keyEvent:"keydown",handler:()=>{c&&c(!0)}}),n.createElement(B.n,{keyCode:M.s.Escape,handler:()=>{c&&c(!1),o()}}),r),w))))}let z={appear:(0,g.AK)(j.animateFadeUp,j.entering),appearActive:(0,g.AK)(j.animateFadeUp,j.entered),enter:(0,g.AK)(j.animateFadeUp,j.entering),enterActive:(0,g.AK)(j.animateFadeUp,j.entered),exit:(0,g.AK)(j.animateFadeUp,j.exiting),exitActive:(0,g.AK)(j.animateFadeUp,j.exited)};function V({children:e,...t}){return n.createElement(I,Object.assign({},t,{classNames:z}),e)}var G=r(4428),X=r(1532),Z=r(3386);function Y({pressed:e,onClick:t}){let r=(0,X.Q)();return n.createElement(Z.z,{variant:"tertiary",pressed:e,icon:G.S,onClick:t,accessibilityLabel:r.translate("Polaris.Common.close")})}function Q({children:e,columns:t,gap:r,alignItems:i}){let a={...(0,g.OX)("inline-grid","grid-template-columns","object"!=typeof t||null===t||Array.isArray(t)?ee(t):Object.fromEntries(Object.entries(t).map(([e,t])=>[e,ee(t)]))),...(0,g.jD)("inline-grid","gap","space",r),"--pc-inline-grid-align-items":i};return n.createElement("div",{className:"Polaris-InlineGrid",style:(0,g.vW)(a)},e)}function ee(e){if(e)return"number"!=typeof e&&isNaN(Number(e))?"string"==typeof e?e:e.map(e=>{switch(e){case"oneThird":case"oneHalf":return"minmax(0, 1fr)";case"twoThirds":return"minmax(0, 2fr)"}}).join(" "):`repeat(${Number(e)}, minmax(0, 1fr))`}var et=r(3342);function er({id:e,children:t,closing:r,titleHidden:i,onClose:a}){return i||!t?n.createElement(b.x,{position:"absolute",insetInlineEnd:"400",insetBlockStart:"400",zIndex:"1"},n.createElement(Y,{onClick:a})):n.createElement(b.x,{paddingBlockStart:"400",paddingBlockEnd:"400",paddingInlineStart:"400",paddingInlineEnd:"400",borderBlockEndWidth:"025",borderColor:"border",background:"bg-surface-tertiary"},n.createElement(Q,{columns:{xs:"1fr auto"},gap:"400"},n.createElement(et.g,{gap:"400",blockAlign:"center"},n.createElement(J.x,{id:e,as:"h2",variant:"headingMd",breakWord:!0},t)),n.createElement(Y,{pressed:r,onClick:a})))}var en={Backdrop:"Polaris-Backdrop",transparent:"Polaris-Backdrop--transparent",belowNavigation:"Polaris-Backdrop--belowNavigation"},ei=r(155);function ea(e){let t=function(){let e=(0,n.useContext)(ei.q);if(!e)throw new K.U("No ScrollLockManager was provided.");return e}();return(0,n.useEffect)(()=>(t.registerScrollLock(),()=>{t.unregisterScrollLock()}),[t]),null}function eo(e){let{onClick:t,onTouchStart:r,belowNavigation:i,transparent:a,setClosing:o}=e,s=(0,g.AK)(en.Backdrop,i&&en.belowNavigation,a&&en.transparent);return n.createElement(n.Fragment,null,n.createElement(ea,null),n.createElement("div",{className:s,onClick:()=>{o&&o(!1),t&&t()},onTouchStart:r,onMouseDown:()=>{o&&o(!0)}}))}var es=r(6637);function el({primaryAction:e,secondaryActions:t,children:r}){let i=e&&(0,es.B)(e,{variant:"primary"})||null,a=t&&(0,es.B)(t)||null,o=i||a?n.createElement(et.g,{gap:"200"},a,i):null;return n.createElement(et.g,{gap:"400",blockAlign:"center"},n.createElement(b.x,{borderColor:"border",borderBlockStartWidth:"025",padding:"400",width:"100%"},n.createElement(et.g,{gap:"400",blockAlign:"center",align:"space-between"},n.createElement(b.x,null,r),o)))}var ec=r(5284),eu=r(7636),ed=r(6267);let ep=function({children:e,title:t,titleHidden:r=!1,src:i,iFrameName:a,open:o,instant:s,sectioned:l,loading:c,size:u,limitHeight:d,footer:g,primaryAction:v,secondaryActions:E,onScrolledToBottom:S,activator:A,activatorWrapper:_="div",onClose:C,onIFrameLoad:P,onTransitionEnd:k,noScroll:x}){let T,O;let[R,H]=(0,n.useState)(200),[I,M]=(0,n.useState)(!1),D=(0,n.useId)(),j=(0,n.useRef)(null),N=(0,X.Q)().translate("Polaris.Modal.iFrameTitle"),$=(0,n.useCallback)(()=>{k&&k()},[k]),K=(0,n.useCallback)(()=>{H(200);let e=A&&eh(A)?A&&A.current:j.current;e&&requestAnimationFrame(()=>(0,h.vr)(e))},[A]),U=(0,n.useCallback)(e=>{let t=e.target;if(t&&t.contentWindow)try{H(t.contentWindow.document.body.scrollHeight)}catch(e){H(400)}null!=P&&P(e)},[P]);if(o){let o=g||v||E?n.createElement(el,{primaryAction:v,secondaryActions:E},g):null,p=l?(0,m.oh)(e,w,{titleHidden:r}):e,h=c?n.createElement(b.x,{padding:"400"},n.createElement(et.g,{gap:"400",align:"center",blockAlign:"center"},n.createElement(ed.$,null))):p,f=x?n.createElement("div",{className:y.NoScrollBody},n.createElement(b.x,{width:"100%",overflowX:"hidden",overflowY:"hidden"},h)):n.createElement(ec.R,{shadow:!0,className:y.Body,onScrolledToBottom:S},h),A=i?n.createElement("iframe",{name:a,title:N,src:i,className:y.IFrame,onLoad:U,style:{height:`${R}px`}}):f;T=n.createElement(q,{instant:s,labelledBy:D,onClose:C,onEntered:$,onExited:K,size:u,limitHeight:d,setClosing:M},n.createElement(er,{titleHidden:r,id:D,closing:I,onClose:C},t),A,o),O=n.createElement(eo,{setClosing:M,onClick:C})}let W=!s,F=A&&!eh(A)?n.createElement(b.x,{ref:j,as:_},A):null;return n.createElement(f.O.Provider,{value:!0},F,n.createElement(eu.h,{idPrefix:"modal"},n.createElement(p,{appear:W,enter:W,exit:W},T),O))};function eh(e){return Object.prototype.hasOwnProperty.call(e,"current")}ep.Section=w},7636:function(e,t,r){"use strict";r.d(t,{h:function(){return p}});var n=r(9044),i=r(6193),a=r(4617),o=r(2325),s=r(50),l=r(4923);let c=["light","dark-experimental"],u=e=>c.includes(e);function d(e){let{as:t="div",children:r,className:a,theme:s=n.x0}=e;return i.createElement(o.Do.Provider,{value:s},i.createElement(o.Ni.Provider,{value:(0,o.gh)(s)},i.createElement(t,{"data-portal-id":e["data-portal-id"],className:(0,l.AK)((0,n.fP)(s),"Polaris-ThemeProvider--themeContainer",a)},r)))}function p({children:e,idPrefix:t="",onPortalCreated:r=h}){let l=(0,o.Cg)(),{container:c}=function(){let e=(0,i.useContext)(s.j);if(!e)throw Error("No portals manager was provided. Your application must be wrapped in an <AppProvider> component. See https://polaris.shopify.com/components/app-provider for implementation instructions.");return e}(),p=(0,i.useId)(),f=""!==t?`${t}-${p}`:p;return(0,i.useEffect)(()=>{r()},[r]),c?(0,a.createPortal)(i.createElement(d,{theme:u(l)?l:n.x0,"data-portal-id":f},e),c):null}function h(){}},5284:function(e,t,r){"use strict";r.d(t,{R:function(){return m}});var n=r(6193),i=r(4208),a=r(4923),o=r(4849);let s=Symbol("unique_identifier");var l=r(9277);let c=(0,n.createContext)(void 0);var u={Scrollable:"Polaris-Scrollable",hasTopShadow:"Polaris-Scrollable--hasTopShadow",hasBottomShadow:"Polaris-Scrollable--hasBottomShadow",horizontal:"Polaris-Scrollable--horizontal",vertical:"Polaris-Scrollable--vertical",scrollbarWidthThin:"Polaris-Scrollable--scrollbarWidthThin",scrollbarWidthNone:"Polaris-Scrollable--scrollbarWidthNone",scrollbarWidthAuto:"Polaris-Scrollable--scrollbarWidthAuto",scrollbarGutterStable:"Polaris-Scrollable--scrollbarGutterStable","scrollbarGutterStableboth-edges":"Polaris-Scrollable__scrollbarGutterStableboth--edges"},d=r(2849),p=r(727);let h=(0,n.forwardRef)(({children:e,className:t,horizontal:r=!0,vertical:h=!0,shadow:m,hint:y,focusable:g,scrollbarWidth:v="thin",scrollbarGutter:b,onScrolledToBottom:w,...E},S)=>{let[A,_]=(0,n.useState)(!1),[C,P]=(0,n.useState)(!1),k=function(e){let t=(0,n.useRef)(s);return t.current===s&&(t.current=e()),t}(()=>new d.s),x=(0,n.useRef)(null),T=(0,n.useCallback)((e,t={})=>{let r=t.behavior||"smooth",n=f()?"auto":r;x.current?.scrollTo({top:e,behavior:n})},[]),O=(0,n.useRef)();(0,n.useImperativeHandle)(S||O,()=>({scrollTo:T}));let R=(0,n.useCallback)(()=>{let e=x.current;e&&requestAnimationFrame(()=>{let{scrollTop:t,clientHeight:r,scrollHeight:n}=e,i=t+r>=n-2;_(t>0),P(!i),n>r&&i&&w&&w()})},[w]);!function(e){let t=(0,l.u)(),r=(0,n.useRef)(!1);t&&!r.current&&(r.current=!0,e())}(()=>{R(),y&&requestAnimationFrame(()=>(function(e){if(!e||f())return;let t=Math.min(100,e.scrollHeight-e.clientHeight)-2,r=()=>{requestAnimationFrame(()=>{e.scrollTop>=t&&(e.removeEventListener("scroll",r),e.scrollTo({top:0,behavior:"smooth"}))})};e.addEventListener("scroll",r),e.scrollTo({top:100,behavior:"smooth"})})(x.current))}),(0,n.useEffect)(()=>{let e=x.current;if(!e)return;let t=(0,i.D)(R,50,{trailing:!0});return k.current?.setContainer(e),e.addEventListener("scroll",R),globalThis.addEventListener("resize",t),()=>{e.removeEventListener("scroll",R),globalThis.removeEventListener("resize",t)}},[k,R]);let H=(0,a.AK)(t,u.Scrollable,h&&u.vertical,r&&u.horizontal,m&&A&&u.hasTopShadow,m&&C&&u.hasBottomShadow,v&&u[(0,a.OZ)("scrollbarWidth",v)],b&&u[(0,a.OZ)("scrollbarGutter",b.replace(" ",""))]);return n.createElement(c.Provider,{value:T},n.createElement(p.p.Provider,{value:k.current},n.createElement("div",Object.assign({className:H},o.fm.props,E,{ref:x,tabIndex:g?0:void 0}),e)))});function f(){try{return window.matchMedia("(prefers-reduced-motion: reduce)").matches}catch(e){return!1}}h.displayName="Scrollable";let m=h;m.ScrollTo=function(){let e=(0,n.useRef)(null),t=(0,n.useContext)(c);(0,n.useEffect)(()=>{t&&e.current&&t(e.current.offsetTop)},[t]);let r=(0,n.useId)();return n.createElement("a",{id:r,ref:e})},m.forNode=e=>{let t=e.closest(o.fm.selector);return t instanceof HTMLElement?t:document}},9667:function(e,t,r){"use strict";r.d(t,{P:function(){return p}});var n=r(6193),i=r(757),a=r(4923),o=r(9888),s={Select:"Polaris-Select",disabled:"Polaris-Select--disabled",error:"Polaris-Select--error",Backdrop:"Polaris-Select__Backdrop",Input:"Polaris-Select__Input",Content:"Polaris-Select__Content",InlineLabel:"Polaris-Select__InlineLabel",Icon:"Polaris-Select__Icon",SelectedOption:"Polaris-Select__SelectedOption",Prefix:"Polaris-Select__Prefix",hover:"Polaris-Select--hover",toneMagic:"Polaris-Select--toneMagic"},l=r(8364),c=r(9397),u=r(8264),d=r(5296);function p({options:e,label:t,labelAction:r,labelHidden:p,labelInline:h,disabled:m,helpText:g,placeholder:b,id:w,name:E,value:S="",error:A,onChange:_,onFocus:C,onBlur:P,requiredIndicator:k,tone:x}){let{value:T,toggle:O}=(0,o.O)(!1),R=(0,n.useId)(),H=w??R,I=(0,a.AK)(s.Select,A&&s.error,x&&s[(0,a.OZ)("tone",x)],m&&s.disabled),M=(0,n.useCallback)(e=>{O(),C?.(e)},[C,O]),D=(0,n.useCallback)(e=>{O(),P?.(e)},[P,O]),j=_?e=>_(e.currentTarget.value,H):void 0,N=[];g&&N.push((0,c.Nh)(H)),A&&N.push(`${H}Error`);let $=(e||[]).map(y);b&&($=[{label:b,value:"",disabled:!0},...$]);let K=h&&n.createElement(u.x,{paddingInlineEnd:"100"},n.createElement(d.x,{as:"span",variant:"bodyMd",tone:x&&"magic"===x&&!T?"magic-subdued":"subdued",truncate:!0},t)),U=function(e,t){let r;let n=(r=[],e.forEach(e=>{f(e)?r=r.concat(e.options):r.push(e)}),r),i=n.find(e=>t===e.value);return void 0===i&&(i=n.find(e=>!e.hidden)),i||{value:"",label:""}}($,S),W=U.prefix&&n.createElement("div",{className:s.Prefix},U.prefix),F=n.createElement("div",{className:s.Content,"aria-hidden":!0,"aria-disabled":m},K,W,n.createElement("span",{className:s.SelectedOption},U.label),n.createElement("span",{className:s.Icon},n.createElement(l.J,{source:i.S}))),B=$.map(v);return n.createElement(c.jN,{id:H,label:t,error:A,action:r,labelHidden:!!h||p,helpText:g,requiredIndicator:k,disabled:m},n.createElement("div",{className:I},n.createElement("select",{id:H,name:E,value:S,className:s.Input,disabled:m,onFocus:M,onBlur:D,onChange:j,"aria-invalid":!!A,"aria-describedby":N.length?N.join(" "):void 0,"aria-required":k},B),F,n.createElement("div",{className:s.Backdrop})))}function h(e){return"string"==typeof e}function f(e){return"object"==typeof e&&"options"in e&&null!=e.options}function m(e){return{label:e,value:e}}function y(e){if(h(e))return m(e);if(f(e)){let{title:t,options:r}=e;return{title:t,options:r.map(e=>h(e)?m(e):e)}}return e}function g(e){let{value:t,label:r,prefix:i,key:a,...o}=e;return n.createElement("option",Object.assign({key:a??t,value:t},o),r)}function v(e){if(f(e)){let{title:t,options:r}=e;return n.createElement("optgroup",{label:t,key:t},r.map(g))}return g(e)}},6267:function(e,t,r){"use strict";r.d(t,{$:function(){return l}});var n=r(6193),i=r(4923),a=r(9277),o={Spinner:"Polaris-Spinner",sizeSmall:"Polaris-Spinner--sizeSmall",sizeLarge:"Polaris-Spinner--sizeLarge"},s=r(5296);function l({size:e="large",accessibilityLabel:t,hasFocusableParent:r}){let l=(0,a.u)(),c=(0,i.AK)(o.Spinner,e&&o[(0,i.OZ)("size",e)]),u="large"===e?n.createElement("svg",{viewBox:"0 0 44 44",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M15.542 1.487A21.507 21.507 0 00.5 22c0 11.874 9.626 21.5 21.5 21.5 9.847 0 18.364-6.675 20.809-16.072a1.5 1.5 0 00-2.904-.756C37.803 34.755 30.473 40.5 22 40.5 11.783 40.5 3.5 32.217 3.5 22c0-8.137 5.3-15.247 12.942-17.65a1.5 1.5 0 10-.9-2.863z"})):n.createElement("svg",{viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M7.229 1.173a9.25 9.25 0 1011.655 11.412 1.25 1.25 0 10-2.4-.698 6.75 6.75 0 11-8.506-8.329 1.25 1.25 0 10-.75-2.385z"})),d={...!r&&{role:"status"}},p=(l||!r)&&n.createElement(s.x,{as:"span",visuallyHidden:!0},t);return n.createElement(n.Fragment,null,n.createElement("span",{className:c},u),n.createElement("span",d,p))}},5296:function(e,t,r){"use strict";r.d(t,{x:function(){return o}});var n=r(6193),i=r(4923),a={root:"Polaris-Text--root",block:"Polaris-Text--block",truncate:"Polaris-Text--truncate",visuallyHidden:"Polaris-Text--visuallyHidden",start:"Polaris-Text--start",center:"Polaris-Text--center",end:"Polaris-Text--end",justify:"Polaris-Text--justify",base:"Polaris-Text--base",inherit:"Polaris-Text--inherit",disabled:"Polaris-Text--disabled",success:"Polaris-Text--success",critical:"Polaris-Text--critical",caution:"Polaris-Text--caution",subdued:"Polaris-Text--subdued",magic:"Polaris-Text--magic","magic-subdued":"Polaris-Text__magic--subdued","text-inverse":"Polaris-Text__text--inverse","text-inverse-secondary":"Polaris-Text--textInverseSecondary",headingXs:"Polaris-Text--headingXs",headingSm:"Polaris-Text--headingSm",headingMd:"Polaris-Text--headingMd",headingLg:"Polaris-Text--headingLg",headingXl:"Polaris-Text--headingXl",heading2xl:"Polaris-Text--heading2xl",heading3xl:"Polaris-Text--heading3xl",bodyXs:"Polaris-Text--bodyXs",bodySm:"Polaris-Text--bodySm",bodyMd:"Polaris-Text--bodyMd",bodyLg:"Polaris-Text--bodyLg",regular:"Polaris-Text--regular",medium:"Polaris-Text--medium",semibold:"Polaris-Text--semibold",bold:"Polaris-Text--bold",break:"Polaris-Text--break",numeric:"Polaris-Text--numeric","line-through":"Polaris-Text__line--through"};let o=({alignment:e,as:t,breakWord:r,children:o,tone:s,fontWeight:l,id:c,numeric:u=!1,truncate:d=!1,variant:p,visuallyHidden:h=!1,textDecorationLine:f})=>{let m=t||(h?"span":"p"),y=(0,i.AK)(a.root,p&&a[p],l&&a[l],(e||d)&&a.block,e&&a[e],r&&a.break,s&&a[s],u&&a.numeric,d&&a.truncate,h&&a.visuallyHidden,f&&a[f]);return n.createElement(m,Object.assign({className:y},c&&{id:c}),o)}},1139:function(e,t,r){"use strict";r.d(t,{n:function(){return T}});var n=r(6193),i=function(e){return n.createElement("svg",Object.assign({viewBox:"0 0 20 20"},e),n.createElement("path",{d:"M13.03 6.97a.75.75 0 0 1 0 1.06l-1.97 1.97 1.97 1.97a.75.75 0 1 1-1.06 1.06l-1.97-1.97-1.97 1.97a.75.75 0 0 1-1.06-1.06l1.97-1.97-1.97-1.97a.75.75 0 0 1 1.06-1.06l1.97 1.97 1.97-1.97a.75.75 0 0 1 1.06 0Z"}),n.createElement("path",{fillRule:"evenodd",d:"M10 17a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0-1.5a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11Z"}))};i.displayName="XCircleIcon";var a=r(4923),o=r(9277),s=r(4021),l=r(5457),c={TextField:"Polaris-TextField",ClearButton:"Polaris-TextField__ClearButton",Loading:"Polaris-TextField__Loading",disabled:"Polaris-TextField--disabled",error:"Polaris-TextField--error",readOnly:"Polaris-TextField--readOnly",Input:"Polaris-TextField__Input",Backdrop:"Polaris-TextField__Backdrop",multiline:"Polaris-TextField--multiline",hasValue:"Polaris-TextField--hasValue",focus:"Polaris-TextField--focus",VerticalContent:"Polaris-TextField__VerticalContent",InputAndSuffixWrapper:"Polaris-TextField__InputAndSuffixWrapper",toneMagic:"Polaris-TextField--toneMagic",Prefix:"Polaris-TextField__Prefix",Suffix:"Polaris-TextField__Suffix",AutoSizeWrapper:"Polaris-TextField__AutoSizeWrapper",AutoSizeWrapperWithSuffix:"Polaris-TextField__AutoSizeWrapperWithSuffix",suggestion:"Polaris-TextField--suggestion",borderless:"Polaris-TextField--borderless",slim:"Polaris-TextField--slim","Input-hasClearButton":"Polaris-TextField__Input--hasClearButton","Input-suffixed":"Polaris-TextField__Input--suffixed","Input-alignRight":"Polaris-TextField__Input--alignRight","Input-alignLeft":"Polaris-TextField__Input--alignLeft","Input-alignCenter":"Polaris-TextField__Input--alignCenter","Input-autoSize":"Polaris-TextField__Input--autoSize",PrefixIcon:"Polaris-TextField__PrefixIcon",CharacterCount:"Polaris-TextField__CharacterCount",AlignFieldBottom:"Polaris-TextField__AlignFieldBottom",Spinner:"Polaris-TextField__Spinner",SpinnerIcon:"Polaris-TextField__SpinnerIcon",Resizer:"Polaris-TextField__Resizer",DummyInput:"Polaris-TextField__DummyInput",Segment:"Polaris-TextField__Segment",monospaced:"Polaris-TextField--monospaced"},u=r(4930),d=r(8377),p=r(8364);let h=n.forwardRef(function({onChange:e,onClick:t,onMouseDown:r,onMouseUp:i,onBlur:a},o){function s(t){return()=>e(t)}function l(e){return t=>{0===t.button&&r?.(e)}}return n.createElement("div",{className:c.Spinner,onClick:t,"aria-hidden":!0,ref:o},n.createElement("div",{role:"button",className:c.Segment,tabIndex:-1,onClick:s(1),onMouseDown:l(s(1)),onMouseUp:i,onBlur:a},n.createElement("div",{className:c.SpinnerIcon},n.createElement(p.J,{source:u.S}))),n.createElement("div",{role:"button",className:c.Segment,tabIndex:-1,onClick:s(-1),onMouseDown:l(s(-1)),onMouseUp:i,onBlur:a},n.createElement("div",{className:c.SpinnerIcon},n.createElement(p.J,{source:d.S}))))});var f=r(9397),m={Connected:"Polaris-Connected",Item:"Polaris-Connected__Item","Item-primary":"Polaris-Connected__Item--primary","Item-focused":"Polaris-Connected__Item--focused"},y=r(9888);function g({children:e,position:t}){let{value:r,setTrue:i,setFalse:o}=(0,y.O)(!1),s=(0,a.AK)(m.Item,r&&m["Item-focused"],"primary"===t?m["Item-primary"]:m["Item-connection"]);return n.createElement("div",{onBlur:o,onFocus:i,className:s},e)}function v({children:e,left:t,right:r}){let i=t?n.createElement(g,{position:"left"},t):null,a=r?n.createElement(g,{position:"right"},r):null;return n.createElement("div",{className:m.Connected},i,n.createElement(g,{position:"primary"},e),a)}var b=r(1029),w=r(3337);function E({contents:e,currentHeight:t=null,minimumLines:r,onHeightChange:i}){let a=(0,n.useRef)(null),o=(0,n.useRef)(null),s=(0,n.useRef)(),l=(0,n.useRef)(t);t!==l.current&&(l.current=t),(0,n.useEffect)(()=>()=>{s.current&&cancelAnimationFrame(s.current)},[]);let u=r?n.createElement("div",{ref:o,className:c.DummyInput,dangerouslySetInnerHTML:{__html:function(e){let t="";for(let r=0;r<e;r++)t+="<br>";return t}(r)}}):null,d=(0,n.useCallback)(()=>{s.current&&cancelAnimationFrame(s.current),s.current=requestAnimationFrame(()=>{if(!a.current||!o.current)return;let e=Math.max(a.current.offsetHeight,o.current.offsetHeight);e!==l.current&&i(e)})},[i]);return(0,b.L)(()=>{d()}),n.createElement("div",{"aria-hidden":!0,className:c.Resizer},n.createElement(w.h,{event:"resize",handler:d}),n.createElement("div",{ref:a,className:c.DummyInput,dangerouslySetInnerHTML:{__html:e?`${e.replace(A,_)}<br>`:"<br>"}}),u)}let S={"&":"&amp;","<":"&lt;",">":"&gt;","\n":"<br>","\r":""},A=RegExp(`[${Object.keys(S).join()}]`,"g");function _(e){return S[e]}var C=r(5412),P=r(1532),k=r(5296),x=r(6267);function T({prefix:e,suffix:t,verticalContent:r,placeholder:u,value:d="",helpText:m,label:y,labelAction:g,labelHidden:b,disabled:w,clearButton:S,readOnly:A,autoFocus:_,focused:T,multiline:O,error:R,connectedRight:H,connectedLeft:I,type:M="text",name:D,id:j,role:N,step:$,largeStep:K,autoComplete:U,max:W,maxLength:F,maxHeight:B,min:L,minLength:J,pattern:q,inputMode:z,spellCheck:V,ariaOwns:G,ariaControls:X,ariaExpanded:Z,ariaActiveDescendant:Y,ariaAutocomplete:Q,showCharacterCount:ee,align:et,requiredIndicator:er,monospaced:en,selectTextOnFocus:ei,suggestion:ea,variant:eo="inherit",size:es="medium",onClearButtonClick:el,onChange:ec,onSpinnerChange:eu,onFocus:ed,onBlur:ep,tone:eh,autoSize:ef,loading:em}){let ey=(0,P.Q)(),[eg,ev]=(0,n.useState)(null),[eb,ew]=(0,n.useState)(!!T),eE=(0,o.u)(),eS=(0,n.useId)(),eA=j??eS,e_=(0,n.useRef)(null),eC=(0,n.useRef)(null),eP=(0,n.useRef)(null),ek=(0,n.useRef)(null),ex=(0,n.useRef)(null),eT=(0,n.useRef)(null),eO=(0,n.useRef)(null),eR=(0,n.useRef)(),eH=(0,n.useRef)(null),eI=(0,n.useCallback)(()=>O?eP.current:eC.current,[O]);(0,n.useEffect)(()=>{let e=eI();e&&void 0!==T&&(T?e.focus():e.blur())},[T,r,eI]),(0,n.useEffect)(()=>{let e=eC.current,t="text"===M||"tel"===M||"search"===M||"url"===M||"password"===M;e&&t&&ea&&e.setSelectionRange(d.length,ea.length)},[eb,d,M,ea]);let eM=ea||d,eD=null!=$?$:1,ej=null!=W?W:1/0,eN=null!=L?L:-1/0,e$=(0,a.AK)(c.TextField,!!eM&&c.hasValue,w&&c.disabled,A&&c.readOnly,R&&c.error,eh&&c[(0,a.OZ)("tone",eh)],O&&c.multiline,eb&&!w&&c.focus,"inherit"!==eo&&c[eo],"slim"===es&&c.slim),eK="currency"===M?"text":M,eU="number"===M||"integer"===M,eW=n.isValidElement(e)&&e.type===p.J,eF=e?n.createElement("div",{className:(0,a.AK)(c.Prefix,eW&&c.PrefixIcon),id:`${eA}-Prefix`,ref:ek},n.createElement(k.x,{as:"span",variant:"bodyMd"},e)):null,eB=t?n.createElement("div",{className:c.Suffix,id:`${eA}-Suffix`,ref:ex},n.createElement(k.x,{as:"span",variant:"bodyMd"},t)):null,eL=em?n.createElement("div",{className:c.Loading,id:`${eA}-Loading`,ref:eT},n.createElement(x.$,{size:"small"})):null,eJ=null;if(ee){let e=eM.length,t=F?ey.translate("Polaris.TextField.characterCountWithMaxLength",{count:e,limit:F}):ey.translate("Polaris.TextField.characterCount",{count:e}),r=(0,a.AK)(c.CharacterCount,O&&c.AlignFieldBottom),i=F?`${e}/${F}`:e;eJ=n.createElement("div",{id:`${eA}-CharacterCounter`,className:r,"aria-label":t,"aria-live":eb?"polite":"off","aria-atomic":"true",onClick:tt},n.createElement(k.x,{as:"span",variant:"bodyMd"},i))}let eq=""!==eM,ez=S&&eq?n.createElement("button",{type:"button",className:c.ClearButton,onClick:function(){el&&el(eA)},disabled:w},n.createElement(k.x,{as:"span",visuallyHidden:!0},ey.translate("Polaris.Common.clear")),n.createElement(p.J,{source:i,tone:"base"})):null,eV=(0,n.useCallback)((e,t=eD)=>{if(null==ec&&null==eu)return;let r=d?parseFloat(d):0;if(isNaN(r))return;let n="integer"===M?0:Math.max((r.toString().split(".")[1]||[]).length,(t.toString().split(".")[1]||[]).length),i=Math.min(Number(ej),Math.max(r+e*t,Number(eN)));null!=eu?eu(String(i.toFixed(n)),eA):null!=ec&&ec(String(i.toFixed(n)),eA)},[eA,ej,eN,ec,eu,eD,M,d]),eG=(0,n.useCallback)(()=>{clearTimeout(eR.current)},[]),eX=(0,n.useCallback)(e=>{let t=200,r=()=>{t>50&&(t-=10),e(0),eR.current=window.setTimeout(r,t)};eR.current=window.setTimeout(r,t),document.addEventListener("mouseup",eG,{once:!0})},[eG]),eZ=!eU||0===$||w||A?null:n.createElement(h,{onClick:tt,onChange:eV,onMouseDown:eX,onMouseUp:eG,ref:eH,onBlur:tr}),eY=O&&eg?{height:eg,maxHeight:B}:null,eQ=(0,n.useCallback)(e=>{ev(e)},[]),e0=O&&eE?n.createElement(E,{contents:eM||u,currentHeight:eg,minimumLines:"number"==typeof O?O:1,onHeightChange:eQ}):null,e1=[];R&&e1.push(`${eA}Error`),m&&e1.push((0,f.Nh)(eA)),ee&&e1.push(`${eA}-CharacterCounter`);let e2=[];e&&e2.push(`${eA}-Prefix`),t&&e2.push(`${eA}-Suffix`),r&&e2.push(`${eA}-VerticalContent`),e2.unshift((0,C.n)(eA));let e5=(0,a.AK)(c.Input,et&&c[(0,a.OZ)("Input-align",et)],t&&c["Input-suffixed"],S&&c["Input-hasClearButton"],en&&c.monospaced,ea&&c.suggestion,ef&&c["Input-autoSize"]),e6=e=>{if(ew(!0),ei&&!ea){let e=eI();e?.select()}ed&&ed(e)};(0,l.O)("wheel",function(e){document.activeElement===e.target&&eU&&e.stopPropagation()},eC);let e4=(0,n.createElement)(O?"textarea":"input",{name:D,id:eA,disabled:w,readOnly:A,role:N,autoFocus:_,value:eM,placeholder:u,style:eY,autoComplete:U,className:e5,ref:O?eP:eC,min:L,max:W,step:$,minLength:J,maxLength:F,spellCheck:V,pattern:q,inputMode:z,type:eK,rows:function(e){if(e)return"number"==typeof e?e:1}(O),size:ef?1:void 0,"aria-describedby":e1.length?e1.join(" "):void 0,"aria-labelledby":e2.join(" "),"aria-invalid":!!R,"aria-owns":G,"aria-activedescendant":Y,"aria-autocomplete":Q,"aria-controls":X,"aria-expanded":Z,"aria-required":er,...function(e){if(e)return e||"number"==typeof e&&e>0?{"aria-multiline":!0}:void 0}(O),onFocus:e6,onBlur:tr,onClick:tt,onKeyPress:function(e){let{key:t,which:r}=e;!eU||r===s.s.Enter||"number"===M&&/[\d.,eE+-]$/.test(t)||"integer"===M&&/[\deE+-]$/.test(t)||e.preventDefault()},onKeyDown:function(e){if(!eU)return;let{key:t,which:r}=e;"integer"===M&&("ArrowUp"===t||r===s.s.UpArrow)&&(eV(1),e.preventDefault()),"integer"===M&&("ArrowDown"===t||r===s.s.DownArrow)&&(eV(-1),e.preventDefault()),(r===s.s.Home||"Home"===t)&&void 0!==L&&(null!=eu?eu(String(L),eA):null!=ec&&ec(String(L),eA)),(r===s.s.End||"End"===t)&&void 0!==W&&(null!=eu?eu(String(W),eA):null!=ec&&ec(String(W),eA)),(r===s.s.PageUp||"PageUp"===t)&&void 0!==K&&eV(1,K),(r===s.s.PageDown||"PageDown"===t)&&void 0!==K&&eV(-1,K)},onChange:ea?void 0:te,onInput:ea?te:void 0,"data-1p-ignore":"off"===U||void 0,"data-lpignore":"off"===U||void 0,"data-form-type":"off"===U?"other":void 0}),e3=r?n.createElement("div",{className:c.VerticalContent,id:`${eA}-VerticalContent`,ref:eO,onClick:tt},r,e4):null,e7=r?e3:e4,e8=n.createElement("div",{className:(0,a.AK)(c.Backdrop,I&&c["Backdrop-connectedLeft"],H&&c["Backdrop-connectedRight"])}),e9=ef?n.createElement("div",{className:c.InputAndSuffixWrapper},n.createElement("div",{className:(0,a.AK)(c.AutoSizeWrapper,t&&c.AutoSizeWrapperWithSuffix),"data-auto-size-value":d||u},e7),eB):n.createElement(n.Fragment,null,e7,eB);return n.createElement(f.jN,{label:y,id:eA,error:R,action:g,labelHidden:b,helpText:m,requiredIndicator:er,disabled:w,readOnly:A},n.createElement(v,{left:I,right:H},n.createElement("div",{className:e$,onClick:function(e){let{target:t}=e,r=eC?.current?.getAttribute("role");if(t===eC.current&&"combobox"===r){eC.current?.focus(),e6(e);return}ti(t)||ts(t)||tn(t)||ta(t)||to(t)||eb||eI()?.focus()},ref:e_},eF,e9,eJ,eL,ez,eZ,e8,e0)));function te(e){ec&&ec(e.currentTarget.value,eA)}function tt(e){ta(e.target)||tn(e.target)||e.stopPropagation(),ti(e.target)||ts(e.target)||tn(e.target)||to(e.target)||eb||(ew(!0),eI()?.focus())}function tr(e){ew(!1),!e_.current?.contains(e?.relatedTarget)&&ep&&ep(e)}function tn(e){let t=eI();return e instanceof HTMLElement&&t&&(t.contains(e)||t.contains(document.activeElement))}function ti(e){return e instanceof Element&&(ek.current&&ek.current.contains(e)||ex.current&&ex.current.contains(e))}function ta(e){return e instanceof Element&&eH.current&&eH.current.contains(e)}function to(e){return e instanceof Element&&eT.current&&eT.current.contains(e)}function ts(e){return e instanceof Element&&eO.current&&(eO.current.contains(e)||eO.current.contains(document.activeElement))}}},4021:function(e,t,r){"use strict";var n;let i;r.d(t,{s:function(){return i}}),(n=i||(i={}))[n.Backspace=8]="Backspace",n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Shift=16]="Shift",n[n.Ctrl=17]="Ctrl",n[n.Alt=18]="Alt",n[n.Pause=19]="Pause",n[n.CapsLock=20]="CapsLock",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.LeftArrow=37]="LeftArrow",n[n.UpArrow=38]="UpArrow",n[n.RightArrow=39]="RightArrow",n[n.DownArrow=40]="DownArrow",n[n.Insert=45]="Insert",n[n.Delete=46]="Delete",n[n.Key0=48]="Key0",n[n.Key1=49]="Key1",n[n.Key2=50]="Key2",n[n.Key3=51]="Key3",n[n.Key4=52]="Key4",n[n.Key5=53]="Key5",n[n.Key6=54]="Key6",n[n.Key7=55]="Key7",n[n.Key8=56]="Key8",n[n.Key9=57]="Key9",n[n.KeyA=65]="KeyA",n[n.KeyB=66]="KeyB",n[n.KeyC=67]="KeyC",n[n.KeyD=68]="KeyD",n[n.KeyE=69]="KeyE",n[n.KeyF=70]="KeyF",n[n.KeyG=71]="KeyG",n[n.KeyH=72]="KeyH",n[n.KeyI=73]="KeyI",n[n.KeyJ=74]="KeyJ",n[n.KeyK=75]="KeyK",n[n.KeyL=76]="KeyL",n[n.KeyM=77]="KeyM",n[n.KeyN=78]="KeyN",n[n.KeyO=79]="KeyO",n[n.KeyP=80]="KeyP",n[n.KeyQ=81]="KeyQ",n[n.KeyR=82]="KeyR",n[n.KeyS=83]="KeyS",n[n.KeyT=84]="KeyT",n[n.KeyU=85]="KeyU",n[n.KeyV=86]="KeyV",n[n.KeyW=87]="KeyW",n[n.KeyX=88]="KeyX",n[n.KeyY=89]="KeyY",n[n.KeyZ=90]="KeyZ",n[n.LeftMeta=91]="LeftMeta",n[n.RightMeta=92]="RightMeta",n[n.Select=93]="Select",n[n.Numpad0=96]="Numpad0",n[n.Numpad1=97]="Numpad1",n[n.Numpad2=98]="Numpad2",n[n.Numpad3=99]="Numpad3",n[n.Numpad4=100]="Numpad4",n[n.Numpad5=101]="Numpad5",n[n.Numpad6=102]="Numpad6",n[n.Numpad7=103]="Numpad7",n[n.Numpad8=104]="Numpad8",n[n.Numpad9=105]="Numpad9",n[n.Multiply=106]="Multiply",n[n.Add=107]="Add",n[n.Subtract=109]="Subtract",n[n.Decimal=110]="Decimal",n[n.Divide=111]="Divide",n[n.F1=112]="F1",n[n.F2=113]="F2",n[n.F3=114]="F3",n[n.F4=115]="F4",n[n.F5=116]="F5",n[n.F6=117]="F6",n[n.F7=118]="F7",n[n.F8=119]="F8",n[n.F9=120]="F9",n[n.F10=121]="F10",n[n.F11=122]="F11",n[n.F12=123]="F12",n[n.NumLock=144]="NumLock",n[n.ScrollLock=145]="ScrollLock",n[n.Semicolon=186]="Semicolon",n[n.Equals=187]="Equals",n[n.Comma=188]="Comma",n[n.Dash=189]="Dash",n[n.Period=190]="Period",n[n.ForwardSlash=191]="ForwardSlash",n[n.GraveAccent=192]="GraveAccent",n[n.OpenBracket=219]="OpenBracket",n[n.BackSlash=220]="BackSlash",n[n.CloseBracket=221]="CloseBracket",n[n.SingleQuote=222]="SingleQuote"},71:function(e,t,r){"use strict";r.d(t,{gD:function(){return o},oh:function(){return i}});var n=r(6193);function i(e,t,r){return null==e?null:!function(e,t){if(null==e||!(0,n.isValidElement)(e)||"string"==typeof e.type)return!1;let{type:r}=e,i=e.props?.__type__||r;return(Array.isArray(t)?t:[t]).some(e=>"string"!=typeof i&&a(e,i))}(e,t)?n.createElement(t,r,e):e}let a=(e,t)=>e===t;function o(e,t=()=>!0){return n.Children.toArray(e).filter(e=>(0,n.isValidElement)(e)&&t(e))}},4923:function(e,t,r){"use strict";r.d(t,{AK:function(){return a},jD:function(){return l},OX:function(){return c},vW:function(){return s},OZ:function(){return o}});var n=r(9044);function i(e){let t=typeof e;return null!=e&&("object"===t||"function"===t)}function a(...e){return e.filter(Boolean).join(" ")}function o(e,t){return`${e}${t.charAt(0).toUpperCase()}${t.slice(1)}`}function s(e){let t=Object.entries(e).filter(([e,t])=>null!=t);return t.length?Object.fromEntries(t):void 0}function l(e,t,r,a){return a?Object.fromEntries(Object.entries(i(a)?Object.fromEntries(Object.entries(a).map(([e,t])=>[e,`var(--p-${r}-${t})`])):{[n.vi[0]]:`var(--p-${r}-${a})`}).map(([r,n])=>[`--pc-${e}-${t}-${r}`,n])):{}}function c(e,t,r){return r?i(r)?Object.fromEntries(Object.entries(r).map(([r,n])=>[`--pc-${e}-${t}-${r}`,n])):{[`--pc-${e}-${t}-${n.vi[0]}`]:r}:{}}},7272:function(e,t,r){"use strict";r.d(t,{U:function(){return n}});class n extends Error{constructor(e=""){super(`${e?`${e} `:e}Your application must be wrapped in an <AppProvider> component. See https://polaris.shopify.com/components/app-provider for implementation instructions.`),this.name="MissingAppProviderError"}}},1112:function(e,t,r){"use strict";r.d(t,{T7:function(){return u},TA:function(){return c},Y_:function(){return l},c7:function(){return d},i8:function(){return a},so:function(){return o},vr:function(){return s}});let n='a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not([aria-disabled="true"]):not([tabindex="-1"]):not(:disabled),*[tabindex]',i='a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not([aria-disabled="true"]):not([tabindex="-1"]):not(:disabled),*[tabindex]:not([tabindex="-1"])',a=({currentTarget:e})=>e.blur();function o(e,t=!0){return!t&&p(e,n)?e:e.querySelector(n)}function s(e,t=!0){o(e,t)?.focus()}function l(e,t=!0){return!t&&p(e,i)?e:e.querySelector(i)}function c(e,t=!0){let r=l(e,t);return!!r&&(r.focus(),!0)}function u(e,t=!0){if(!t&&p(e,i))return e;let r=e.querySelectorAll(i);return r[r.length-1]}function d(e,t=!0){let r=u(e,t);return!!r&&(r.focus(),!0)}function p(e,t){if(e.matches)return e.matches(t);let r=(e.ownerDocument||document).querySelectorAll(t),n=r.length;for(;--n>=0&&r.item(n)!==e;)return n>-1}},1532:function(e,t,r){"use strict";r.d(t,{Q:function(){return o}});var n=r(6193),i=r(7272),a=r(9163);function o(){let e=(0,n.useContext)(a.O);if(!e)throw new i.U("No i18n was provided.");return e}},5457:function(e,t,r){"use strict";r.d(t,{O:function(){return a}});var n=r(6193),i=r(1029);function a(e,t,r,a){let o=(0,n.useRef)(t),s=(0,n.useRef)(a);(0,i.L)(()=>{o.current=t},[t]),(0,i.L)(()=>{s.current=a},[a]),(0,n.useEffect)(()=>{let t;if(!("string"==typeof e&&null!==r))return;if(void 0===r)t=window;else if("current"in r){if(null===r.current)return;t=r.current}else t=r;let n=s.current,i=e=>o.current(e);return t.addEventListener(e,i,n),()=>{t.removeEventListener(e,i,n)}},[e,r])}},9888:function(e,t,r){"use strict";r.d(t,{O:function(){return i}});var n=r(6193);function i(e){let[t,r]=(0,n.useState)(e);return{value:t,toggle:(0,n.useCallback)(()=>r(e=>!e),[]),setTrue:(0,n.useCallback)(()=>r(!0),[]),setFalse:(0,n.useCallback)(()=>r(!1),[])}}},8656:function(e,t,r){"use strict";r.d(t,{O:function(){return n}});let n=(0,r(6193).createContext)(!1)},4355:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeHost=void 0,t.decodeHost=function(e){return atob(e)}},9782:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildEmbeddedAppUrl=t.getEmbeddedAppUrl=void 0;let n=r(7941),i=n.__importStar(r(5421)),a=r(1208),o=r(638),s=r(4355);function l(e){return t=>{(0,o.sanitizeHost)()(t,!0);let r=(0,s.decodeHost)(t);return`https://${r}/apps/${e.apiKey}`}}t.getEmbeddedAppUrl=function(e){return t=>n.__awaiter(this,void 0,void 0,function*(){var r=n.__rest(t,[]);let o=yield(0,a.abstractConvertRequest)(r);if(!o)throw new i.MissingRequiredArgument("getEmbeddedAppUrl requires a request object argument");if(!o.url)throw new i.InvalidRequestError("Request does not contain a URL");let s=new URL(o.url,`https://${o.headers.host}`).searchParams.get("host");if("string"!=typeof s)throw new i.InvalidRequestError("Request does not contain a host query parameter");return l(e)(s)})},t.buildEmbeddedAppUrl=l},5511:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shopifyAuth=void 0;let n=r(9631),i=r(1395),a=r(3376),o=r(9782),s=r(8398);t.shopifyAuth=function(e){var t;let r={begin:(0,n.begin)(e),callback:(0,n.callback)(e),nonce:i.nonce,safeCompare:a.safeCompare,getEmbeddedAppUrl:(0,o.getEmbeddedAppUrl)(e),buildEmbeddedAppUrl:(0,o.buildEmbeddedAppUrl)(e)};return(null===(t=e.future)||void 0===t?void 0:t.unstable_tokenExchange)&&(r.tokenExchange=(0,s.tokenExchange)(e)),r}},871:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSession=void 0;let n=r(7941),i=r(4571),a=r(5150),o=r(2362),s=r(6073);t.createSession=function({config:e,accessTokenResponse:t,shop:r,state:l}){let c=!!t.associated_user;if((0,o.logger)(e).info("Creating new session",{shop:r,isOnline:c}),!c)return new a.Session({id:(0,s.getOfflineId)(e)(r),shop:r,state:l,isOnline:c,accessToken:t.access_token,scope:t.scope});{let o;let{access_token:u,scope:d}=t,p=n.__rest(t,["access_token","scope"]),h=new Date(Date.now()+1e3*t.expires_in);return o=e.isEmbeddedApp?(0,s.getJwtSessionId)(e)(r,`${p.associated_user.id}`):(0,i.v4)(),new a.Session({id:o,shop:r,state:l,isOnline:c,accessToken:u,scope:d,expires:h,onlineAccessInfo:p})}}},1395:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nonce=void 0;let n=r(6059);t.nonce=function(){return(n.crypto.getRandomValues?n.crypto.getRandomValues(new Uint8Array(15)):n.crypto.randomBytes(15)).map(e=>e%10).join("")}},9631:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.callback=t.begin=void 0;let n=r(7941),i=n.__importDefault(r(3741)),a=r(8225),o=n.__importDefault(r(6315)),s=n.__importStar(r(5421)),l=r(310),c=r(638),u=r(1208),d=r(2362),p=r(6664),h=r(3226),f=r(1395),m=r(3376),y=r(871),g=({request:e,log:t,func:r})=>{t.debug(`Possible bot request to auth ${r}: `,{userAgent:e.headers["User-Agent"]})};function v(e,t){if(e)throw new s.PrivateAppError(t)}t.begin=function(e){return t=>n.__awaiter(this,void 0,void 0,function*(){var{shop:r,callbackPath:a,isOnline:s}=t,l=n.__rest(t,["shop","callbackPath","isOnline"]);v(e.isCustomStoreApp,"Cannot perform OAuth for private apps");let p=(0,d.logger)(e);p.info("Beginning OAuth",{shop:r,isOnline:s,callbackPath:a});let m=yield(0,u.abstractConvertRequest)(l),y=yield(0,u.abstractConvertIncomingResponse)(l);if((0,i.default)(m.headers["User-Agent"]))return g({request:m,log:p,func:"begin"}),y.statusCode=410,(0,u.abstractConvertResponse)(y,l);let b=new u.Cookies(m,y,{keys:[e.apiSecretKey],secure:!0}),w=(0,f.nonce)();yield b.setAndSign(h.STATE_COOKIE_NAME,w,{expires:new Date(Date.now()+6e4),sameSite:"lax",secure:!0,path:a});let E={client_id:e.apiKey,scope:e.scopes.toString(),redirect_uri:`${e.hostScheme}://${e.hostName}${a}`,state:w,"grant_options[]":s?"per-user":""},S=new o.default;S.putAll(E);let A=(0,c.sanitizeShop)(e)(r,!0),_=`https://${A}/admin/oauth/authorize${S.stringify()}`;return y.statusCode=302,y.statusText="Found",y.headers=Object.assign(Object.assign(Object.assign({},y.headers),b.response.headers),{Location:_}),p.debug(`OAuth started, redirecting to ${_}`,{shop:r,isOnline:s}),(0,u.abstractConvertResponse)(y,l)})},t.callback=function(e){return function(t){var r=n.__rest(t,[]);return n.__awaiter(this,void 0,void 0,function*(){v(e.isCustomStoreApp,"Cannot perform OAuth for private apps");let t=(0,d.logger)(e),o=yield(0,u.abstractConvertRequest)(r),f=new URL(o.url,`${e.hostScheme}://${e.hostName}`).searchParams,b=f.get("shop");if((0,i.default)(o.headers["User-Agent"]))throw g({request:o,log:t,func:"callback"}),new s.BotActivityDetected("Invalid OAuth callback initiated by bot");t.info("Completing OAuth",{shop:b});let w=new u.Cookies(o,{},{keys:[e.apiSecretKey],secure:!0}),E=yield w.getAndVerify(h.STATE_COOKIE_NAME);if(w.deleteCookie(h.STATE_COOKIE_NAME),!E)throw t.error("Could not find OAuth cookie",{shop:b}),new s.CookieNotFound(`Cannot complete OAuth process. Could not find an OAuth cookie for shop url: ${b}`);let S=Object.fromEntries(f.entries());if(!(yield function({config:e,query:t,stateFromCookie:r}){return n.__awaiter(this,void 0,void 0,function*(){return(yield(0,l.validateHmac)(e)(t))&&(0,m.safeCompare)(t.state,r)})}({config:e,query:S,stateFromCookie:E})))throw t.error("Invalid OAuth callback",{shop:b,stateFromCookie:E}),new s.InvalidOAuthError("Invalid OAuth callback.");t.debug("OAuth request is valid, requesting access token",{shop:b});let A={client_id:e.apiKey,client_secret:e.apiSecretKey,code:f.get("code")},_=(0,c.sanitizeShop)(e)(f.get("shop"),!0),C=yield(0,u.abstractFetch)(`https://${_}/admin/oauth/access_token`,{method:"POST",body:JSON.stringify(A),headers:{"Content-Type":p.DataType.JSON,Accept:p.DataType.JSON}});C.ok||(0,a.throwFailedRequest)((yield C.json()),C,!1);let P=(0,y.createSession)({accessTokenResponse:yield C.json(),shop:_,state:E,config:e});return e.isEmbeddedApp||(yield w.setAndSign(h.SESSION_COOKIE_NAME,P.id,{expires:P.expires,sameSite:"lax",secure:!0,path:"/"})),{headers:yield(0,u.abstractConvertHeaders)(w.response.headers,r),session:P}})}}},3376:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.safeCompare=void 0;let n=r(7941).__importStar(r(5421));t.safeCompare=(e,t)=>{if(typeof e==typeof t){let r=new TextEncoder,n=r.encode(JSON.stringify(e)),i=r.encode(JSON.stringify(t));if(n.length===i.length)return function(e,t){let r=new Uint8Array(e),n=new Uint8Array(t),i=0;for(let e=0;e<r.length;e++)i|=r[e]^n[e];return 0===i}(n,i)}else throw new n.SafeCompareError(`Mismatched data types provided: ${typeof e} and ${typeof t}`);return!1}},8398:function(e,t,r){"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.tokenExchange=t.RequestedTokenType=void 0;let a=r(7941),o=r(8225),s=r(2109),l=r(638),c=r(1302),u=r(6664),d=r(871);(i=n||(t.RequestedTokenType=n={})).OnlineAccessToken="urn:shopify:params:oauth:token-type:online-access-token",i.OfflineAccessToken="urn:shopify:params:oauth:token-type:offline-access-token",t.tokenExchange=function(e){return({shop:t,sessionToken:r,requestedTokenType:n})=>a.__awaiter(this,void 0,void 0,function*(){yield(0,s.decodeSessionToken)(e)(r);let i={client_id:e.apiKey,client_secret:e.apiSecretKey,grant_type:"urn:ietf:params:oauth:grant-type:token-exchange",subject_token:r,subject_token_type:"urn:ietf:params:oauth:token-type:id_token",requested_token_type:n},a=(0,l.sanitizeShop)(e)(t,!0),p=yield(0,c.abstractFetch)(`https://${a}/admin/oauth/access_token`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":u.DataType.JSON,Accept:u.DataType.JSON}});return p.ok||(0,o.throwFailedRequest)((yield p.json()),p,!1),{session:(0,d.createSession)({accessTokenResponse:yield p.json(),shop:a,state:"",config:e})}})}},3226:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STATE_COOKIE_NAME=t.SESSION_COOKIE_NAME=void 0,t.SESSION_COOKIE_NAME="shopify_app_session",t.STATE_COOKIE_NAME="shopify_app_state"},8878:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AuthScopes=void 0;class r{constructor(e){let t=[];"string"==typeof e?t=e.split(RegExp(`${r.SCOPE_DELIMITER}\\s*`)):Array.isArray(e)?t=e:e&&(t=Array.from(e.expandedScopes)),t=t.map(e=>e.trim()).filter(e=>e.length);let n=this.getImpliedScopes(t),i=new Set(t),a=new Set(n);this.compressedScopes=new Set([...i].filter(e=>!a.has(e))),this.expandedScopes=new Set([...i,...a])}has(e){return 0===(e instanceof r?e:new r(e)).toArray().filter(e=>!this.expandedScopes.has(e)).length}equals(e){let t;return t=e instanceof r?e:new r(e),this.compressedScopes.size===t.compressedScopes.size&&0===this.toArray().filter(e=>!t.has(e)).length}toString(){return this.toArray().join(r.SCOPE_DELIMITER)}toArray(){return[...this.compressedScopes]}getImpliedScopes(e){return e.reduce((e,t)=>{let r=t.match(/^(unauthenticated_)?write_(.*)$/);return r&&e.push(`${r[1]?r[1]:""}read_${r[2]}`),e},[])}}t.AuthScopes=r,r.SCOPE_DELIMITER=","},8107:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RequestedTokenType=void 0,r(7941).__exportStar(r(3226),t);var n=r(8398);Object.defineProperty(t,"RequestedTokenType",{enumerable:!0,get:function(){return n.RequestedTokenType}})},800:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1624:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cancel=void 0;let n=r(7941),i=r(8703),a=r(5421),o=`
  mutation appSubscriptionCancel($id: ID!, $prorate: Boolean) {
    appSubscriptionCancel(id: $id, prorate: $prorate) {
      appSubscription {
        id
        name
        test
      }
      userErrors {
        field
        message
      }
    }
  }
`;t.cancel=function(e){return function(t){var r,s,l,c,u,d,p;return n.__awaiter(this,void 0,void 0,function*(){let{session:n,subscriptionId:h,prorate:f=!0}=t,m=new((0,i.graphqlClientClass)({config:e}))({session:n});try{let e=yield m.request(o,{variables:{id:h,prorate:f}});if(null===(s=null===(r=e.data)||void 0===r?void 0:r.appSubscriptionCancel)||void 0===s?void 0:s.userErrors.length)throw new a.BillingError({message:"Error while canceling a subscription",errorData:null===(c=null===(l=e.data)||void 0===l?void 0:l.appSubscriptionCancel)||void 0===c?void 0:c.userErrors});return null===(d=null===(u=e.data)||void 0===u?void 0:u.appSubscriptionCancel)||void 0===d?void 0:d.appSubscription}catch(e){if(e instanceof a.GraphqlQueryError)throw new a.BillingError({message:e.message,errorData:null===(p=e.response)||void 0===p?void 0:p.errors});throw e}})}}},7758:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.check=void 0;let n=r(7941),i=r(8703),a=r(5421);function o({plans:e,isTest:t,subscription:r}){return e.includes(r.name)&&(t||!r.test)}function s({plans:e,isTest:t,purchase:r}){return e.includes(r.name)&&(t||!r.test)&&"ACTIVE"===r.status}t.check=function(e){return function({session:t,plans:r,isTest:c=!0,returnObject:u=!1}){return n.__awaiter(this,void 0,void 0,function*(){if(!e.billing)throw new a.BillingError({message:"Attempted to look for purchases without billing configs",errorData:[]});let d=new((0,i.graphqlClientClass)({config:e}))({session:t});return function({plans:e,client:t,isTest:r,returnObject:i}){var a;return n.__awaiter(this,void 0,void 0,function*(){let n;let c=!!i&&{hasActivePayment:!1,oneTimePurchases:[],appSubscriptions:[]},u=null;do{if(n=null===(a=(yield t.request(l,{variables:{endCursor:u}})).data)||void 0===a?void 0:a.currentAppInstallation,i)n.activeSubscriptions.map(t=>{o({plans:e,isTest:r,subscription:t})&&(c.hasActivePayment=!0,c.appSubscriptions.push(t))}),n.oneTimePurchases.edges.map(t=>{s({plans:e,isTest:r,purchase:t.node})&&(c.hasActivePayment=!0,c.oneTimePurchases.push(t.node))});else{let t={plans:e,isTest:r,installation:n};if(function({plans:e,isTest:t,installation:r}){return r.activeSubscriptions.some(r=>o({plans:e,isTest:t,subscription:r}))}(t)||function({plans:e,isTest:t,installation:r}){return r.oneTimePurchases.edges.some(r=>s({plans:e,isTest:t,purchase:r.node}))}(t))return!0}u=n.oneTimePurchases.pageInfo.endCursor}while(null==n?void 0:n.oneTimePurchases.pageInfo.hasNextPage);return c})}({plans:Array.isArray(r)?r:[r],client:d,isTest:c,returnObject:u})})}};let l=`
  query appSubscription($endCursor: String) {
    currentAppInstallation {
      activeSubscriptions {
        id
        name
        test
      }

      oneTimePurchases(first: 250, sortKey: CREATED_AT, after: $endCursor) {
        edges {
          node {
            id
            name
            test
            status
          }
        }
        pageInfo {
          hasNextPage
          endCursor
        }
      }
    }
  }
`},7859:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shopifyBilling=void 0;let n=r(7758),i=r(6695),a=r(1624),o=r(5640);t.shopifyBilling=function(e){return{check:(0,n.check)(e),request:(0,i.request)(e),cancel:(0,a.cancel)(e),subscriptions:(0,o.subscriptions)(e)}}},6695:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.request=void 0;let n=r(7941),i=r(4668),a=r(5421),o=r(9782),s=r(8703),l=r(6059),c=r(2071);t.request=function(e){return function(t){var r,{session:p,plan:h,isTest:f=!0,returnUrl:m,returnObject:y=!1}=t,g=n.__rest(t,["session","plan","isTest","returnUrl","returnObject"]);return n.__awaiter(this,void 0,void 0,function*(){let t;if(!e.billing||!e.billing[h])throw new a.BillingError({message:`Could not find plan ${h} in billing settings`,errorData:[]});let v=Object.assign({},e.billing[h]),b=Object.fromEntries(Object.entries(g).filter(([e,t])=>void 0!==t)),w=p.shop.replace(".myshopify.com",""),E=(0,o.buildEmbeddedAppUrl)(e)((0,l.hashString)(`admin.shopify.com/store/${w}`,c.HashFormat.Base64)),S=`${e.hostScheme}://${e.hostName}?shop=${p.shop}`,A=m||(e.isEmbeddedApp?E:S),_=new((0,s.graphqlClientClass)({config:e}))({session:p});if("lineItems"in v){let e=function(e,t){let r=Object.assign(Object.assign({},e),t),n=[];if(e.lineItems&&t.lineItems){for(let r of e.lineItems){let e=!1;for(let i of t.lineItems)if(r.interval===i.interval){n.push(Object.assign(Object.assign({},r),i)),e=!0;break}e||n.push(r)}r.lineItems=n}return r}(v,b);t=(yield function({billingConfig:e,plan:t,client:r,returnUrl:o,isTest:s}){return n.__awaiter(this,void 0,void 0,function*(){let n=e.lineItems.map(e=>{if(e.interval===i.BillingInterval.Every30Days||e.interval===i.BillingInterval.Annual){let t={interval:e.interval,price:{amount:e.amount,currencyCode:e.currencyCode}};return e.discount&&(t.discount={durationLimitInIntervals:e.discount.durationLimitInIntervals,value:{amount:e.discount.value.amount,percentage:e.discount.value.percentage}}),{plan:{appRecurringPricingDetails:t}}}if(e.interval===i.BillingInterval.Usage)return{plan:{appUsagePricingDetails:{terms:e.terms,cappedAmount:{amount:e.amount,currencyCode:e.currencyCode}}}};throw new a.BillingError({message:"Invalid interval provided",errorData:[e]})}),l=yield r.request(u,{variables:{name:t,trialDays:e.trialDays,replacementBehavior:e.replacementBehavior,returnUrl:o,test:s,lineItems:n}});if(l.errors)throw new a.BillingError({message:"Error while billing the store",errorData:l.errors});return l.data})}({billingConfig:e,plan:h,client:_,returnUrl:A,isTest:f})).appSubscriptionCreate}else t=v.interval===i.BillingInterval.OneTime?(yield function({billingConfig:e,plan:t,client:r,returnUrl:i,isTest:o}){return n.__awaiter(this,void 0,void 0,function*(){let n=yield r.request(d,{variables:{name:t,returnUrl:i,test:o,price:{amount:e.amount,currencyCode:e.currencyCode}}});if(n.errors)throw new a.BillingError({message:"Error while billing the store",errorData:n.errors});return n.data})}({billingConfig:Object.assign(Object.assign({},v),b),plan:h,client:_,returnUrl:A,isTest:f})).appPurchaseOneTimeCreate:v.interval===i.BillingInterval.Usage?(yield function({billingConfig:e,plan:t,client:r,returnUrl:i,isTest:o}){return n.__awaiter(this,void 0,void 0,function*(){let n=yield r.request(u,{variables:{name:t,returnUrl:i,test:o,trialDays:e.trialDays,replacementBehavior:e.replacementBehavior,lineItems:[{plan:{appUsagePricingDetails:{terms:e.usageTerms,cappedAmount:{amount:e.amount,currencyCode:e.currencyCode}}}}]}});if(n.errors)throw new a.BillingError({message:`Error while billing the store:: ${n.errors}`,errorData:n.errors});return n.data})}({billingConfig:Object.assign(Object.assign({},v),b),plan:h,client:_,returnUrl:A,isTest:f})).appSubscriptionCreate:(yield function({billingConfig:e,plan:t,client:r,returnUrl:i,isTest:o}){var s,l,c,d,p;return n.__awaiter(this,void 0,void 0,function*(){let n=yield r.request(u,{variables:{name:t,trialDays:e.trialDays,replacementBehavior:e.replacementBehavior,returnUrl:i,test:o,lineItems:[{plan:{appRecurringPricingDetails:{interval:e.interval,price:{amount:e.amount,currencyCode:e.currencyCode},discount:{durationLimitInIntervals:null===(s=e.discount)||void 0===s?void 0:s.durationLimitInIntervals,value:{amount:null===(c=null===(l=e.discount)||void 0===l?void 0:l.value)||void 0===c?void 0:c.amount,percentage:null===(p=null===(d=e.discount)||void 0===d?void 0:d.value)||void 0===p?void 0:p.percentage}}}}}]}});if(n.errors)throw new a.BillingError({message:"Error while billing the store",errorData:n.errors});return n.data})}({billingConfig:Object.assign(Object.assign({},v),b),plan:h,client:_,returnUrl:A,isTest:f})).appSubscriptionCreate;if(null===(r=t.userErrors)||void 0===r?void 0:r.length)throw new a.BillingError({message:"Error while billing the store",errorData:t.userErrors});return y?t:t.confirmationUrl})}};let u=`
  mutation test(
    $name: String!
    $lineItems: [AppSubscriptionLineItemInput!]!
    $returnUrl: URL!
    $test: Boolean
    $trialDays: Int
    $replacementBehavior: AppSubscriptionReplacementBehavior
  ) {
    appSubscriptionCreate(
      name: $name
      lineItems: $lineItems
      returnUrl: $returnUrl
      test: $test
      trialDays: $trialDays
      replacementBehavior: $replacementBehavior
    ) {
      appSubscription {
        id
        name
        test
      }
      confirmationUrl
      userErrors {
        field
        message
      }
    }
  }
`,d=`
  mutation test(
    $name: String!
    $price: MoneyInput!
    $returnUrl: URL!
    $test: Boolean
  ) {
    appPurchaseOneTimeCreate(
      name: $name
      price: $price
      returnUrl: $returnUrl
      test: $test
    ) {
      appPurchaseOneTime {
        id
        name
        test
      }
      confirmationUrl
      userErrors {
        field
        message
      }
    }
  }
`},5640:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.subscriptions=void 0;let n=r(7941),i=r(5421),a=r(8703),o=`
  query appSubscription {
    currentAppInstallation {
      activeSubscriptions {
        id
        name
        test
      }
  }
}
`;t.subscriptions=function(e){return function({session:t}){var r;return n.__awaiter(this,void 0,void 0,function*(){if(!e.billing)throw new i.BillingError({message:"Attempted to look for purchases without billing configs",errorData:[]});let n=new((0,a.graphqlClientClass)({config:e}))({session:t});return null===(r=(yield n.request(o)).data)||void 0===r?void 0:r.currentAppInstallation})}}},156:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3936:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.graphqlClientClass=t.GraphqlClient=void 0;let n=r(7941),i=r(5977),a=r(2362),o=n.__importStar(r(5421)),s=r(1302),l=r(8225);class c{constructor(e){var t,r;let n=this.graphqlClass().config;if(!n.isCustomStoreApp&&!e.session.accessToken)throw new o.MissingRequiredArgument("Missing access token when creating GraphQL client");if(e.apiVersion){let t=e.apiVersion===n.apiVersion?`Admin client has a redundant API version override to the default ${e.apiVersion}`:`Admin client overriding default API version ${n.apiVersion} with ${e.apiVersion}`;(0,a.logger)(n).debug(t)}this.session=e.session,this.apiVersion=e.apiVersion,this.client=(0,i.createAdminApiClient)({accessToken:null!==(t=n.adminApiAccessToken)&&void 0!==t?t:this.session.accessToken,apiVersion:null!==(r=this.apiVersion)&&void 0!==r?r:n.apiVersion,storeDomain:this.session.shop,customFetchApi:s.abstractFetch,logger:(0,l.clientLoggerFactory)(n),userAgentPrefix:(0,l.getUserAgent)(n)})}query(e){var t;return n.__awaiter(this,void 0,void 0,function*(){let r,n;if((0,a.logger)(this.graphqlClass().config).deprecated("10.0.0","The query method is deprecated, and was replaced with the request method.\nSee the migration guide: https://github.com/Shopify/shopify-api-js/blob/main/packages/shopify-api/docs/migrating-to-v9.md#using-the-new-clients."),"string"==typeof e.data&&0===e.data.length||0===Object.entries(e.data).length)throw new o.MissingRequiredArgument("Query missing.");"string"==typeof e.data?r=e.data:(r=e.data.query,n=e.data.variables);let i=Object.fromEntries(Object.entries(null!==(t=null==e?void 0:e.extraHeaders)&&void 0!==t?t:{}).map(([e,t])=>[e,Array.isArray(t)?t.join(", "):t.toString()]));return{body:yield this.request(r,{headers:i,retries:e.tries?e.tries-1:void 0,variables:n}),headers:{}}})}request(e,t){var r;return n.__awaiter(this,void 0,void 0,function*(){let n=yield this.client.request(e,Object.assign({apiVersion:this.apiVersion||this.graphqlClass().config.apiVersion},t));if(n.errors){let e=n.errors.response;(0,l.throwFailedRequest)(n,e,(null!==(r=null==t?void 0:t.retries)&&void 0!==r?r:0)>0)}return n})}graphqlClass(){return this.constructor}}t.GraphqlClient=c,t.graphqlClientClass=function({config:e}){class t extends c{}return t.config=e,Reflect.defineProperty(t,"name",{value:"GraphqlClient"}),t}},8703:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RestClient=t.restClientClass=t.GraphqlClient=t.graphqlClientClass=void 0;var n=r(3936);Object.defineProperty(t,"graphqlClientClass",{enumerable:!0,get:function(){return n.graphqlClientClass}}),Object.defineProperty(t,"GraphqlClient",{enumerable:!0,get:function(){return n.GraphqlClient}});var i=r(187);Object.defineProperty(t,"restClientClass",{enumerable:!0,get:function(){return i.restClientClass}}),Object.defineProperty(t,"RestClient",{enumerable:!0,get:function(){return i.RestClient}})},187:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.restClientClass=t.RestClient=void 0;let n=r(7941),i=r(5977),a=r(9753),o=r(8225),s=r(1302),l=n.__importStar(r(5421)),c=r(2362);class u{constructor({session:e,apiVersion:t}){var r;this.loggedDeprecations={};let n=this.restClass().config;if(!n.isCustomStoreApp&&!e.accessToken)throw new l.MissingRequiredArgument("Missing access token when creating REST client");if(t){let e=t===n.apiVersion?`REST client has a redundant API version override to the default ${t}`:`REST client overriding default API version ${n.apiVersion} with ${t}`;(0,c.logger)(n).debug(e)}let a=null!==(r=n.adminApiAccessToken)&&void 0!==r?r:n.apiSecretKey;this.session=e,this.apiVersion=null!=t?t:n.apiVersion,this.client=(0,i.createAdminRestApiClient)({scheme:n.hostScheme,storeDomain:e.shop,apiVersion:null!=t?t:n.apiVersion,accessToken:n.isCustomStoreApp?a:e.accessToken,customFetchApi:s.abstractFetch,logger:(0,o.clientLoggerFactory)(n),userAgentPrefix:(0,o.getUserAgent)(n),defaultRetryTime:this.restClass().RETRY_WAIT_TIME,formatPaths:this.restClass().formatPaths})}get(e){return n.__awaiter(this,void 0,void 0,function*(){return this.request(Object.assign({method:a.Method.Get},e))})}post(e){return n.__awaiter(this,void 0,void 0,function*(){return this.request(Object.assign({method:a.Method.Post},e))})}put(e){return n.__awaiter(this,void 0,void 0,function*(){return this.request(Object.assign({method:a.Method.Put},e))})}delete(e){return n.__awaiter(this,void 0,void 0,function*(){return this.request(Object.assign({method:a.Method.Delete},e))})}request(e){var t,r,i;return n.__awaiter(this,void 0,void 0,function*(){let n;let c={headers:Object.assign(Object.assign({},e.extraHeaders),e.type?{"Content-Type":e.type.toString()}:{}),retries:e.tries?e.tries-1:void 0,searchParams:e.query};switch(e.method){case a.Method.Get:n=yield this.client.get(e.path,c);break;case a.Method.Put:n=yield this.client.put(e.path,Object.assign(Object.assign({},c),{data:e.data}));break;case a.Method.Post:n=yield this.client.post(e.path,Object.assign(Object.assign({},c),{data:e.data}));break;case a.Method.Delete:n=yield this.client.delete(e.path,c);break;default:throw new l.InvalidRequestError(`Unsupported request method '${e.method}'`)}let d=yield n.json(),p=(0,s.canonicalizeHeaders)(Object.fromEntries(n.headers.entries()));n.ok||(0,o.throwFailedRequest)(d,n,(null!==(t=e.tries)&&void 0!==t?t:1)>1);let h={body:d,headers:p};yield this.logDeprecations({method:e.method,url:e.path,headers:c.headers,body:e.data?JSON.stringify(e.data):void 0},h);let f=n.headers.get("Link");if(void 0!==f){let t={limit:(null===(r=e.query)||void 0===r?void 0:r.limit)?null===(i=e.query)||void 0===i?void 0:i.limit.toString():u.DEFAULT_LIMIT};if(f)for(let e of f.split(", ")){let r=e.match(u.LINK_HEADER_REGEXP);if(!r)continue;let n=r[2],i=new URL(r[1]),a=i.searchParams.get("fields"),o=i.searchParams.get("page_info");if(!t.fields&&a&&(t.fields=a.split(",")),o)switch(n){case"previous":t.previousPageUrl=r[1],t.prevPage=this.buildRequestParams(r[1]);break;case"next":t.nextPageUrl=r[1],t.nextPage=this.buildRequestParams(r[1])}}h.pageInfo=t}return h})}restClass(){return this.constructor}buildRequestParams(e){let t=new URL(e);return{path:t.pathname.replace(RegExp("^/admin/api/[^/]+/(.*).json$"),"$1"),query:Object.fromEntries(t.searchParams.entries())}}logDeprecations(e,t){return n.__awaiter(this,void 0,void 0,function*(){let r=this.restClass().config,n=(0,s.getHeader)(t.headers,"X-Shopify-API-Deprecated-Reason");if(n){let t={message:n,path:e.url};e.body&&(t.body=`${e.body.substring(0,100)}...`);let i=yield(0,s.createSHA256HMAC)(r.apiSecretKey,JSON.stringify(t),s.HashFormat.Hex);if(!Object.keys(this.loggedDeprecations).includes(i)||Date.now()-this.loggedDeprecations[i]>=u.DEPRECATION_ALERT_DELAY){this.loggedDeprecations[i]=Date.now();let e=Error().stack,n=`API Deprecation Notice ${new Date().toLocaleString()} : ${JSON.stringify(t)}  -  Stack Trace: ${e}`;yield(0,c.logger)(r).warning(n)}}})}}t.RestClient=u,u.LINK_HEADER_REGEXP=/<([^<]+)>; rel="([^"]+)"/,u.DEFAULT_LIMIT="50",u.RETRY_WAIT_TIME=1e3,u.DEPRECATION_ALERT_DELAY=3e5,t.restClientClass=function(e){let{config:t,formatPaths:r}=e;class n extends u{}return n.config=t,n.formatPaths=void 0===r||r,Reflect.defineProperty(n,"name",{value:"RestClient"}),n}},2223:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8225:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throwFailedRequest=t.clientLoggerFactory=t.getUserAgent=void 0;let n=r(7941),i=r(9753),a=n.__importStar(r(5421)),o=r(4668),s=r(3089),l=r(1302),c=r(2362);t.getUserAgent=function(e){let t=`${o.LIBRARY_NAME} v${s.SHOPIFY_API_LIBRARY_VERSION} | ${(0,l.abstractRuntimeString)()}`;return e.userAgentPrefix&&(t=`${e.userAgentPrefix} | ${t}`),t},t.clientLoggerFactory=function(e){return t=>{if(e.logger.httpRequests)switch(t.type){case"HTTP-Response":{let r=t.content;(0,c.logger)(e).debug("Received response for HTTP request",{requestParams:JSON.stringify(r.requestParams),response:JSON.stringify(r.response)});break}case"HTTP-Retry":{let r=t.content;(0,c.logger)(e).debug("Retrying HTTP request",{requestParams:JSON.stringify(r.requestParams),retryAttempt:r.retryAttempt,maxRetries:r.maxRetries,response:JSON.stringify(r.lastResponse)});break}default:(0,c.logger)(e).debug(`HTTP request event: ${t.content}`)}}},t.throwFailedRequest=function(e,t,r){var n,o,s;let c=(0,l.canonicalizeHeaders)(Object.fromEntries(null!==(n=t.headers.entries())&&void 0!==n?n:[]));if(t.status===i.StatusCode.Ok&&e.errors.graphQLErrors)throw new a.GraphqlQueryError({message:null!==(s=null===(o=e.errors.graphQLErrors)||void 0===o?void 0:o[0].message)&&void 0!==s?s:"GraphQL operation failed",response:t,headers:c});let u=[];e.errors&&u.push(JSON.stringify(e.errors,null,2));let d=(0,l.getHeader)(c,"x-request-id");d&&u.push(`If you report this error, please include this id: ${d}`);let p=u.length?`:
${u.join("\n")}`:"",h=t.status,f=t.statusText;switch(!0){case t.status===i.StatusCode.TooManyRequests:if(r)throw new a.HttpMaxRetriesError("Attempted the maximum number of retries for HTTP request.");{let t=(0,l.getHeader)(c,"Retry-After");throw new a.HttpThrottlingError({message:`Shopify is throttling requests${p}`,code:h,statusText:f,body:e,headers:c,retryAfter:t?parseFloat(t):void 0})}case t.status>=i.StatusCode.InternalServerError:if(r)throw new a.HttpMaxRetriesError("Attempted the maximum number of retries for HTTP request.");throw new a.HttpInternalError({message:`Shopify internal error${p}`,code:h,statusText:f,body:e,headers:c});default:throw new a.HttpResponseError({message:`Received an error response (${t.status} ${t.statusText}) from Shopify${p}`,code:h,statusText:f,body:e,headers:c})}}},1181:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.graphqlProxy=void 0;let n=r(7941),i=n.__importStar(r(5421)),a=r(8703);t.graphqlProxy=function(e){return({session:t,rawBody:r})=>n.__awaiter(this,void 0,void 0,function*(){let n,o;if(!t.accessToken)throw new i.InvalidSession("Cannot proxy query. Session not authenticated.");let s=new((0,a.graphqlClientClass)({config:e}))({session:t});if("string"==typeof r?n=r:(n=r.query,o=r.variables),!n)throw new i.MissingRequiredArgument("Query missing.");return{body:yield s.request(n,{variables:o}),headers:{}}})}},6516:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8820:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clientClasses=void 0;let n=r(8703),i=r(805),a=r(1181);t.clientClasses=function(e){return{Rest:(0,n.restClientClass)({config:e}),Graphql:(0,n.graphqlClientClass)({config:e}),Storefront:(0,i.storefrontClientClass)({config:e}),graphqlProxy:(0,a.graphqlProxy)(e)}}},2484:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storefrontClientClass=t.StorefrontClient=void 0;let n=r(7941),i=r(5257),a=r(2362),o=n.__importStar(r(5421)),s=r(5421),l=r(1302),c=r(8225);class u{constructor(e){var t;let r;let n=this.storefrontClass().config;if(!n.isCustomStoreApp&&!e.session.accessToken)throw new o.MissingRequiredArgument("Missing access token when creating GraphQL client");if(e.apiVersion){let t=e.apiVersion===n.apiVersion?`Storefront client has a redundant API version override to the default ${e.apiVersion}`:`Storefront client overriding default API version ${n.apiVersion} with ${e.apiVersion}`;(0,a.logger)(n).debug(t)}if(n.isCustomStoreApp){if(!(r=n.privateAppStorefrontAccessToken))throw new s.MissingRequiredArgument("Custom store apps must set the privateAppStorefrontAccessToken property to call the Storefront API.")}else if(!(r=e.session.accessToken))throw new s.MissingRequiredArgument("Session missing access token.");this.session=e.session,this.apiVersion=e.apiVersion,this.client=(0,i.createStorefrontApiClient)({privateAccessToken:r,apiVersion:null!==(t=this.apiVersion)&&void 0!==t?t:n.apiVersion,storeDomain:this.session.shop,customFetchApi:l.abstractFetch,logger:(0,c.clientLoggerFactory)(n),clientName:(0,c.getUserAgent)(n)})}query(e){var t;return n.__awaiter(this,void 0,void 0,function*(){let r,n;if((0,a.logger)(this.storefrontClass().config).deprecated("10.0.0","The query method is deprecated, and was replaced with the request method.\nSee the migration guide: https://github.com/Shopify/shopify-api-js/blob/main/packages/shopify-api/docs/migrating-to-v9.md#using-the-new-clients."),"string"==typeof e.data&&0===e.data.length||0===Object.entries(e.data).length)throw new o.MissingRequiredArgument("Query missing.");"string"==typeof e.data?r=e.data:(r=e.data.query,n=e.data.variables);let i=Object.fromEntries(Object.entries(null!==(t=null==e?void 0:e.extraHeaders)&&void 0!==t?t:{}).map(([e,t])=>[e,Array.isArray(t)?t.join(", "):t.toString()]));return{body:yield this.request(r,{headers:i,retries:e.tries?e.tries-1:void 0,variables:n}),headers:{}}})}request(e,t){var r;return n.__awaiter(this,void 0,void 0,function*(){let n=yield this.client.request(e,Object.assign({apiVersion:this.apiVersion||this.storefrontClass().config.apiVersion},t));if(n.errors){let e=n.errors.response;(0,c.throwFailedRequest)(n,e,(null!==(r=null==t?void 0:t.retries)&&void 0!==r?r:0)>0)}return n})}storefrontClass(){return this.constructor}}t.StorefrontClient=u,t.storefrontClientClass=function(e){let{config:t}=e;class r extends u{}return r.config=t,Reflect.defineProperty(r,"name",{value:"StorefrontClient"}),r}},805:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storefrontClientClass=t.StorefrontClient=void 0;var n=r(2484);Object.defineProperty(t,"StorefrontClient",{enumerable:!0,get:function(){return n.StorefrontClient}}),Object.defineProperty(t,"storefrontClientClass",{enumerable:!0,get:function(){return n.storefrontClientClass}})},6664:function(e,t,r){"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.DataType=void 0;let a=r(7941);a.__exportStar(r(2223),t),a.__exportStar(r(6516),t),(i=n||(t.DataType=n={})).JSON="application/json",i.GraphQL="application/graphql",i.URLEncoded="application/x-www-form-urlencoded"},8521:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateConfig=void 0;let n=r(7941),i=r(5421),a=r(4668),o=r(8878),s=r(2362);function l(e,t){switch(e){case a.LogSeverity.Debug:console.debug(t);break;case a.LogSeverity.Info:console.log(t);break;case a.LogSeverity.Warning:console.warn(t);break;case a.LogSeverity.Error:console.error(t)}}t.validateConfig=function(e){var t;let r={apiKey:"",apiSecretKey:"",scopes:new o.AuthScopes([]),hostName:"",hostScheme:"https",apiVersion:a.LATEST_API_VERSION,isEmbeddedApp:!0,isCustomStoreApp:!1,logger:{log:l,level:a.LogSeverity.Info,httpRequests:!1,timestamps:!1},future:{}},c=["apiSecretKey","hostName"];"isCustomStoreApp"in e&&e.isCustomStoreApp||(c.push("apiKey"),c.push("scopes")),"isCustomStoreApp"in e&&e.isCustomStoreApp&&(!("adminApiAccessToken"in e)||(null===(t=e.adminApiAccessToken)||void 0===t?void 0:t.length)===0)&&c.push("adminApiAccessToken");let u=[];if(c.forEach(t=>{var r;null!=(r=e[t])&&(!("string"==typeof r||Array.isArray(r))||r.length>0)||u.push(t)}),u.length)throw new i.ShopifyError(`Cannot initialize Shopify API Library. Missing values for: ${u.join(", ")}`);let{hostScheme:d,isCustomStoreApp:p,adminApiAccessToken:h,userAgentPrefix:f,logger:m,privateAppStorefrontAccessToken:y,customShopDomains:g,billing:v}=e;return Object.assign(r,n.__rest(e,["hostScheme","isCustomStoreApp","adminApiAccessToken","userAgentPrefix","logger","privateAppStorefrontAccessToken","customShopDomains","billing"]),{hostName:e.hostName.replace(/\/$/,""),scopes:e.scopes instanceof o.AuthScopes?e.scopes:new o.AuthScopes(e.scopes),hostScheme:null!=d?d:r.hostScheme,isCustomStoreApp:null!=p?p:r.isCustomStoreApp,adminApiAccessToken:null!=h?h:r.adminApiAccessToken,userAgentPrefix:null!=f?f:r.userAgentPrefix,logger:Object.assign(Object.assign({},r.logger),m||{}),privateAppStorefrontAccessToken:null!=y?y:r.privateAppStorefrontAccessToken,customShopDomains:null!=g?g:r.customShopDomains,billing:null!=v?v:r.billing}),r.isCustomStoreApp&&e.adminApiAccessToken===e.apiSecretKey&&(0,s.logger)(r).warning("adminApiAccessToken is set to the same value as apiSecretKey. adminApiAccessToken should be set to the Admin API access token for custom store apps; apiSecretKey should be set to the custom store app's API secret key."),r}},5421:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FeatureDeprecatedError=t.BillingError=t.InvalidRequestError=t.UnsupportedClientType=t.MissingRequiredArgument=t.SessionStorageError=t.MissingWebhookCallbackError=t.InvalidWebhookError=t.InvalidSession=t.CookieNotFound=t.BotActivityDetected=t.InvalidOAuthError=t.GraphqlQueryError=t.RestResourceError=t.HttpThrottlingError=t.HttpInternalError=t.HttpRetriableError=t.HttpResponseError=t.HttpMaxRetriesError=t.HttpRequestError=t.PrivateAppError=t.SafeCompareError=t.InvalidDeliveryMethodError=t.MissingJwtTokenError=t.InvalidJwtError=t.InvalidHostError=t.InvalidShopError=t.InvalidHmacError=t.ShopifyError=void 0;let n=r(7941);class i extends Error{constructor(...e){super(...e),Object.setPrototypeOf(this,new.target.prototype)}}t.ShopifyError=i;class a extends i{}t.InvalidHmacError=a;class o extends i{}t.InvalidShopError=o;class s extends i{}t.InvalidHostError=s;class l extends i{}t.InvalidJwtError=l;class c extends i{}t.MissingJwtTokenError=c;class u extends i{}t.InvalidDeliveryMethodError=u;class d extends i{}t.SafeCompareError=d;class p extends i{}t.PrivateAppError=p;class h extends i{}t.HttpRequestError=h;class f extends i{}t.HttpMaxRetriesError=f;class m extends i{constructor({message:e,code:t,statusText:r,body:n,headers:i}){super(e),this.response={code:t,statusText:r,body:n,headers:i}}}t.HttpResponseError=m;class y extends m{}t.HttpRetriableError=y;class g extends y{}t.HttpInternalError=g;class v extends y{constructor(e){var{retryAfter:t}=e;super(n.__rest(e,["retryAfter"])),this.response.retryAfter=t}}t.HttpThrottlingError=v;class b extends i{}t.RestResourceError=b;class w extends i{constructor({message:e,response:t,headers:r}){super(e),this.response=t,this.headers=r}}t.GraphqlQueryError=w;class E extends i{}t.InvalidOAuthError=E;class S extends i{}t.BotActivityDetected=S;class A extends i{}t.CookieNotFound=A;class _ extends i{}t.InvalidSession=_;class C extends i{constructor({message:e,response:t}){super(e),this.response=t}}t.InvalidWebhookError=C;class P extends C{}t.MissingWebhookCallbackError=P;class k extends i{}t.SessionStorageError=k;class x extends i{}t.MissingRequiredArgument=x;class T extends i{}t.UnsupportedClientType=T;class O extends i{}t.InvalidRequestError=O;class R extends i{constructor({message:e,errorData:t}){super(e),this.message=e,this.errorData=t}}t.BillingError=R;class H extends i{}t.FeatureDeprecatedError=H},3297:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shopifyApi=void 0;let n=r(7941),i=r(8101),a=r(4406),o=r(8521),s=r(8820),l=r(5511),c=r(8286),u=r(9822),d=r(4459),p=r(7859),h=r(2362),f=r(3089),m=r(187);n.__exportStar(r(5421),t),n.__exportStar(r(9602),t),n.__exportStar(r(4509),t),n.__exportStar(r(4668),t),n.__exportStar(r(800),t),n.__exportStar(r(8107),t),n.__exportStar(r(156),t),n.__exportStar(r(6664),t),n.__exportStar(r(2930),t),n.__exportStar(r(3811),t),t.shopifyApi=function(e){var{future:t,restResources:r}=e;let y=Object.assign(Object.assign({},n.__rest(e,["future","restResources"])),{future:t,restResources:r}),g=(0,o.validateConfig)(y),v={config:g,clients:(0,s.clientClasses)(g),auth:(0,l.shopifyAuth)(g),session:(0,c.shopifySession)(g),utils:(0,u.shopifyUtils)(g),webhooks:(0,d.shopifyWebhooks)(g),billing:(0,p.shopifyBilling)(g),logger:(0,h.logger)(g),rest:{}};return r&&(v.rest=(0,i.loadRestResources)({resources:r,config:g,RestClient:(0,m.restClientClass)({config:g})})),v.logger.info(`version ${f.SHOPIFY_API_LIBRARY_VERSION}, environment ${(0,a.abstractRuntimeString)()}`).catch(e=>console.log(e)),v}},2362:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logger=void 0;let n=r(7941),i=r(5441),a=r(4668),o=r(5421),s=r(3089),l=r(7093);t.logger=function(e){let t=(0,l.log)(e);return{log:t,debug:(e,r={})=>n.__awaiter(this,void 0,void 0,function*(){return t(a.LogSeverity.Debug,e,r)}),info:(e,r={})=>n.__awaiter(this,void 0,void 0,function*(){return t(a.LogSeverity.Info,e,r)}),warning:(e,r={})=>n.__awaiter(this,void 0,void 0,function*(){return t(a.LogSeverity.Warning,e,r)}),error:(e,r={})=>n.__awaiter(this,void 0,void 0,function*(){return t(a.LogSeverity.Error,e,r)}),deprecated:function(e,r){if((0,i.compare)(s.SHOPIFY_API_LIBRARY_VERSION,e,">="))throw new o.FeatureDeprecatedError(`Feature was deprecated in version ${e}`);return t(a.LogSeverity.Warning,`[Deprecated | ${e}] ${r}`)}}}},7093:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.log=void 0;let n=r(4668);t.log=function(e){return function(t,r,i={}){if(t>e.logger.level)return;let a=[];e.logger.timestamps&&a.push(`${new Date().toISOString().slice(0,-5)}Z`);let o=i.package||"shopify-api";switch(delete i.package,t){case n.LogSeverity.Debug:o=`${o}/DEBUG`;break;case n.LogSeverity.Info:o=`${o}/INFO`;break;case n.LogSeverity.Warning:o=`${o}/WARNING`;break;case n.LogSeverity.Error:o=`${o}/ERROR`}a.push(o);let s=[];Object.entries(i).forEach(([e,t])=>{s.push(`${e}: ${t}`)});let l="";s.length>0&&(l=` | {${s.join(", ")}}`),e.logger.log(t,`[${a.join("] [")}] ${r}${l}`)}}},9602:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Session=void 0;var n=r(5150);Object.defineProperty(t,"Session",{enumerable:!0,get:function(){return n.Session}})},2109:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeSessionToken=void 0;let n=r(7941),i=n.__importStar(r(3765)),a=n.__importStar(r(5421)),o=r(2699);t.decodeSessionToken=function(e){return(t,{checkAudience:r=!0}={})=>n.__awaiter(this,void 0,void 0,function*(){let n;try{n=(yield i.jwtVerify(t,(0,o.getHMACKey)(e.apiSecretKey),{algorithms:["HS256"],clockTolerance:10})).payload}catch(e){throw new a.InvalidJwtError(`Failed to parse session token '${t}': ${e.message}`)}if(r&&n.aud!==e.apiKey)throw new a.InvalidJwtError("Session token had invalid API key");return n})}},8286:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shopifySession=void 0;let n=r(2109),i=r(6073);t.shopifySession=function(e){return{customAppSession:(0,i.customAppSession)(e),getCurrentId:(0,i.getCurrentSessionId)(e),getOfflineId:(0,i.getOfflineId)(e),getJwtSessionId:(0,i.getJwtSessionId)(e),decodeSessionToken:(0,n.decodeSessionToken)(e)}}},6073:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.customAppSession=t.getCurrentSessionId=t.getOfflineId=t.getJwtSessionId=void 0;let n=r(7941),i=r(3226),a=r(1208),o=r(638),s=r(2362),l=n.__importStar(r(5421)),c=r(2109),u=r(5150);function d(e){return(t,r)=>`${(0,o.sanitizeShop)(e)(t,!0)}_${r}`}function p(e){return t=>`offline_${(0,o.sanitizeShop)(e)(t,!0)}`}t.getJwtSessionId=d,t.getOfflineId=p,t.getCurrentSessionId=function(e){return function(t){var{isOnline:r}=t,o=n.__rest(t,["isOnline"]);return n.__awaiter(this,void 0,void 0,function*(){let t=yield(0,a.abstractConvertRequest)(o),n=(0,s.logger)(e);if(!e.isEmbeddedApp)return n.debug("App is not embedded, looking for session id in cookies",{isOnline:r}),new a.Cookies(t,{},{keys:[e.apiSecretKey]}).getAndVerify(i.SESSION_COOKIE_NAME);{n.debug("App is embedded, looking for session id in JWT payload",{isOnline:r});let i=t.headers.Authorization;if(i){let t=("string"==typeof i?i:i[0]).match(/^Bearer (.+)$/);if(!t)throw n.error("Missing Bearer token in authorization header",{isOnline:r}),new l.MissingJwtTokenError("Missing Bearer token in authorization header");let a=yield(0,c.decodeSessionToken)(e)(t[1]),o=a.dest.replace(/^https:\/\//,"");return(n.debug("Found valid JWT payload",{shop:o,isOnline:r}),r)?d(e)(o,a.sub):p(e)(o)}n.error("Missing Authorization header, was the request made with authenticatedFetch?",{isOnline:r})}})}},t.customAppSession=function(e){return t=>new u.Session({id:"",shop:`${(0,o.sanitizeShop)(e)(t,!0)}`,state:"",isOnline:!1})}},5150:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Session=void 0;let n=r(5421),i=r(8878),a=["id","shop","state","isOnline","scope","accessToken","expires","onlineAccessInfo"];class o{static fromPropertyArray(e){if(!Array.isArray(e))throw new n.InvalidSession("The parameter is not an array: a Session cannot be created from this object.");let t=Object.fromEntries(e.filter(([e,t])=>null!=t).map(([e,t])=>{switch(e.toLowerCase()){case"isonline":return["isOnline",t];case"accesstoken":return["accessToken",t];case"onlineaccessinfo":return["onlineAccessInfo",t];default:return[e.toLowerCase(),t]}}).map(([e,t])=>{switch(e){case"isOnline":if("string"==typeof t)return[e,"true"===t.toString().toLowerCase()];if("number"==typeof t)return[e,!!t];return[e,t];case"scope":return[e,t.toString()];case"expires":return[e,t?new Date(Number(t)):void 0];case"onlineAccessInfo":return[e,{associated_user:{id:Number(t)}}];default:return[e,t]}}));return Object.setPrototypeOf(t,o.prototype),t}constructor(e){Object.assign(this,e)}isActive(e){return!this.isScopeChanged(e)&&!!this.accessToken&&!this.isExpired()}isScopeChanged(e){return!(e instanceof i.AuthScopes?e:new i.AuthScopes(e)).equals(this.scope)}isExpired(e=0){return!!(this.expires&&this.expires.getTime()-e<Date.now())}toObject(){let e={id:this.id,shop:this.shop,state:this.state,isOnline:this.isOnline};return this.scope&&(e.scope=this.scope),this.expires&&(e.expires=this.expires),this.accessToken&&(e.accessToken=this.accessToken),this.onlineAccessInfo&&(e.onlineAccessInfo=this.onlineAccessInfo),e}equals(e){if(!e||!(this.id===e.id&&this.shop===e.shop&&this.state===e.state&&this.isOnline===e.isOnline))return!1;let t=this.toPropertyArray();t.sort(([e],[t])=>e<t?-1:1);let r=e.toPropertyArray();return r.sort(([e],[t])=>e<t?-1:1),JSON.stringify(t)===JSON.stringify(r)}toPropertyArray(){return Object.entries(this).filter(([e,t])=>a.includes(e)&&null!=t).map(([e,t])=>{var r;switch(e){case"expires":return[e,t?t.getTime():void 0];case"onlineAccessInfo":return[e,null===(r=null==t?void 0:t.associated_user)||void 0===r?void 0:r.id];default:return[e,t]}})}}t.Session=o},2930:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4668:function(e,t){"use strict";var r,n,i,a,o,s,l,c,u,d,p,h;Object.defineProperty(t,"__esModule",{value:!0}),t.BillingReplacementBehavior=t.BillingInterval=t.privacyTopics=t.ClientType=t.ShopifyHeader=t.LATEST_API_VERSION=t.LIBRARY_NAME=t.ApiVersion=t.LogSeverity=void 0,(l=r||(t.LogSeverity=r={}))[l.Error=0]="Error",l[l.Warning=1]="Warning",l[l.Info=2]="Info",l[l.Debug=3]="Debug",(c=n||(t.ApiVersion=n={})).October22="2022-10",c.January23="2023-01",c.April23="2023-04",c.July23="2023-07",c.October23="2023-10",c.January24="2024-01",c.Unstable="unstable",t.LIBRARY_NAME="Shopify API Library",t.LATEST_API_VERSION=n.January24,(u=i||(t.ShopifyHeader=i={})).AccessToken="X-Shopify-Access-Token",u.ApiVersion="X-Shopify-API-Version",u.Domain="X-Shopify-Shop-Domain",u.Hmac="X-Shopify-Hmac-Sha256",u.Topic="X-Shopify-Topic",u.WebhookId="X-Shopify-Webhook-Id",u.StorefrontPrivateToken="Shopify-Storefront-Private-Token",u.StorefrontSDKVariant="X-SDK-Variant",u.StorefrontSDKVersion="X-SDK-Version",(d=a||(t.ClientType=a={})).Rest="rest",d.Graphql="graphql",t.privacyTopics=["CUSTOMERS_DATA_REQUEST","CUSTOMERS_REDACT","SHOP_REDACT"],(p=o||(t.BillingInterval=o={})).OneTime="ONE_TIME",p.Every30Days="EVERY_30_DAYS",p.Annual="ANNUAL",p.Usage="USAGE",(h=s||(t.BillingReplacementBehavior=s={})).ApplyImmediately="APPLY_IMMEDIATELY",h.ApplyOnNextBillingCycle="APPLY_ON_NEXT_BILLING_CYCLE",h.Standard="STANDARD"},2699:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getHMACKey=void 0,t.getHMACKey=function(e){let t=new Uint8Array(e.length);for(let r=0,n=e.length;r<n;r++)t[r]=e.charCodeAt(r);return t}},310:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentTimeInSec=t.validateHmac=t.generateLocalHmac=void 0;let n=r(7941),i=r(6059),a=r(2071),o=n.__importStar(r(5421)),s=r(3376),l=n.__importDefault(r(6315));function c(e){return(t,r="admin")=>n.__awaiter(this,void 0,void 0,function*(){let{hmac:o,signature:s}=t,c=n.__rest(t,["hmac","signature"]),u="admin"===r?function(e){let t=new l.default;return Object.keys(e).sort((e,t)=>e.localeCompare(t)).forEach(r=>t.put(r,e[r])),t.stringify(!0)}(c):Object.entries(c).sort(([e],[t])=>e.localeCompare(t)).reduce((e,[t,r])=>`${e}${t}=${Array.isArray(r)?r.join(","):r}`,"");return(0,i.createSHA256HMAC)(e.apiSecretKey,u,a.HashFormat.Hex)})}function u(){return Math.trunc(Date.now()/1e3)}t.generateLocalHmac=c,t.validateHmac=function(e){return(t,{signator:r}={signator:"admin"})=>n.__awaiter(this,void 0,void 0,function*(){if("admin"===r&&!t.hmac)throw new o.InvalidHmacError("Query does not contain an HMAC value.");if("appProxy"===r&&!t.signature)throw new o.InvalidHmacError("Query does not contain a signature value.");(function(e){if(Math.abs(u()-Number(e.timestamp))>90)throw new o.InvalidHmacError("HMAC timestamp is outside of the tolerance range")})(t);let n="appProxy"===r?t.signature:t.hmac,i=yield c(e)(t,r);return(0,s.safeCompare)(n,i)})},t.getCurrentTimeInSec=u},9822:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shopifyUtils=void 0;let n=r(638),i=r(310),a=r(9784),o=r(6415);t.shopifyUtils=function(e){return{sanitizeShop:(0,n.sanitizeShop)(e),sanitizeHost:(0,n.sanitizeHost)(),validateHmac:(0,i.validateHmac)(e),versionCompatible:(0,a.versionCompatible)(e),versionPriorTo:(0,a.versionPriorTo)(e),shopAdminUrlToLegacyUrl:o.shopAdminUrlToLegacyUrl,legacyUrlToShopAdminUrl:o.legacyUrlToShopAdminUrl}}},6315:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{static stringify(e){return e&&0!==Object.keys(e).length?new r().putAll(e).stringify():""}constructor(){this.processedQuery=new URLSearchParams}putAll(e){return Object.entries(e).forEach(([e,t])=>this.put(e,t)),this}put(e,t){Array.isArray(t)?this.putArray(e,t):(null==t?void 0:t.constructor)===Object?this.putObject(e,t):this.putSimple(e,t)}putArray(e,t){t.forEach(t=>this.processedQuery.append(`${e}[]`,`${t}`))}putObject(e,t){Object.entries(t).forEach(([t,r])=>{this.processedQuery.append(`${e}[${t}]`,`${r}`)})}putSimple(e,t){this.processedQuery.append(e,`${t}`)}stringify(e=!1){let t=this.processedQuery.toString();return e?t:`?${t}`}}t.default=r},6415:function(e,t){"use strict";function r(e){return e.replace(/^https?:\/\//,"").replace(/\/$/,"")}Object.defineProperty(t,"__esModule",{value:!0}),t.legacyUrlToShopAdminUrl=t.shopAdminUrlToLegacyUrl=void 0,t.shopAdminUrlToLegacyUrl=function(e){let t=r(e);if("admin"!==t.split(".")[0])return null;let n=RegExp("admin\\..+/store/([^/]+)"),i=t.match(n);if(!i||2!==i.length)return null;{let e=i[1];return t.includes("spin.dev/store/")?function(e){let t=RegExp("admin\\.web\\.(.+\\.spin\\.dev)/store/(.+)"),r=e.match(t);if(!r||3!==r.length)return null;{let e=r[1],t=r[2];return`${t}.shopify.${e}`}}(t):`${e}.myshopify.com`}},t.legacyUrlToShopAdminUrl=function(e){let t=r(e),n=RegExp("(.+)\\.myshopify\\.com$"),i=t.match(n);if(i&&2===i.length){let e=i[1];return`admin.shopify.com/store/${e}`}return t.endsWith("spin.dev")?function(e){let t=RegExp("(.+)\\.shopify\\.(.+\\.spin\\.dev)"),r=e.match(t);if(!r||3!==r.length)return null;{let e=r[1],t=r[2];return`admin.web.${t}/store/${e}`}}(t):null}},638:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitizeHost=t.sanitizeShop=void 0;let n=r(5421),i=r(4355),a=r(6415);t.sanitizeShop=function(e){return(t,r=!1)=>{let i=t,o=["myshopify\\.com","shopify\\.com","myshopify\\.io"];e.customShopDomains&&o.push(...e.customShopDomains.map(e=>"string"==typeof e?e:e.source));let s=RegExp(`^[a-zA-Z0-9][a-zA-Z0-9-_]*\\.(${o.join("|")})[/]*$`);RegExp(`^admin\\.(${o.join("|")})/store/([a-zA-Z0-9][a-zA-Z0-9-_]*)$`).test(i)&&(i=(0,a.shopAdminUrlToLegacyUrl)(i)||"");let l=s.test(i)?i:null;if(!l&&r)throw new n.InvalidShopError("Received invalid shop argument");return l}},t.sanitizeHost=function(){return(e,t=!1)=>{let r=/^[0-9a-zA-Z+/]+={0,2}$/.test(e)?e:null;if(r){let{hostname:e}=new URL(`https://${(0,i.decodeHost)(r)}`);RegExp("\\.(myshopify\\\\.com|shopify\\\\.com|myshopify\\\\.io|spin\\\\.dev)$").test(e)||(r=null)}if(!r&&t)throw new n.InvalidHostError("Received invalid host argument");return r}}},9784:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.versionPriorTo=t.versionCompatible=void 0;let n=r(4668);function i(e){return(t,r=e.apiVersion)=>{if(r===n.ApiVersion.Unstable)return!0;let i=e=>parseInt(e.replace("-",""),10);return i(r)>=i(t)}}t.versionCompatible=i,t.versionPriorTo=function(e){return(t,r=e.apiVersion)=>!i(e)(t,r)}},3089:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHOPIFY_API_LIBRARY_VERSION=void 0,t.SHOPIFY_API_LIBRARY_VERSION="9.0.1"},4459:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shopifyWebhooks=void 0;let n=r(7206),i=r(6840),a=r(1134),o=r(9865);t.shopifyWebhooks=function(e){let t=(0,n.registry)();return{addHandlers:(0,n.addHandlers)(e,t),getTopicsAdded:(0,n.getTopicsAdded)(t),getHandlers:(0,n.getHandlers)(t),register:(0,i.register)(e,t),process:(0,a.process)(e,t),validate:(0,o.validateFactory)(e)}}},1134:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.process=void 0;let n=r(7941),i=r(9753),a=r(1208),o=n.__importStar(r(5421)),s=r(2362),l=r(3811),c=r(9865),u={[i.StatusCode.Ok]:"OK",[i.StatusCode.BadRequest]:"Bad Request",[i.StatusCode.Unauthorized]:"Unauthorized",[i.StatusCode.NotFound]:"Not Found",[i.StatusCode.InternalServerError]:"Internal Server Error"};t.process=function(e,t){return function(r){var{rawBody:d}=r,p=n.__rest(r,["rawBody"]);return n.__awaiter(this,void 0,void 0,function*(){let r={statusCode:i.StatusCode.Ok,statusText:u[i.StatusCode.Ok],headers:{}};yield(0,s.logger)(e).info("Receiving webhook request");let h=yield(0,c.validateFactory)(e)(Object.assign({rawBody:d},p)),f="Unknown error while handling webhook";if(h.valid){let c=yield function(e,t,r,a){return n.__awaiter(this,void 0,void 0,function*(){let c=(0,s.logger)(e),{hmac:u,valid:d}=r,p=n.__rest(r,["hmac","valid"]);yield c.debug("Webhook request is valid, looking for HTTP handlers to call",p);let h=t[r.topic]||[],f={statusCode:i.StatusCode.Ok},m=!1;for(let e of h)if(e.deliveryMethod===l.DeliveryMethod.Http){if(!e.callback)throw f.statusCode=i.StatusCode.InternalServerError,f.errorMessage="Cannot call webhooks.process with a webhook handler that doesn't have a callback",new o.MissingWebhookCallbackError({message:f.errorMessage,response:f});m=!0,yield c.debug("Found HTTP handler, triggering it",p);try{yield e.callback(r.topic,r.domain,a,r.webhookId,r.apiVersion)}catch(e){f.statusCode=i.StatusCode.InternalServerError,f.errorMessage=e.message}}return m||(yield c.debug("No HTTP handlers found",p),f.statusCode=i.StatusCode.NotFound,f.errorMessage=`No HTTP webhooks registered for topic ${r.topic}`),f})}(e,t,h,d);r.statusCode=c.statusCode,(0,a.isOK)(r)||(f=c.errorMessage||f)}else{let t=yield function(e,t){return n.__awaiter(this,void 0,void 0,function*(){let r={statusCode:i.StatusCode.InternalServerError,errorMessage:"Unknown error while handling webhook"};switch(t.reason){case l.WebhookValidationErrorReason.MissingHeaders:r.statusCode=i.StatusCode.BadRequest,r.errorMessage=`Missing one or more of the required HTTP headers to process webhooks: [${t.missingHeaders.join(", ")}]`;break;case l.WebhookValidationErrorReason.MissingBody:r.statusCode=i.StatusCode.BadRequest,r.errorMessage="No body was received when processing webhook";break;case l.WebhookValidationErrorReason.InvalidHmac:r.statusCode=i.StatusCode.Unauthorized,r.errorMessage="Could not validate request HMAC"}return yield(0,s.logger)(e).debug(`Webhook request is invalid, returning ${r.statusCode}: ${r.errorMessage}`),r})}(e,h);r.statusCode=t.statusCode,r.statusText=u[r.statusCode],f=t.errorMessage}let m=yield(0,a.abstractConvertResponse)(r,p);if(!(0,a.isOK)(r))throw new o.InvalidWebhookError({message:f,response:m});return Promise.resolve(m)})}}},5180:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queryTemplate=void 0,t.queryTemplate=function(e,t){let r=e;return Object.entries(t).forEach(([e,t])=>{r=r.replace(`{{${e}}}`,t)}),r}},6840:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TEMPLATE_MUTATION=t.TEMPLATE_GET_HANDLERS=t.register=void 0;let n=r(7941),i=r(8703),a=r(5421),o=r(2362),s=r(4668),l=r(7206),c=r(5180),u=r(3811);function d(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function p({config:e,client:r,topic:i,handlers:s,operation:d}){return n.__awaiter(this,void 0,void 0,function*(){let p=[];for(let f of s)p.push((yield function({config:e,client:r,topic:i,handler:s,operation:d}){return n.__awaiter(this,void 0,void 0,function*(){let n;(0,o.logger)(e).debug("Running webhook mutation",{topic:i,operation:d});try{let o=function(e,r,n,i){let o;let s={};o=n.id?`id: "${n.id}"`:`topic: ${r}`;let d={MUTATION_NAME:h(n,i),IDENTIFIER:o,MUTATION_PARAMS:""};if(i!==u.WebhookOperation.Delete){switch(n.deliveryMethod){case u.DeliveryMethod.Http:s.callbackUrl=`"${(0,l.addHostToCallbackUrl)(e,n.callbackUrl)}"`;break;case u.DeliveryMethod.EventBridge:s.arn=`"${n.arn}"`;break;case u.DeliveryMethod.PubSub:s.pubSubProject=`"${n.pubSubProject}"`,s.pubSubTopic=`"${n.pubSubTopic}"`;break;default:throw new a.InvalidDeliveryMethodError(`Unrecognized delivery method '${n.deliveryMethod}'`)}n.includeFields&&(s.includeFields=JSON.stringify(n.includeFields)),n.metafieldNamespaces&&(s.metafieldNamespaces=JSON.stringify(n.metafieldNamespaces));let t=Object.entries(s).map(([e,t])=>`${e}: ${t}`).join(", ");d.MUTATION_PARAMS=`webhookSubscription: {${t}}`}return(0,c.queryTemplate)(t.TEMPLATE_MUTATION,d)}(e,i,s,d),p=yield r.request(o);n={deliveryMethod:s.deliveryMethod,success:function(e,t,r){let n=h(t,r);return!!(e.data&&e.data[n]&&0===e.data[n].userErrors.length)}(p,s,d),result:p,operation:d}}catch(e){if(e instanceof a.InvalidDeliveryMethodError)n={deliveryMethod:s.deliveryMethod,success:!1,result:{message:e.message},operation:d};else throw e}return n})}({config:e,client:r,topic:i,handler:f,operation:d})));return p})}function h(e,t){switch(t){case u.WebhookOperation.Create:return`${f(e)}Create`;case u.WebhookOperation.Update:return`${f(e)}Update`;case u.WebhookOperation.Delete:return"webhookSubscriptionDelete";default:throw new a.ShopifyError(`Unrecognized operation '${t}'`)}}function f(e){switch(e.deliveryMethod){case u.DeliveryMethod.Http:return"webhookSubscription";case u.DeliveryMethod.EventBridge:return"eventBridgeWebhookSubscription";case u.DeliveryMethod.PubSub:return"pubSubWebhookSubscription";default:throw new a.ShopifyError(`Unrecognized delivery method '${e.deliveryMethod}'`)}}t.register=function(e,r){return function({session:a}){return n.__awaiter(this,void 0,void 0,function*(){let h=(0,o.logger)(e);h.info("Registering webhooks",{shop:a.shop});let f=Object.keys(r).reduce((e,t)=>(e[t]=[],e),{}),m=yield function(e,r){var a,o,s,l,d,p;return n.__awaiter(this,void 0,void 0,function*(){let h;let f=new((0,i.graphqlClientClass)({config:e}))({session:r}),m={},y=null;do{var g;let e=(g=y,(0,c.queryTemplate)(t.TEMPLATE_GET_HANDLERS,{END_CURSOR:JSON.stringify(g)})),r=yield f.request(e);null===(o=null===(a=r.data)||void 0===a?void 0:a.webhookSubscriptions)||void 0===o||o.edges.forEach(e=>{let t=function(e){var t,r;let i;let a=e.node.endpoint;switch(a.__typename){case"WebhookHttpEndpoint":i={deliveryMethod:u.DeliveryMethod.Http,callbackUrl:a.callbackUrl,callback:()=>n.__awaiter(this,void 0,void 0,function*(){})};break;case"WebhookEventBridgeEndpoint":i={deliveryMethod:u.DeliveryMethod.EventBridge,arn:a.arn};break;case"WebhookPubSubEndpoint":i={deliveryMethod:u.DeliveryMethod.PubSub,pubSubProject:a.pubSubProject,pubSubTopic:a.pubSubTopic}}return i.id=e.node.id,i.includeFields=e.node.includeFields,i.metafieldNamespaces=e.node.metafieldNamespaces,null===(t=i.includeFields)||void 0===t||t.sort(),null===(r=i.metafieldNamespaces)||void 0===r||r.sort(),i}(e);m[e.node.topic]||(m[e.node.topic]=[]),m[e.node.topic].push(t)}),y=null===(l=null===(s=r.data)||void 0===s?void 0:s.webhookSubscriptions)||void 0===l?void 0:l.pageInfo.endCursor,h=null===(p=null===(d=r.data)||void 0===d?void 0:d.webhookSubscriptions)||void 0===p?void 0:p.pageInfo.hasNextPage}while(h);return m})}(e,a);for(let t in h.debug(`Existing topics: [${Object.keys(m).join(", ")}]`,{shop:a.shop}),r)!Object.prototype.hasOwnProperty.call(r,t)||s.privacyTopics.includes(t)||(f[t]=yield function({config:e,session:t,topic:r,existingHandlers:a,handlers:o}){return n.__awaiter(this,void 0,void 0,function*(){let n=[],{toCreate:s,toUpdate:c,toDelete:h}=function(e,t,r){let n=r.reduce((t,r)=>(t[(0,l.handlerIdentifier)(e,r)]=r,t),{}),i=t.reduce((t,r)=>(t[(0,l.handlerIdentifier)(e,r)]=r,t),{}),a=Object.assign({},n),o={},s={};for(let e in i){if(!Object.prototype.hasOwnProperty.call(i,e))continue;let t=i[e],r=n[e];e in n?(delete a[e],!function(e,t){let r=d(e.includeFields||[],t.includeFields||[]),n=d(e.metafieldNamespaces||[],t.metafieldNamespaces||[]);return r&&n}(t,r)&&(o[e]=r,o[e].id=t.id)):s[e]=t}return{toCreate:Object.values(a),toUpdate:Object.values(o),toDelete:Object.values(s)}}(e,a,o),f=new((0,i.graphqlClientClass)({config:e}))({session:t}),m=u.WebhookOperation.Create;return n=n.concat((yield p({config:e,client:f,topic:r,operation:m,handlers:s}))),m=u.WebhookOperation.Update,n=n.concat((yield p({config:e,client:f,topic:r,operation:m,handlers:c}))),m=u.WebhookOperation.Delete,n=n.concat((yield p({config:e,client:f,topic:r,operation:m,handlers:h})))})}({config:e,session:a,topic:t,existingHandlers:m[t]||[],handlers:(0,l.getHandlers)(r)(t)}),delete m[t]);for(let t in m){if(!Object.prototype.hasOwnProperty.call(m,t))continue;let r=new((0,i.graphqlClientClass)({config:e}))({session:a});f[t]=yield p({config:e,client:r,topic:t,handlers:m[t],operation:u.WebhookOperation.Delete})}return f})}},t.TEMPLATE_GET_HANDLERS=`query shopifyApiReadWebhookSubscriptions {
  webhookSubscriptions(
    first: 250,
    after: {{END_CURSOR}},
  ) {
    edges {
      node {
        id
        topic
        includeFields
        metafieldNamespaces
        endpoint {
          __typename
          ... on WebhookHttpEndpoint {
            callbackUrl
          }
          ... on WebhookEventBridgeEndpoint {
            arn
          }
          ... on WebhookPubSubEndpoint {
            pubSubProject
            pubSubTopic
          }
        }
      }
    }
    pageInfo {
      endCursor
      hasNextPage
    }
  }
}`,t.TEMPLATE_MUTATION=`
  mutation shopifyApiCreateWebhookSubscription {
    {{MUTATION_NAME}}(
      {{IDENTIFIER}},
      {{MUTATION_PARAMS}}
    ) {
      userErrors {
        field
        message
      }
    }
  }
`},7206:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addHostToCallbackUrl=t.handlerIdentifier=t.getHandlers=t.getTopicsAdded=t.addHandlers=t.topicForStorage=t.registry=void 0;let n=r(5421),i=r(2362),a=r(3811);function o(e){return e.toUpperCase().replace(/\/|\./g,"_")}function s(e,t){let r=t.deliveryMethod;switch(t.deliveryMethod){case a.DeliveryMethod.Http:return`${r}_${l(e,t.callbackUrl)}`;case a.DeliveryMethod.EventBridge:return`${r}_${t.arn}`;case a.DeliveryMethod.PubSub:return`${r}_${t.pubSubProject}:${t.pubSubTopic}`;default:throw new n.InvalidDeliveryMethodError(`Unrecognized delivery method '${t.deliveryMethod}'`)}}function l(e,t){return t.startsWith("/")?`${e.hostScheme}://${e.hostName}${t}`:t}function c(e,t,r,o){var l,c;let u=(0,i.logger)(e);if(null===(l=o.includeFields)||void 0===l||l.sort(),null===(c=o.metafieldNamespaces)||void 0===c||c.sort(),!(r in t)){t[r]=[o];return}let d=s(e,o);for(let i in t[r])if(Object.prototype.hasOwnProperty.call(t[r],i)&&d===s(e,t[r][i])){if(o.deliveryMethod===a.DeliveryMethod.Http){u.info(`Detected multiple handlers for '${r}', webhooks.process will call them sequentially`);break}throw new n.InvalidDeliveryMethodError(`Can only add multiple handlers when deliveryMethod is Http. Invalid handler: ${JSON.stringify(o)}`)}t[r].push(o)}t.registry=function(){return{}},t.topicForStorage=o,t.addHandlers=function(e,t){return function(r){for(let[n,i]of Object.entries(r)){let r=o(n);if(Array.isArray(i))for(let n of i)c(e,t,r,n);else c(e,t,r,i)}}},t.getTopicsAdded=function(e){return function(){return Object.keys(e)}},t.getHandlers=function(e){return function(t){return e[o(t)]||[]}},t.handlerIdentifier=s,t.addHostToCallbackUrl=l},3811:function(e,t){"use strict";var r,n,i,a,o,s;Object.defineProperty(t,"__esModule",{value:!0}),t.WebhookValidationErrorReason=t.WebhookOperation=t.DeliveryMethod=void 0,(a=r||(t.DeliveryMethod=r={})).Http="http",a.EventBridge="eventbridge",a.PubSub="pubsub",(o=n||(t.WebhookOperation=n={})).Create="create",o.Update="update",o.Delete="delete",(s=i||(t.WebhookValidationErrorReason=i={})).MissingHeaders="missing_headers",s.MissingBody="missing_body",s.InvalidHmac="invalid_hmac"},9865:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateFactory=void 0;let n=r(7941),i=r(1208),a=r(6059),o=r(2071),s=r(4668),l=r(3376),c=r(2362),u=r(3811),d=r(7206),p={apiVersion:s.ShopifyHeader.ApiVersion,domain:s.ShopifyHeader.Domain,hmac:s.ShopifyHeader.Hmac,topic:s.ShopifyHeader.Topic,webhookId:s.ShopifyHeader.WebhookId};t.validateFactory=function(e){return function(t){var{rawBody:r}=t,s=n.__rest(t,["rawBody"]);return n.__awaiter(this,void 0,void 0,function*(){let t=yield(0,i.abstractConvertRequest)(s),h=(0,c.logger)(e),f=function(e,t){if(!e.length)return{valid:!1,reason:u.WebhookValidationErrorReason.MissingBody};let r=[],n=Object.entries(p).reduce((e,[n,a])=>{let o=(0,i.getHeader)(t,a);return o?e[n]=o:r.push(a),e},{});return r.length?{valid:!1,reason:u.WebhookValidationErrorReason.MissingHeaders,missingHeaders:r}:Object.assign(Object.assign({valid:!0},n),{topic:(0,d.topicForStorage)(n.topic)})}(r,t.headers);if(!f.valid)return yield h.debug("Received malformed webhook request",f),f;let{hmac:m,valid:y}=f,g=n.__rest(f,["hmac","valid"]);return(yield h.debug("Webhook request is well formed",g),yield function(e,t,r){return n.__awaiter(this,void 0,void 0,function*(){let n=yield(0,a.createSHA256HMAC)(e,t,o.HashFormat.Base64);return(0,l.safeCompare)(n,r)})}(e.apiSecretKey,r,m))?(yield h.debug("Webhook request is valid",g),f):(yield h.debug("Webhook HMAC validation failed. Please note that events manually triggered from a store's Notifications settings will fail this validation. To test this, please use the CLI or trigger the actual event in a development store."),{valid:!1,reason:u.WebhookValidationErrorReason.InvalidHmac})})}}},8101:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadRestResources=void 0;let n=r(2362);t.loadRestResources=function({resources:e,config:t,RestClient:r}){let i=Object.keys(e)[0];return t.apiVersion!==e[i].apiVersion&&(0,n.logger)(t).warning(`Loading REST resources for API version ${e[i].apiVersion}, which doesn't match the default ${t.apiVersion}`),Object.fromEntries(Object.entries(e).map(([e,n])=>{class i extends n{}return i.setClassProperties({Client:r,config:t}),Object.entries(i.hasOne).map(([e,n])=>{n.setClassProperties({Client:r,config:t})}),Object.entries(i.hasMany).map(([e,n])=>{n.setClassProperties({Client:r,config:t})}),Reflect.defineProperty(i,"name",{value:e}),[e,i]}))}},4509:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8625:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=t.setCrypto=void 0;try{t.crypto=crypto}catch(e){}t.setCrypto=function(e){t.crypto=e}},6059:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(7941);n.__exportStar(r(2071),t),n.__exportStar(r(8625),t),n.__exportStar(r(7936),t)},2071:function(e,t){"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.HashFormat=void 0,(n=r||(t.HashFormat=r={})).Base64="base64",n.Hex="hex"},7936:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hashString=t.asBase64=t.asHex=t.createSHA256HMAC=void 0;let n=r(7941),i=r(5421),a=r(8625),o=r(2071);function s(e){return[...new Uint8Array(e)].map(e=>e.toString(16).padStart(2,"0")).join("")}t.createSHA256HMAC=function(e,t,r=o.HashFormat.Base64){return n.__awaiter(this,void 0,void 0,function*(){let n=void 0===(null===a.crypto||void 0===a.crypto?void 0:a.crypto.webcrypto)?a.crypto:a.crypto.webcrypto,i=new TextEncoder,l=yield n.subtle.importKey("raw",i.encode(e),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),u=yield n.subtle.sign("HMAC",l,i.encode(t));return r===o.HashFormat.Base64?c(u):s(u)})},t.asHex=s;let l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function c(e){let t="",r=new Uint8Array(e);for(let e=0;e<r.length;){let n=r[e++],i=r[e++],a=r[e++],o=n>>2,s=(3&n)<<4|i>>4,c=(15&i)<<2|a>>6,u=63&a;isNaN(i)&&(c=64),isNaN(a)&&(u=64),t+=l[o]+l[s]+l[c]+l[u]}return t}t.asBase64=c,t.hashString=function(e,t){let r=new TextEncoder().encode(e);switch(t){case o.HashFormat.Base64:return c(r);case o.HashFormat.Hex:return s(r);default:throw new i.ShopifyError(`Unrecognized hash format '${t}'`)}}},5225:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cookies=void 0;let n=r(7941),i=r(7936),a=r(2153),o=r(9996);class s{static parseCookies(e){let t=Object.fromEntries(e.filter(e=>e.trim().length>0).map(e=>{let[t,...r]=e.split(";"),[n,i]=(0,a.splitN)(t,"=",2).map(e=>e.trim());return[n,Object.assign({name:n,value:i},Object.fromEntries(r.map(e=>(0,a.splitN)(e,"=",2).map(e=>e.trim()))))]}));for(let e of Object.values(t))"string"==typeof e.expires&&(e.expires=new Date(e.expires));return t}static encodeCookie(e){let t="";return t+=`${e.name}=${e.value};`+Object.entries(e).filter(([e])=>!["name","value","expires"].includes(e)).map(([e,t])=>`${e}=${t}`).join("; "),e.expires&&(t+=`;expires=${e.expires.toUTCString()}`),t}constructor(e,t,{keys:r=[]}={}){var n,i;this.response=t,this.receivedCookieJar={},this.outgoingCookieJar={},this.keys=[],r&&(this.keys=r);let a=null!==(n=(0,o.getHeader)(e.headers,"Cookie"))&&void 0!==n?n:"";this.receivedCookieJar=s.parseCookies(a.split(";"));let l=null!==(i=(0,o.getHeaders)(t.headers,"Set-Cookie"))&&void 0!==i?i:[];this.outgoingCookieJar=s.parseCookies(l)}toHeaders(){return Object.values(this.outgoingCookieJar).map(e=>s.encodeCookie(e))}updateHeader(){this.response.headers||(this.response.headers={}),(0,o.removeHeader)(this.response.headers,"Set-Cookie"),this.toHeaders().map(e=>(0,o.addHeader)(this.response.headers,"Set-Cookie",e))}get(e){var t;return null===(t=this.receivedCookieJar[e])||void 0===t?void 0:t.value}deleteCookie(e){this.set(e,"",{path:"/",expires:new Date(0)})}getAndVerify(e){return n.__awaiter(this,void 0,void 0,function*(){let t=this.get(e);if(t){if(!(yield this.isSignedCookieValid(e)))return;return t}})}get canSign(){var e;return(null===(e=this.keys)||void 0===e?void 0:e.length)>0}set(e,t,r={}){this.outgoingCookieJar[e]=Object.assign(Object.assign({},r),{name:e,value:t}),this.updateHeader()}setAndSign(e,t,r={}){return n.__awaiter(this,void 0,void 0,function*(){if(!this.canSign)throw Error("No keys provided for signing.");this.set(e,t,r);let n=`${e}.sig`,a=yield(0,i.createSHA256HMAC)(this.keys[0],t);this.set(n,a,r),this.updateHeader()})}isSignedCookieValid(e){return n.__awaiter(this,void 0,void 0,function*(){let t=`${e}.sig`;if(!this.get(e)||!this.get(t))return this.deleteCookie(t),this.deleteCookie(e),!1;let r=this.get(e),n=this.get(t);return!!(yield Promise.all(this.keys.map(e=>(0,i.createSHA256HMAC)(e,r)))).includes(n)||(this.deleteCookie(t),this.deleteCookie(e),!1)})}}t.Cookies=s},9996:function(e,t){"use strict";function r(e){return e.replace(/(^|-)(\w+)/g,(e,t,r)=>t+r.slice(0,1).toUpperCase()+r.slice(1).toLowerCase())}function n(e,t){let n=[];if(!e)return n;let i=r(t);for(let[t,a]of Object.entries(e))r(t)===i&&(Array.isArray(a)?n.push(...a):n.push(a));return n}function i(e){return"number"==typeof e?e.toString():e}function a(e){for(let[t,n]of Object.entries(e)){let a=r(t);e[a]||(e[a]=[]),Array.isArray(e[a])||(e[a]=[i(e[a])]),t!==a&&(delete e[t],e[a].push(...[n].flat().map(e=>i(e))))}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.flatHeaders=t.removeHeader=t.canonicalizeHeaders=t.addHeader=t.setHeader=t.getHeader=t.getHeaders=t.canonicalizeHeaderName=void 0,t.canonicalizeHeaderName=r,t.getHeaders=n,t.getHeader=function(e,t){var r;if(e)return null===(r=n(e,t))||void 0===r?void 0:r[0]},t.setHeader=function(e,t,n){a(e),e[r(t)]=[n]},t.addHeader=function(e,t,n){a(e);let i=r(t),o=e[i];o?Array.isArray(o)||(o=[o]):o=[],e[i]=o,o.push(n)},t.canonicalizeHeaders=a,t.removeHeader=function(e,t){a(e);let n=r(t);delete e[n]},t.flatHeaders=function(e){return Object.entries(e).flatMap(([e,t])=>Array.isArray(t)?t.map(t=>[e,t]):[[e,t]])}},1208:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setAbstractConvertHeadersFunc=t.abstractConvertHeaders=t.setAbstractConvertResponseFunc=t.abstractConvertResponse=t.setAbstractConvertIncomingResponseFunc=t.abstractConvertIncomingResponse=t.setAbstractConvertRequestFunc=t.abstractConvertRequest=t.setAbstractFetchFunc=t.abstractFetch=t.isOK=void 0;let n=r(7941);n.__exportStar(r(5225),t),n.__exportStar(r(9996),t),n.__exportStar(r(2153),t),n.__exportStar(r(7477),t),t.isOK=function(e){return e.statusCode>=200&&e.statusCode<=299},t.abstractFetch=()=>{throw Error("Missing adapter implementation for 'abstractFetch' - make sure to import the appropriate adapter for your platform")},t.setAbstractFetchFunc=function(e){t.abstractFetch=e},t.abstractConvertRequest=()=>{throw Error("Missing adapter implementation for 'abstractConvertRequest' - make sure to import the appropriate adapter for your platform")},t.setAbstractConvertRequestFunc=function(e){t.abstractConvertRequest=e},t.abstractConvertIncomingResponse=()=>Promise.resolve({}),t.setAbstractConvertIncomingResponseFunc=function(e){t.abstractConvertIncomingResponse=e},t.abstractConvertResponse=()=>{throw Error("Missing adapter implementation for 'abstractConvertResponse' - make sure to import the appropriate adapter for your platform")},t.setAbstractConvertResponseFunc=function(e){t.abstractConvertResponse=e},t.abstractConvertHeaders=()=>{throw Error("Missing adapter implementation for 'abstractConvertHeaders' - make sure to import the appropriate adapter for your platform")},t.setAbstractConvertHeadersFunc=function(e){t.abstractConvertHeaders=e}},7477:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2153:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.splitN=void 0,t.splitN=function(e,t,r){let n=e.split(t),i=Math.min(Math.abs(r),n.length);return[...n.slice(0,i-1),n.slice(i-1).join(t)]}},1302:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(7941);n.__exportStar(r(1208),t),n.__exportStar(r(6059),t),n.__exportStar(r(4406),t)},4406:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(7941);n.__exportStar(r(6563),t),n.__exportStar(r(9783),t)},9783:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setAbstractRuntimeString=t.abstractRuntimeString=void 0,t.abstractRuntimeString=()=>{throw Error("Missing adapter implementation for 'abstractRuntimeString' - make sure to import the appropriate adapter for your platform")},t.setAbstractRuntimeString=function(e){t.abstractRuntimeString=e}},6563:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5441:function(e,t,r){"use strict";r.r(t),r.d(t,{compare:function(){return a},compareVersions:function(){return n},satisfies:function(){return o},validate:function(){return i}});let n=(e,t)=>{let r=l(e),n=l(t),i=r.pop(),a=n.pop(),o=h(r,n);return 0!==o?o:i&&a?h(i.split("."),a.split(".")):i||a?i?-1:1:0},i=e=>"string"==typeof e&&/^[v\d]/.test(e)&&s.test(e),a=(e,t,r)=>{y(r);let i=n(e,t);return f[r].includes(i)},o=(e,t)=>{let r=t.match(/^([<>=~^]+)/),n=r?r[1]:"=";if("^"!==n&&"~"!==n)return a(e,t,n);let[i,o,s,,c]=l(e),[u,d,p,,f]=l(t),m=[i,o,s],y=[u,null!=d?d:"x",null!=p?p:"x"];if(f&&(!c||0!==h(m,y)||-1===h(c.split("."),f.split("."))))return!1;let g=y.findIndex(e=>"0"!==e)+1,v="~"===n?2:g>1?g:1;return 0===h(m.slice(0,v),y.slice(0,v))&&-1!==h(m.slice(v),y.slice(v))},s=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,l=e=>{if("string"!=typeof e)throw TypeError("Invalid argument expected string");let t=e.match(s);if(!t)throw Error(`Invalid argument not valid semver ('${e}' received)`);return t.shift(),t},c=e=>"*"===e||"x"===e||"X"===e,u=e=>{let t=parseInt(e,10);return isNaN(t)?e:t},d=(e,t)=>typeof e!=typeof t?[String(e),String(t)]:[e,t],p=(e,t)=>{if(c(e)||c(t))return 0;let[r,n]=d(u(e),u(t));return r>n?1:r<n?-1:0},h=(e,t)=>{for(let r=0;r<Math.max(e.length,t.length);r++){let n=p(e[r]||"0",t[r]||"0");if(0!==n)return n}return 0},f={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]},m=Object.keys(f),y=e=>{if("string"!=typeof e)throw TypeError(`Invalid operator type, expected string but got ${typeof e}`);if(-1===m.indexOf(e))throw Error(`Invalid operator, expected one of ${m.join("|")}`)}},5887:function(){},7279:function(e){var t="undefined"!=typeof Element,r="function"==typeof Map,n="function"==typeof Set,i="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;e.exports=function(e,a){try{return function e(a,o){if(a===o)return!0;if(a&&o&&"object"==typeof a&&"object"==typeof o){var s,l,c,u;if(a.constructor!==o.constructor)return!1;if(Array.isArray(a)){if((s=a.length)!=o.length)return!1;for(l=s;0!=l--;)if(!e(a[l],o[l]))return!1;return!0}if(r&&a instanceof Map&&o instanceof Map){if(a.size!==o.size)return!1;for(u=a.entries();!(l=u.next()).done;)if(!o.has(l.value[0]))return!1;for(u=a.entries();!(l=u.next()).done;)if(!e(l.value[1],o.get(l.value[0])))return!1;return!0}if(n&&a instanceof Set&&o instanceof Set){if(a.size!==o.size)return!1;for(u=a.entries();!(l=u.next()).done;)if(!o.has(l.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(o)){if((s=a.length)!=o.length)return!1;for(l=s;0!=l--;)if(a[l]!==o[l])return!1;return!0}if(a.constructor===RegExp)return a.source===o.source&&a.flags===o.flags;if(a.valueOf!==Object.prototype.valueOf&&"function"==typeof a.valueOf&&"function"==typeof o.valueOf)return a.valueOf()===o.valueOf();if(a.toString!==Object.prototype.toString&&"function"==typeof a.toString&&"function"==typeof o.toString)return a.toString()===o.toString();if((s=(c=Object.keys(a)).length)!==Object.keys(o).length)return!1;for(l=s;0!=l--;)if(!Object.prototype.hasOwnProperty.call(o,c[l]))return!1;if(t&&a instanceof Element)return!1;for(l=s;0!=l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!a.$$typeof)&&!e(a[c[l]],o[c[l]]))return!1;return!0}return a!=a&&o!=o}(e,a)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},4571:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return l.default}});var n=p(r(5269)),i=p(r(1763)),a=p(r(716)),o=p(r(7933)),s=p(r(1502)),l=p(r(5860)),c=p(r(3326)),u=p(r(1564)),d=p(r(4037));function p(e){return e&&e.__esModule?e:{default:e}}},2955:function(e,t){"use strict";function r(e){return(e+64>>>9<<4)+14+1}function n(e,t){let r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function i(e,t,r,i,a,o){var s;return n((s=n(n(t,e),n(i,o)))<<a|s>>>32-a,r)}function a(e,t,r,n,a,o,s){return i(t&r|~t&n,e,t,a,o,s)}function o(e,t,r,n,a,o,s){return i(t&n|r&~n,e,t,a,o,s)}function s(e,t,r,n,a,o,s){return i(t^r^n,e,t,a,o,s)}function l(e,t,r,n,a,o,s){return i(r^(t|~n),e,t,a,o,s)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(e){if("string"==typeof e){let t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){let t=[],r=32*e.length,n="0123456789abcdef";for(let i=0;i<r;i+=8){let r=e[i>>5]>>>i%32&255,a=parseInt(n.charAt(r>>>4&15)+n.charAt(15&r),16);t.push(a)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[r(t)-1]=t;let i=1732584193,c=-271733879,u=-1732584194,d=271733878;for(let t=0;t<e.length;t+=16){let r=i,p=c,h=u,f=d;i=a(i,c,u,d,e[t],7,-680876936),d=a(d,i,c,u,e[t+1],12,-389564586),u=a(u,d,i,c,e[t+2],17,606105819),c=a(c,u,d,i,e[t+3],22,-1044525330),i=a(i,c,u,d,e[t+4],7,-176418897),d=a(d,i,c,u,e[t+5],12,1200080426),u=a(u,d,i,c,e[t+6],17,-1473231341),c=a(c,u,d,i,e[t+7],22,-45705983),i=a(i,c,u,d,e[t+8],7,1770035416),d=a(d,i,c,u,e[t+9],12,-1958414417),u=a(u,d,i,c,e[t+10],17,-42063),c=a(c,u,d,i,e[t+11],22,-1990404162),i=a(i,c,u,d,e[t+12],7,1804603682),d=a(d,i,c,u,e[t+13],12,-40341101),u=a(u,d,i,c,e[t+14],17,-1502002290),c=a(c,u,d,i,e[t+15],22,1236535329),i=o(i,c,u,d,e[t+1],5,-165796510),d=o(d,i,c,u,e[t+6],9,-1069501632),u=o(u,d,i,c,e[t+11],14,643717713),c=o(c,u,d,i,e[t],20,-373897302),i=o(i,c,u,d,e[t+5],5,-701558691),d=o(d,i,c,u,e[t+10],9,38016083),u=o(u,d,i,c,e[t+15],14,-660478335),c=o(c,u,d,i,e[t+4],20,-405537848),i=o(i,c,u,d,e[t+9],5,568446438),d=o(d,i,c,u,e[t+14],9,-1019803690),u=o(u,d,i,c,e[t+3],14,-187363961),c=o(c,u,d,i,e[t+8],20,1163531501),i=o(i,c,u,d,e[t+13],5,-1444681467),d=o(d,i,c,u,e[t+2],9,-51403784),u=o(u,d,i,c,e[t+7],14,1735328473),c=o(c,u,d,i,e[t+12],20,-1926607734),i=s(i,c,u,d,e[t+5],4,-378558),d=s(d,i,c,u,e[t+8],11,-2022574463),u=s(u,d,i,c,e[t+11],16,1839030562),c=s(c,u,d,i,e[t+14],23,-35309556),i=s(i,c,u,d,e[t+1],4,-1530992060),d=s(d,i,c,u,e[t+4],11,1272893353),u=s(u,d,i,c,e[t+7],16,-155497632),c=s(c,u,d,i,e[t+10],23,-1094730640),i=s(i,c,u,d,e[t+13],4,681279174),d=s(d,i,c,u,e[t],11,-358537222),u=s(u,d,i,c,e[t+3],16,-722521979),c=s(c,u,d,i,e[t+6],23,76029189),i=s(i,c,u,d,e[t+9],4,-640364487),d=s(d,i,c,u,e[t+12],11,-421815835),u=s(u,d,i,c,e[t+15],16,530742520),c=s(c,u,d,i,e[t+2],23,-995338651),i=l(i,c,u,d,e[t],6,-198630844),d=l(d,i,c,u,e[t+7],10,1126891415),u=l(u,d,i,c,e[t+14],15,-1416354905),c=l(c,u,d,i,e[t+5],21,-57434055),i=l(i,c,u,d,e[t+12],6,1700485571),d=l(d,i,c,u,e[t+3],10,-1894986606),u=l(u,d,i,c,e[t+10],15,-1051523),c=l(c,u,d,i,e[t+1],21,-2054922799),i=l(i,c,u,d,e[t+8],6,1873313359),d=l(d,i,c,u,e[t+15],10,-30611744),u=l(u,d,i,c,e[t+6],15,-1560198380),c=l(c,u,d,i,e[t+13],21,1309151649),i=l(i,c,u,d,e[t+4],6,-145523070),d=l(d,i,c,u,e[t+11],10,-1120210379),u=l(u,d,i,c,e[t+2],15,718787259),c=l(c,u,d,i,e[t+9],21,-343485551),i=n(i,r),c=n(c,p),u=n(u,h),d=n(d,f)}return[i,c,u,d]}(function(e){if(0===e.length)return[];let t=8*e.length,n=new Uint32Array(r(t));for(let r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))}},5317:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let r="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);t.default={randomUUID:r}},1502:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default="00000000-0000-0000-0000-000000000000"},4037:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(3326))&&n.__esModule?n:{default:n};t.default=function(e){let t;if(!(0,i.default)(e))throw TypeError("Invalid UUID");let r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r}},7141:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},6478:function(e,t){"use strict";let r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(n)};let n=new Uint8Array(16)},5315:function(e,t){"use strict";function r(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(e){let t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){let t=unescape(encodeURIComponent(e));e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);let i=Math.ceil((e.length/4+2)/16),a=Array(i);for(let t=0;t<i;++t){let r=new Uint32Array(16);for(let n=0;n<16;++n)r[n]=e[64*t+4*n]<<24|e[64*t+4*n+1]<<16|e[64*t+4*n+2]<<8|e[64*t+4*n+3];a[t]=r}a[i-1][14]=(e.length-1)*8/4294967296,a[i-1][14]=Math.floor(a[i-1][14]),a[i-1][15]=(e.length-1)*8&4294967295;for(let e=0;e<i;++e){let i=new Uint32Array(80);for(let t=0;t<16;++t)i[t]=a[e][t];for(let e=16;e<80;++e)i[e]=r(i[e-3]^i[e-8]^i[e-14]^i[e-16],1);let o=n[0],s=n[1],l=n[2],c=n[3],u=n[4];for(let e=0;e<80;++e){let n=Math.floor(e/20),a=r(o,5)+function(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}(n,s,l,c)+u+t[n]+i[e]>>>0;u=c,c=l,l=r(s,30)>>>0,s=o,o=a}n[0]=n[0]+o>>>0,n[1]=n[1]+s>>>0,n[2]=n[2]+l>>>0,n[3]=n[3]+c>>>0,n[4]=n[4]+u>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}},1564:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.unsafeStringify=o;var n,i=(n=r(3326))&&n.__esModule?n:{default:n};let a=[];for(let e=0;e<256;++e)a.push((e+256).toString(16).slice(1));function o(e,t=0){return a[e[t+0]]+a[e[t+1]]+a[e[t+2]]+a[e[t+3]]+"-"+a[e[t+4]]+a[e[t+5]]+"-"+a[e[t+6]]+a[e[t+7]]+"-"+a[e[t+8]]+a[e[t+9]]+"-"+a[e[t+10]]+a[e[t+11]]+a[e[t+12]]+a[e[t+13]]+a[e[t+14]]+a[e[t+15]]}t.default=function(e,t=0){let r=o(e,t);if(!(0,i.default)(r))throw TypeError("Stringified UUID is invalid");return r}},5269:function(e,t,r){"use strict";let n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=(a=r(6478))&&a.__esModule?a:{default:a},s=r(1564);let l=0,c=0;t.default=function(e,t,r){let a=t&&r||0,u=t||Array(16),d=(e=e||{}).node||n,p=void 0!==e.clockseq?e.clockseq:i;if(null==d||null==p){let t=e.random||(e.rng||o.default)();null==d&&(d=n=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==p&&(p=i=(t[6]<<8|t[7])&16383)}let h=void 0!==e.msecs?e.msecs:Date.now(),f=void 0!==e.nsecs?e.nsecs:c+1,m=h-l+(f-c)/1e4;if(m<0&&void 0===e.clockseq&&(p=p+1&16383),(m<0||h>l)&&void 0===e.nsecs&&(f=0),f>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");l=h,c=f,i=p;let y=((268435455&(h+=122192928e5))*1e4+f)%4294967296;u[a++]=y>>>24&255,u[a++]=y>>>16&255,u[a++]=y>>>8&255,u[a++]=255&y;let g=h/4294967296*1e4&268435455;u[a++]=g>>>8&255,u[a++]=255&g,u[a++]=g>>>24&15|16,u[a++]=g>>>16&255,u[a++]=p>>>8|128,u[a++]=255&p;for(let e=0;e<6;++e)u[a+e]=d[e];return t||(0,s.unsafeStringify)(u)}},1763:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(7994)),i=a(r(2955));function a(e){return e&&e.__esModule?e:{default:e}}let o=(0,n.default)("v3",48,i.default);t.default=o},7994:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0,t.default=function(e,t,r){function n(e,n,o,s){var l;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=(0,a.default)(n)),(null===(l=n)||void 0===l?void 0:l.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+e.length);if(c.set(n),c.set(e,n.length),(c=r(c))[6]=15&c[6]|t,c[8]=63&c[8]|128,o){s=s||0;for(let e=0;e<16;++e)o[s+e]=c[e];return o}return(0,i.unsafeStringify)(c)}try{n.name=e}catch(e){}return n.DNS=o,n.URL=s,n};var n,i=r(1564),a=(n=r(4037))&&n.__esModule?n:{default:n};let o="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=o;let s="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=s},716:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(5317)),i=o(r(6478)),a=r(1564);function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,r){if(n.default.randomUUID&&!t&&!e)return n.default.randomUUID();let o=(e=e||{}).random||(e.rng||i.default)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=o[e];return t}return(0,a.unsafeStringify)(o)}},7933:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(7994)),i=a(r(5315));function a(e){return e&&e.__esModule?e:{default:e}}let o=(0,n.default)("v5",80,i.default);t.default=o},3326:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(7141))&&n.__esModule?n:{default:n};t.default=function(e){return"string"==typeof e&&i.default.test(e)}},5860:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(3326))&&n.__esModule?n:{default:n};t.default=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}},3741:function(e){function t(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function r(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,t(i.key),i)}}function n(e,r,n){return(r=t(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){var r=l(e,t,"get");return r.get?r.get.call(e):r.value}function s(e,t,r){var n=l(e,t,"set");return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw TypeError("attempted to set read only private field");t.value=r}}(e,n,r),r}function l(e,t,r){if(!t.has(e))throw TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function c(e,t,r){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return r}function u(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}function d(e,t,r){u(e,t),t.set(e,r)}function p(e,t){u(e,t),t.add(e)}var h=[" daum[ /]"," deusu/"," yadirectfetcher","(?:^| )site","(?:^|[^g])news","@[a-z]","\\(at\\)[a-z]","\\(github\\.com/","\\[at\\][a-z]","^12345","^<","^[\\w \\.\\-\\(\\)]+(/v?\\d+(\\.\\d+)?(\\.\\d{1,10})?)?$","^[^ ]{50,}$","^active","^ad muncher","^amaya","^anglesharp/","^anonymous","^avsdevicesdk/","^axios/","^bidtellect/","^biglotron","^btwebclient/","^castro","^clamav[ /]","^client/","^cobweb/","^coccoc","^custom","^ddg[_-]android","^discourse","^dispatch/\\d","^downcast/","^duckduckgo","^facebook","^fdm[ /]\\d","^getright/","^gozilla/","^hatena","^hobbit","^hotzonu","^hwcdn/","^jeode/","^jetty/","^jigsaw","^linkdex","^lwp[-: ]","^metauri","^microsoft bits","^movabletype","^mozilla/\\d\\.\\d \\(compatible;?\\)$","^mozilla/\\d\\.\\d \\w*$","^navermailapp","^netsurf","^offline explorer","^php","^postman","^postrank","^python","^read","^reed","^restsharp/","^snapchat","^space bison","^svn","^swcd ","^taringa","^test certificate info","^thumbor/","^tumblr/","^user-agent:mozilla","^valid","^venus/fedoraplanet","^w3c","^webbandit/","^webcopier","^wget","^whatsapp","^xenu link sleuth","^yahoo","^yandex","^zdm/\\d","^zoom marketplace/","^{{.*}}$","adbeat\\.com","appinsights","archive","ask jeeves/teoma","bit\\.ly/","bluecoat drtr","bot","browsex","burpcollaborator","capture","catch","check","chrome-lighthouse","chromeframe","cloud","crawl","cryptoapi","dareboost","datanyze","dataprovider","dejaclick","dmbrowser","download","evc-batch/","feed","firephp","freesafeip","gomezagent","google","headlesschrome/","http","httrack","hubspot marketing grader","hydra","ibisbrowser","images","inspect","iplabel","ips-agent","java","library","mail\\.ru/","manager","monitor","morningscore/","neustar wpm","nutch","offbyone","optimize","pageburst","pagespeed","perl","phantom","pingdom","powermarks","preview","proxy","ptst[ /]\\d","reader","rexx;","rigor","rss","scan","scrape","search","serp ?reputation ?management","server","sogou","sparkler/","speedcurve","spider","splash","statuscake","stumbleupon\\.com","supercleaner","synapse","synthetic","torrent","tracemyfile","transcoder","trendsmapresolver","twingly recon","url","virtuoso","wappalyzer","webglance","webkit2png","websitemetadataretriever","whatcms/","wordpress","zgrab"];!function(e){try{RegExp("(?<! cu)bot").test("dangerbot")}catch(t){return e}[["bot","(?<! cu)bot"],["google","(?<! (?:channel/|google/))google(?!(app|/google| pixel))"],["http","(?<!(?:lib))http"],["java","java(?!;)"],["search","(?<! ya(?:yandex)?)search"]].forEach(function(t){var r=i(t,2),n=r[0],a=r[1],o=e.lastIndexOf(n);~o&&e.splice(o,1,a)})}(h);var f=new WeakMap,m=new WeakMap,y=new WeakSet,g=new WeakSet;function v(){s(this,m,RegExp(o(this,f).join("|"),"i"))}function b(e){return o(this,f).indexOf(e.toLowerCase())}var w=new(function(){var e,t;function a(e){var t=this;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a),p(this,g),p(this,y),d(this,f,{writable:!0,value:void 0}),d(this,m,{writable:!0,value:void 0}),s(this,f,e||h.slice()),c(this,y,v).call(this),Object.defineProperties(function(e){return t.test(e)},Object.entries(Object.getOwnPropertyDescriptors(a.prototype)).reduce(function(e,r){var a=i(r,2),o=a[0],s=a[1];return"function"==typeof s.value&&Object.assign(e,n({},o,{value:t[o].bind(t)})),"function"==typeof s.get&&Object.assign(e,n({},o,{get:function(){return t[o]}})),e},{}))}return e=[{key:"pattern",get:function(){return new RegExp(o(this,m))}},{key:"test",value:function(e){return!!e&&o(this,m).test(e)}},{key:"isbot",value:function(e){return!!e&&o(this,m).test(e)}},{key:"find",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.match(o(this,m));return t&&t[0]}},{key:"matches",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return o(this,f).filter(function(t){return RegExp(t,"i").test(e)})}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.exclude(this.matches(e))}},{key:"extend",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];[].push.apply(o(this,f),t.filter(function(t){return -1===c(e,g,b).call(e,t)}).map(function(e){return e.toLowerCase()})),c(this,y,v).call(this)}},{key:"exclude",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.length;t--;){var r=c(this,g,b).call(this,e[t]);r>-1&&o(this,f).splice(r,1)}c(this,y,v).call(this)}},{key:"spawn",value:function(e){return new a(e||o(this,f))}}],r(a.prototype,e),t&&r(a,t),Object.defineProperty(a,"prototype",{writable:!1}),a}());e.exports=w},5977:function(e,t,r){"use strict";var n,i;r.r(t),r.d(t,{createAdminApiClient:function(){return K},createAdminRestApiClient:function(){return U}});let a="GraphQL Client",o="An error occurred while fetching from the API. Review 'graphQLErrors' for details.",s="Response returned unexpected Content-Type:",l="An unknown error has occurred. The API did not return a data object or any errors in its response.",c={json:"application/json",multipart:"multipart/mixed"},u="X-SDK-Variant",d="X-SDK-Version",p=[429,503],h=/@(defer)\b/i,f=/boundary="?([^=";]+)"?/i,m="\r\n\r\n";function y(e,t=a){return e.startsWith(`${t}`)?e:`${t}: ${e}`}function g(e){return e instanceof Error?e.message:JSON.stringify(e)}function v(e){return e instanceof Error&&e.cause?e.cause:void 0}function b(e){return e.flatMap(({errors:e})=>e??[])}function w({client:e,retries:t}){if(void 0!==t&&("number"!=typeof t||t<0||t>3))throw Error(`${e}: The provided "retries" value (${t}) is invalid - it cannot be less than 0 or greater than 3`)}function E(e,t){return t&&("object"!=typeof t||Array.isArray(t)||"object"==typeof t&&Object.keys(t).length>0)?{[e]:t}:{}}function S([e,...t]){return t.reduce(function e(t,r){return Object.keys(r||{}).reduce((n,i)=>(("object"==typeof r[i]||Array.isArray(r[i]))&&t[i]?n[i]=e(t[i],r[i]):n[i]=r[i],n),Array.isArray(t)?[...t]:{...t})},{...e})}function A({clientLogger:e,customFetchApi:t=fetch,client:r=a,defaultRetryWaitTime:n=1e3,retriableCodes:i=p}){let o=async(a,s,l)=>{let c;let u=s+1,d=l+1;try{if(c=await t(...a),e({type:"HTTP-Response",content:{requestParams:a,response:c}}),!c.ok&&i.includes(c.status)&&u<=d)throw Error();return c}catch(t){if(u<=d){let t=c?.headers.get("Retry-After");return await _(t?parseInt(t,10):n),e({type:"HTTP-Retry",content:{requestParams:a,lastResponse:c,retryAttempt:s,maxRetries:l}}),o(a,u,l)}throw Error(y(`${l>0?`Attempted maximum number of ${l} network retries. Last message - `:""}${g(t)}`,r))}};return o}async function _(e){return new Promise(t=>setTimeout(t,e))}async function C(e){let{errors:t,data:r,extensions:n}=await e.json();return{...E("data",r),...E("extensions",n),...t||!r?{errors:{networkStatusCode:e.status,message:y(t?o:l),...E("graphQLErrors",t),response:e}}:{}}}async function*P(e){let t=new TextDecoder;if(e.body[Symbol.asyncIterator])for await(let r of e.body)yield t.decode(r);else{let r;let n=e.body.getReader();try{for(;!(r=await n.read()).done;)yield t.decode(r.value)}finally{n.cancel()}}}function k({client:e,storeDomain:t}){try{if(!t||"string"!=typeof t)throw Error();let e=t.trim(),r=e.match(/^https?:/)?e:`https://${e}`,n=new URL(r);return n.protocol="https",n.origin}catch(r){throw Error(`${e}: a valid store domain ("${t}") must be provided`)}}function x({client:e,currentSupportedApiVersions:t,apiVersion:r,logger:n}){let i=`${e}: the provided apiVersion ("${r}")`,a=`Currently supported API versions: ${t.join(", ")}`;if(!r||"string"!=typeof r)throw Error(`${i} is invalid. ${a}`);let o=r.trim();t.includes(o)||(n?n({type:"Unsupported_Api_Version",content:{apiVersion:r,supportedApiVersions:t}}):console.warn(`${i} is likely deprecated or not supported. ${a}`))}function T(e){let t=3*e-2;return 10===t?t:`0${t}`}function O(e,t,r){let n=t-r;return n<=0?`${e-1}-${T(n+4)}`:`${e}-${T(n)}`}function R(){let{year:e,quarter:t,version:r}=function(){let e=new Date,t=e.getUTCMonth(),r=e.getUTCFullYear(),n=Math.floor(t/3+1);return{year:r,quarter:n,version:`${r}-${T(n)}`}}(),n=4===t?`${e+1}-01`:`${e}-${T(t+1)}`;return[O(e,t,3),O(e,t,2),O(e,t,1),r,n,"unstable"]}let H="application/json",I="0.2.9",M="X-Shopify-Access-Token",D="Admin API Client",j=[429,500,503];function N(e){if(!e)throw Error(`${D}: an access token must be provided`)}function $(){if("undefined"!=typeof window)throw Error(`${D}: this client should not be used in the browser`)}function K({storeDomain:e,apiVersion:t,accessToken:r,userAgentPrefix:n,retries:i=0,customFetchApi:p,logger:_}){var T;let O=R(),j=k({client:D,storeDomain:e});$(),x({client:D,currentSupportedApiVersions:O,apiVersion:t,logger:_}),N(r);let K=(T={client:D,currentSupportedApiVersions:O,logger:_},e=>{e&&x({...T,apiVersion:e});let r=(e??t).trim();return`${j}/admin/api/${r}/graphql.json`}),U={storeDomain:j,apiVersion:t,accessToken:r,headers:{"Content-Type":H,Accept:H,[M]:r,"User-Agent":`${n?`${n} | `:""}${D} v${I}`},apiUrl:K(),userAgentPrefix:n},W=function({headers:e,url:t,customFetchApi:r=fetch,retries:n=0,logger:i}){w({client:a,retries:n});let p={headers:e,url:t,retries:n},_=function(e,{url:t,headers:r,retries:n}){return async(i,o={})=>{let{variables:s,headers:l,url:c,retries:p}=o,h=JSON.stringify({query:i,variables:s});w({client:a,retries:p});let f=Object.entries({...r,...l}).reduce((e,[t,r])=>(e[t]=Array.isArray(r)?r.join(", "):r.toString(),e),{});return f[u]||f[d]||(f[u]="shopify-graphql-client",f[d]="0.10.4"),e([c??t,{method:"POST",headers:f,body:h}],1,p??n)}}(A({customFetchApi:r,clientLogger:e=>{i&&i(e)},defaultRetryWaitTime:1e3}),p),k=async(...e)=>{if(h.test(e[0]))throw Error(y("This operation will result in a streamable response - use requestStream() instead."));try{let t=await _(...e),{status:r,statusText:n}=t,i=t.headers.get("content-type")||"";if(!t.ok)return{errors:{networkStatusCode:r,message:y(n),response:t}};if(!i.includes(c.json))return{errors:{networkStatusCode:r,message:y(`${s} ${i}`),response:t}};return C(t)}catch(e){return{errors:{message:g(e)}}}},x=async(...e)=>{if(!h.test(e[0]))throw Error(y("This operation does not result in a streamable response - use request() instead."));try{let t=await _(...e),{statusText:r}=t;if(!t.ok)throw Error(r,{cause:t});let n=t.headers.get("content-type")||"";switch(!0){case n.includes(c.json):return{async *[Symbol.asyncIterator](){let e=await C(t);yield{...e,hasNext:!1}}};case n.includes(c.multipart):return function(e,t){let r;let n=(t??"").match(f),i=`--${n?n[1]:"-"}`;if(!e.body?.getReader&&!e.body[Symbol.asyncIterator])throw Error("API multipart response did not return an iterable body",{cause:e});let a=P(e),s={};return{async *[Symbol.asyncIterator](){try{let e=!0;for await(let t of{async *[Symbol.asyncIterator](){try{let e="";for await(let t of a)if((e+=t).indexOf(i)>-1){let t=e.lastIndexOf(i),r=e.slice(0,t).split(i).filter(e=>e.trim().length>0).map(e=>e.slice(e.indexOf(m)+m.length).trim());r.length>0&&(yield r),e=e.slice(t+i.length),"--"===e.trim()&&(e="")}}catch(e){throw Error(`Error occured while processing stream payload - ${g(e)}`)}}}){let n=t.map(e=>{try{return JSON.parse(e)}catch(e){throw Error(`Error in parsing multipart response - ${g(e)}`)}}).map(e=>{let{data:t,incremental:r,hasNext:n,extensions:i,errors:a}=e;if(!r)return{data:t||{},...E("errors",a),...E("extensions",i),hasNext:n};let o=r.map(({data:e,path:t,errors:r})=>({data:e&&t?function e(t,r){if(0===t.length)return r;let n={[t.pop()]:r};return 0===t.length?n:e(t,n)}(t,e):{},...E("errors",r)}));return{data:1===o.length?o[0].data:S([...o.map(({data:e})=>e)]),...E("errors",b(o)),hasNext:n}});r=n.find(e=>e.extensions)?.extensions??r;let i=b(n);s=S([s,...n.map(({data:e})=>e)]),e=n.slice(-1)[0].hasNext,function(e,t){if(e.length>0)throw Error(o,{cause:{graphQLErrors:e}});if(0===Object.keys(t).length)throw Error(l)}(i,s),yield{...E("data",s),...E("extensions",r),hasNext:e}}if(e)throw Error("Response stream terminated unexpectedly")}catch(n){let t=v(n);yield{...E("data",s),...E("extensions",r),errors:{message:y(g(n)),networkStatusCode:e.status,...E("graphQLErrors",t?.graphQLErrors),response:e},hasNext:!1}}}}}(t,n);default:throw Error(`${s} ${n}`,{cause:t})}}catch(e){return{async *[Symbol.asyncIterator](){let t=v(e);yield{errors:{message:y(g(e)),...E("networkStatusCode",t?.status),...E("response",t)},hasNext:!1}}}}};return{config:p,fetch:_,request:k,requestStream:x}}({headers:U.headers,url:U.apiUrl,retries:i,customFetchApi:p,logger:_}),F=e=>({...e??{},...U.headers}),B=e=>e?K(e):U.apiUrl,L=function({getHeaders:e,getApiUrl:t}){return(r,n)=>{let i=[r];if(n&&Object.keys(n).length>0){let{variables:r,apiVersion:a,headers:o,retries:s}=n;i.push({...r?{variables:r}:{},...o?{headers:e(o)}:{},...a?{url:t(a)}:{},...s?{retries:s}:{}})}return i}}({getHeaders:F,getApiUrl:B});return Object.freeze({config:U,getHeaders:F,getApiUrl:B,fetch:(...e)=>W.fetch(...L(...e)),request:(...e)=>W.request(...L(...e))})}function U({storeDomain:e,apiVersion:t,accessToken:r,userAgentPrefix:i,logger:a,customFetchApi:o=fetch,retries:s=0,scheme:l="https",defaultRetryTime:c=1e3,formatPaths:u=!0}){let d=R(),p=k({client:D,storeDomain:e}).replace("https://",`${l}://`);$(),x({client:D,currentSupportedApiVersions:d,apiVersion:t,logger:a}),N(r),w({client:D,retries:s});let h=function(e,t,r,n=!0){return(i,a,o)=>{o&&x({...r,apiVersion:o});let s=(o??t).trim(),l=i.replace(/^\//,"");n&&(l.startsWith("admin")||(l=`admin/api/${s}/${l}`),l.endsWith(".json")||(l=`${l}.json`));let c=new URLSearchParams;if(a)for(let[e,t]of Object.entries(a))!function e(t,r,n){if(Array.isArray(n)){n.forEach(n=>e(t,`${r}[]`,n));return}if("object"==typeof n){Object.entries(n).forEach(([n,i])=>e(t,`${r}[${n}]`,i));return}t.append(r,String(n))}(c,e,t);let u=c.toString()?`?${c.toString()}`:"";return`${e}/${l}${u}`}}(p,t,{client:D,currentSupportedApiVersions:d,logger:a},u),f=A({customFetchApi:o,clientLogger:e=>{a&&a(e)},defaultRetryWaitTime:c,client:D,retriableCodes:j}),m=async(e,{method:t,data:n,headers:a,searchParams:o,retries:l=0,apiVersion:c})=>{w({client:D,retries:l});let u=h(e,o??{},c),d=W(a??{}),p=[...d["user-agent"]?[d["user-agent"]]:[],...i?[i]:[],`${D} v${I}`].join(" | "),m=W({"Content-Type":H,...d,Accept:H,[M]:r,"User-Agent":p}),y=n&&"string"!=typeof n?JSON.stringify(n):n;return f([u,{method:t,headers:m,...y?{body:y}:void 0}],1,l??s)};return{get:(e,t)=>m(e,{method:n.Get,...t}),put:(e,t)=>m(e,{method:n.Put,...t}),post:(e,t)=>m(e,{method:n.Post,...t}),delete:(e,t)=>m(e,{method:n.Delete,...t})}}function W(e){let t={};for(let[r,n]of Object.entries(e))t[r.toLowerCase()]=Array.isArray(n)?n.join(", "):String(n);return t}(i=n||(n={})).Get="GET",i.Post="POST",i.Put="PUT",i.Delete="DELETE"},8377:function(e,t,r){"use strict";r.d(t,{S:function(){return i}});var n=r(6193),i=function(e){return n.createElement("svg",Object.assign({viewBox:"0 0 20 20"},e),n.createElement("path",{fillRule:"evenodd",d:"M5.72 8.47a.75.75 0 0 1 1.06 0l3.47 3.47 3.47-3.47a.75.75 0 1 1 1.06 1.06l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 0 1 0-1.06Z"}))};i.displayName="ChevronDownIcon"},4930:function(e,t,r){"use strict";r.d(t,{S:function(){return i}});var n=r(6193),i=function(e){return n.createElement("svg",Object.assign({viewBox:"0 0 20 20"},e),n.createElement("path",{fillRule:"evenodd",d:"M14.53 12.28a.75.75 0 0 1-1.06 0l-3.47-3.47-3.47 3.47a.75.75 0 0 1-1.06-1.06l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 0 1 0 1.06Z"}))};i.displayName="ChevronUpIcon"},757:function(e,t,r){"use strict";r.d(t,{S:function(){return i}});var n=r(6193),i=function(e){return n.createElement("svg",Object.assign({viewBox:"0 0 20 20"},e),n.createElement("path",{d:"M10.884 4.323a1.25 1.25 0 0 0-1.768 0l-2.646 2.647a.75.75 0 0 0 1.06 1.06l2.47-2.47 2.47 2.47a.75.75 0 1 0 1.06-1.06l-2.646-2.647Z"}),n.createElement("path",{d:"m13.53 13.03-2.646 2.647a1.25 1.25 0 0 1-1.768 0l-2.646-2.647a.75.75 0 0 1 1.06-1.06l2.47 2.47 2.47-2.47a.75.75 0 0 1 1.06 1.06Z"}))};i.displayName="SelectIcon"},4428:function(e,t,r){"use strict";r.d(t,{S:function(){return i}});var n=r(6193),i=function(e){return n.createElement("svg",Object.assign({viewBox:"0 0 20 20"},e),n.createElement("path",{d:"M12.72 13.78a.75.75 0 1 0 1.06-1.06l-2.72-2.72 2.72-2.72a.75.75 0 0 0-1.06-1.06l-2.72 2.72-2.72-2.72a.75.75 0 0 0-1.06 1.06l2.72 2.72-2.72 2.72a.75.75 0 1 0 1.06 1.06l2.72-2.72 2.72 2.72Z"}))};i.displayName="XIcon"},5257:function(e,t,r){"use strict";r.r(t),r.d(t,{createStorefrontApiClient:function(){return g}});let n="GraphQL Client",i={json:"application/json"},a=[429,503];function o(e,t=n){return e.startsWith(`${t}`)?e:`${t}: ${e}`}function s(e){return e instanceof Error?e.message:JSON.stringify(e)}function l({client:e,retries:t}){if(void 0!==t&&("number"!=typeof t||t<0||t>3))throw Error(`${e}: The provided "retries" value (${t}) is invalid - it cannot be less than 0 or greater than 3`)}function c(e,t){return t&&("object"!=typeof t||Array.isArray(t)||"object"==typeof t&&Object.keys(t).length>0)?{[e]:t}:{}}async function u(e){return new Promise(t=>setTimeout(t,e))}async function d(e){let{errors:t,data:r,extensions:n}=await e.json();return{...c("data",r),...c("extensions",n),...t||!r?{errors:{networkStatusCode:e.status,message:o(t?"An error occurred while fetching from the API. Review 'graphQLErrors' for details.":"An unknown error has occurred. The API did not return a data object or any errors in its response."),...c("graphQLErrors",t),response:e}}:{}}}function p({client:e,currentSupportedApiVersions:t,apiVersion:r,logger:n}){let i=`${e}: the provided apiVersion ("${r}")`,a=`Currently supported API versions: ${t.join(", ")}`;if(!r||"string"!=typeof r)throw Error(`${i} is invalid. ${a}`);let o=r.trim();t.includes(o)||(n?n({type:"Unsupported_Api_Version",content:{apiVersion:r,supportedApiVersions:t}}):console.warn(`${i} is likely deprecated or not supported. ${a}`))}function h(e){let t=3*e-2;return 10===t?t:`0${t}`}function f(e,t,r){let n=t-r;return n<=0?`${e-1}-${h(n+4)}`:`${e}-${h(n)}`}let m="application/json",y="Storefront API Client";function g({storeDomain:e,apiVersion:t,publicAccessToken:r,privateAccessToken:c,clientName:g,retries:v=0,customFetchApi:b,logger:w}){let E=function(){let{year:e,quarter:t,version:r}=function(){let e=new Date,t=e.getUTCMonth(),r=e.getUTCFullYear(),n=Math.floor(t/3+1);return{year:r,quarter:n,version:`${r}-${h(n)}`}}(),n=4===t?`${e+1}-01`:`${e}-${h(t+1)}`;return[f(e,t,3),f(e,t,2),f(e,t,1),r,n,"unstable"]}(),S=function({client:e,storeDomain:t}){try{if(!t||"string"!=typeof t)throw Error();let e=t.trim(),r=e.startsWith("http:")||e.startsWith("https:")?e:`https://${e}`,n=new URL(r);return n.protocol="https",n.origin}catch(r){throw Error(`${e}: a valid store domain ("${t}") must be provided`)}}({client:y,storeDomain:e}),A={client:y,currentSupportedApiVersions:E,logger:w};p({...A,apiVersion:t}),function(e,t){if(!e&&!t)throw Error(`${y}: a public or private access token must be provided`);if(e&&t)throw Error(`${y}: only provide either a public or private access token`)}(r,c),function(e){if(e&&"undefined"!=typeof window)throw Error(`${y}: private access tokens and headers should only be used in a server-to-server implementation. Use the public API access token in nonserver environments.`)}(c);let _=e=>{e&&p({...A,apiVersion:e});let r=(e??t).trim();return`${S}/api/${r}/graphql.json`},C={storeDomain:S,apiVersion:t,...r?{publicAccessToken:r}:{privateAccessToken:c},headers:{"Content-Type":m,Accept:m,"X-SDK-Variant":"storefront-api-client","X-SDK-Version":"0.2.4",...g?{"X-SDK-Variant-Source":g}:{},...r?{"X-Shopify-Storefront-Access-Token":r}:{"Shopify-Storefront-Private-Token":c}},apiUrl:_(),clientName:g},P=function({headers:e,url:t,customFetchApi:r=fetch,retries:c=0,logger:p}){l({client:n,retries:c});let h={headers:e,url:t,retries:c},f=function(e,{url:t,headers:r,retries:i}){return async(a,o={})=>{let{variables:s,headers:c,url:u,retries:d}=o,p=JSON.stringify({query:a,variables:s});return l({client:n,retries:d}),e([u??t,{method:"POST",headers:Object.fromEntries(Object.entries({...r,...c}).map(([e,t])=>[e,Array.isArray(t)?t.join(", "):t.toString()])),body:p}],1,d??i)}}(function({clientLogger:e,customFetchApi:t=fetch,client:r=n,defaultRetryWaitTime:i=1e3,retriableCodes:l=a}){let c=async(n,a,d)=>{let p;let h=a+1,f=d+1;try{if(p=await t(...n),e({type:"HTTP-Response",content:{requestParams:n,response:p}}),!p.ok&&l.includes(p.status)&&h<=f)throw Error();return p}catch(t){if(h<=f){let t=p?.headers.get("Retry-After");return await u(t?parseInt(t,10):i),e({type:"HTTP-Retry",content:{requestParams:n,lastResponse:p,retryAttempt:a,maxRetries:d}}),c(n,h,d)}throw Error(o(`${d>0?`Attempted maximum number of ${d} network retries. Last message - `:""}${s(t)}`,r))}};return c}({customFetchApi:r,clientLogger:e=>{p&&p(e)},defaultRetryWaitTime:1e3}),h),m=async(...e)=>{try{let t=await f(...e),{status:r,statusText:n}=t,a=t.headers.get("content-type")||"";if(!t.ok)return{errors:{networkStatusCode:r,message:o(n),response:t}};if(!a.includes(i.json))return{errors:{networkStatusCode:r,message:o(`Response returned unexpected Content-Type: ${a}`),response:t}};return d(t)}catch(e){return{errors:{message:s(e)}}}};return{config:h,fetch:f,request:m}}({headers:C.headers,url:C.apiUrl,retries:v,customFetchApi:b,logger:w}),k=e=>({...e??{},...C.headers}),x=e=>e?_(e):C.apiUrl,T=function({getHeaders:e,getApiUrl:t}){return(r,n)=>{let i=[r];if(n&&Object.keys(n).length>0){let{variables:r,apiVersion:a,headers:o,retries:s}=n;i.push({...r?{variables:r}:{},...o?{headers:e(o)}:{},...a?{url:t(a)}:{},...s?{retries:s}:{}})}return i}}({getHeaders:k,getApiUrl:x});return Object.freeze({config:C,getHeaders:k,getApiUrl:x,fetch:(...e)=>P.fetch(...T(...e)),request:(...e)=>P.request(...T(...e))})}},3765:function(e,t,r){"use strict";r.r(t),r.d(t,{CompactEncrypt:function(){return tp},CompactSign:function(){return tm},EmbeddedJWK:function(){return t_},EncryptJWT:function(){return tw},FlattenedEncrypt:function(){return e4},FlattenedSign:function(){return tf},GeneralEncrypt:function(){return e7},GeneralSign:function(){return tg},SignJWT:function(){return tb},UnsecuredJWT:function(){return tI},base64url:function(){return i},calculateJwkThumbprint:function(){return tS},calculateJwkThumbprintUri:function(){return tA},compactDecrypt:function(){return eZ},compactVerify:function(){return tr},createLocalJWKSet:function(){return tT},createRemoteJWKSet:function(){return tH},cryptoRuntime:function(){return tB},decodeJwt:function(){return tN},decodeProtectedHeader:function(){return tj},errors:function(){return n},exportJWK:function(){return e2},exportPKCS8:function(){return e1},exportSPKI:function(){return e0},flattenedDecrypt:function(){return eX},flattenedVerify:function(){return tt},generalDecrypt:function(){return eY},generalVerify:function(){return tn},generateKeyPair:function(){return tW},generateSecret:function(){return tF},importJWK:function(){return e$},importPKCS8:function(){return eN},importSPKI:function(){return eD},importX509:function(){return ej},jwtDecrypt:function(){return td},jwtVerify:function(){return tu}});var n={};r.r(n),r.d(n,{JOSEAlgNotAllowed:function(){return A},JOSEError:function(){return w},JOSENotSupported:function(){return _},JWEDecompressionFailed:function(){return P},JWEDecryptionFailed:function(){return C},JWEInvalid:function(){return k},JWKInvalid:function(){return O},JWKSInvalid:function(){return R},JWKSMultipleMatchingKeys:function(){return I},JWKSNoMatchingKey:function(){return H},JWKSTimeout:function(){return M},JWSInvalid:function(){return x},JWSSignatureVerificationFailed:function(){return D},JWTClaimValidationFailed:function(){return E},JWTExpired:function(){return S},JWTInvalid:function(){return T}});var i={};r.r(i),r.d(i,{decode:function(){return tD},encode:function(){return tM}});var a=crypto;let o=e=>e instanceof CryptoKey,s=async(e,t)=>{let r=`SHA-${e.slice(-3)}`;return new Uint8Array(await a.subtle.digest(r,t))},l=new TextEncoder,c=new TextDecoder;function u(...e){let t=e.reduce((e,{length:t})=>e+t,0),r=new Uint8Array(t),n=0;return e.forEach(e=>{r.set(e,n),n+=e.length}),r}function d(e,t,r){if(t<0||t>=4294967296)throw RangeError(`value must be >= 0 and <= ${4294967296-1}. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,255&t],r)}function p(e){let t=new Uint8Array(8);return d(t,Math.floor(e/4294967296),0),d(t,e%4294967296,4),t}function h(e){let t=new Uint8Array(4);return d(t,e),t}function f(e){return u(h(e.length),e)}async function m(e,t,r){let n=Math.ceil((t>>3)/32),i=new Uint8Array(32*n);for(let t=0;t<n;t++){let n=new Uint8Array(4+e.length+r.length);n.set(h(t+1)),n.set(e,4),n.set(r,4+e.length),i.set(await s("sha256",n),32*t)}return i.slice(0,t>>3)}let y=e=>{let t=e;"string"==typeof t&&(t=l.encode(t));let r=[];for(let e=0;e<t.length;e+=32768)r.push(String.fromCharCode.apply(null,t.subarray(e,e+32768)));return btoa(r.join(""))},g=e=>y(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),v=e=>{let t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r},b=e=>{let t=e;t instanceof Uint8Array&&(t=c.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return v(t)}catch(e){throw TypeError("The input to be decoded is not correctly encoded.")}};class w extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var t;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,null===(t=Error.captureStackTrace)||void 0===t||t.call(Error,this,this.constructor)}}class E extends w{static get code(){return"ERR_JWT_CLAIM_VALIDATION_FAILED"}constructor(e,t="unspecified",r="unspecified"){super(e),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=t,this.reason=r}}class S extends w{static get code(){return"ERR_JWT_EXPIRED"}constructor(e,t="unspecified",r="unspecified"){super(e),this.code="ERR_JWT_EXPIRED",this.claim=t,this.reason=r}}class A extends w{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}static get code(){return"ERR_JOSE_ALG_NOT_ALLOWED"}}class _ extends w{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}static get code(){return"ERR_JOSE_NOT_SUPPORTED"}}class C extends w{constructor(){super(...arguments),this.code="ERR_JWE_DECRYPTION_FAILED",this.message="decryption operation failed"}static get code(){return"ERR_JWE_DECRYPTION_FAILED"}}class P extends w{constructor(){super(...arguments),this.code="ERR_JWE_DECOMPRESSION_FAILED",this.message="decompression operation failed"}static get code(){return"ERR_JWE_DECOMPRESSION_FAILED"}}class k extends w{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}static get code(){return"ERR_JWE_INVALID"}}class x extends w{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}static get code(){return"ERR_JWS_INVALID"}}class T extends w{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}class O extends w{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}static get code(){return"ERR_JWK_INVALID"}}class R extends w{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}static get code(){return"ERR_JWKS_INVALID"}}class H extends w{constructor(){super(...arguments),this.code="ERR_JWKS_NO_MATCHING_KEY",this.message="no applicable key found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_NO_MATCHING_KEY"}}class I extends w{constructor(){super(...arguments),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS",this.message="multiple matching keys found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}class M extends w{constructor(){super(...arguments),this.code="ERR_JWKS_TIMEOUT",this.message="request timed out"}static get code(){return"ERR_JWKS_TIMEOUT"}}class D extends w{constructor(){super(...arguments),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED",this.message="signature verification failed"}static get code(){return"ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}var j=a.getRandomValues.bind(a);function N(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new _(`Unsupported JWE Algorithm: ${e}`)}}var $=e=>j(new Uint8Array(N(e)>>3)),K=(e,t)=>{if(t.length<<3!==N(e))throw new k("Invalid Initialization Vector length")},U=(e,t)=>{let r=e.byteLength<<3;if(r!==t)throw new k(`Invalid Content Encryption Key length. Expected ${t} bits, got ${r} bits`)},W=(e,t)=>{if(!(e instanceof Uint8Array))throw TypeError("First argument must be a buffer");if(!(t instanceof Uint8Array))throw TypeError("Second argument must be a buffer");if(e.length!==t.length)throw TypeError("Input buffers must have the same length");let r=e.length,n=0,i=-1;for(;++i<r;)n|=e[i]^t[i];return 0===n};function F(e,t="algorithm.name"){return TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function B(e,t){return e.name===t}function L(e){return parseInt(e.name.slice(4),10)}function J(e,t){if(t.length&&!t.some(t=>e.usages.includes(t))){let e="CryptoKey does not support this operation, its usages must include ";if(t.length>2){let r=t.pop();e+=`one of ${t.join(", ")}, or ${r}.`}else 2===t.length?e+=`one of ${t[0]} or ${t[1]}.`:e+=`${t[0]}.`;throw TypeError(e)}}function q(e,t,...r){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if(!B(e.algorithm,"AES-GCM"))throw F("AES-GCM");let r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw F(r,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!B(e.algorithm,"AES-KW"))throw F("AES-KW");let r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw F(r,"algorithm.length");break}case"ECDH":switch(e.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw F("ECDH, X25519, or X448")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!B(e.algorithm,"PBKDF2"))throw F("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!B(e.algorithm,"RSA-OAEP"))throw F("RSA-OAEP");let r=parseInt(t.slice(9),10)||1;if(L(e.algorithm.hash)!==r)throw F(`SHA-${r}`,"algorithm.hash");break}default:throw TypeError("CryptoKey does not support this operation")}J(e,r)}function z(e,t,...r){if(r.length>2){let t=r.pop();e+=`one of type ${r.join(", ")}, or ${t}.`}else 2===r.length?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return null==t?e+=` Received ${t}`:"function"==typeof t&&t.name?e+=` Received function ${t.name}`:"object"==typeof t&&null!=t&&t.constructor&&t.constructor.name&&(e+=` Received an instance of ${t.constructor.name}`),e}var V=(e,...t)=>z("Key must be ",e,...t);function G(e,t,...r){return z(`Key for the ${e} algorithm must be `,t,...r)}var X=e=>o(e);let Z=["CryptoKey"];async function Y(e,t,r,n,i,o){let s,l;if(!(t instanceof Uint8Array))throw TypeError(V(t,"Uint8Array"));let c=parseInt(e.slice(1,4),10),d=await a.subtle.importKey("raw",t.subarray(c>>3),"AES-CBC",!1,["decrypt"]),h=await a.subtle.importKey("raw",t.subarray(0,c>>3),{hash:`SHA-${c<<1}`,name:"HMAC"},!1,["sign"]),f=u(o,n,r,p(o.length<<3)),m=new Uint8Array((await a.subtle.sign("HMAC",h,f)).slice(0,c>>3));try{s=W(i,m)}catch(e){}if(!s)throw new C;try{l=new Uint8Array(await a.subtle.decrypt({iv:n,name:"AES-CBC"},d,r))}catch(e){}if(!l)throw new C;return l}async function Q(e,t,r,n,i,o){let s;t instanceof Uint8Array?s=await a.subtle.importKey("raw",t,"AES-GCM",!1,["decrypt"]):(q(t,e,"decrypt"),s=t);try{return new Uint8Array(await a.subtle.decrypt({additionalData:o,iv:n,name:"AES-GCM",tagLength:128},s,u(r,i)))}catch(e){throw new C}}let ee=async(e,t,r,n,i,a)=>{if(!o(t)&&!(t instanceof Uint8Array))throw TypeError(V(t,...Z,"Uint8Array"));switch(K(e,n),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return t instanceof Uint8Array&&U(t,parseInt(e.slice(-3),10)),Y(e,t,r,n,i,a);case"A128GCM":case"A192GCM":case"A256GCM":return t instanceof Uint8Array&&U(t,parseInt(e.slice(1,4),10)),Q(e,t,r,n,i,a);default:throw new _("Unsupported JWE Content Encryption Algorithm")}},et=async()=>{throw new _('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `inflateRaw` decrypt option to provide Inflate Raw implementation.')},er=async()=>{throw new _('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `deflateRaw` encrypt option to provide Deflate Raw implementation.')};var en=(...e)=>{let t;let r=e.filter(Boolean);if(0===r.length||1===r.length)return!0;for(let e of r){let r=Object.keys(e);if(!t||0===t.size){t=new Set(r);continue}for(let e of r){if(t.has(e))return!1;t.add(e)}}return!0};function ei(e){if(!("object"==typeof e&&null!==e)||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}var ea=[{hash:"SHA-256",name:"HMAC"},!0,["sign"]];function eo(e,t){if(e.algorithm.length!==parseInt(t.slice(1,4),10))throw TypeError(`Invalid key size for alg: ${t}`)}function es(e,t,r){if(o(e))return q(e,t,r),e;if(e instanceof Uint8Array)return a.subtle.importKey("raw",e,"AES-KW",!0,[r]);throw TypeError(V(e,...Z,"Uint8Array"))}let el=async(e,t,r)=>{let n=await es(t,e,"wrapKey");eo(n,e);let i=await a.subtle.importKey("raw",r,...ea);return new Uint8Array(await a.subtle.wrapKey("raw",i,n,"AES-KW"))},ec=async(e,t,r)=>{let n=await es(t,e,"unwrapKey");eo(n,e);let i=await a.subtle.unwrapKey("raw",r,n,"AES-KW",...ea);return new Uint8Array(await a.subtle.exportKey("raw",i))};async function eu(e,t,r,n,i=new Uint8Array(0),s=new Uint8Array(0)){let c;if(!o(e))throw TypeError(V(e,...Z));if(q(e,"ECDH"),!o(t))throw TypeError(V(t,...Z));q(t,"ECDH","deriveBits");let d=u(f(l.encode(r)),f(i),f(s),h(n));return c="X25519"===e.algorithm.name?256:"X448"===e.algorithm.name?448:Math.ceil(parseInt(e.algorithm.namedCurve.substr(-3),10)/8)<<3,m(new Uint8Array(await a.subtle.deriveBits({name:e.algorithm.name,public:e},t,c)),n,d)}async function ed(e){if(!o(e))throw TypeError(V(e,...Z));return a.subtle.generateKey(e.algorithm,!0,["deriveBits"])}function ep(e){if(!o(e))throw TypeError(V(e,...Z));return["P-256","P-384","P-521"].includes(e.algorithm.namedCurve)||"X25519"===e.algorithm.name||"X448"===e.algorithm.name}async function eh(e,t,r,n){!function(e){if(!(e instanceof Uint8Array)||e.length<8)throw new k("PBES2 Salt Input must be 8 or more octets")}(e);let i=u(l.encode(t),new Uint8Array([0]),e),s=parseInt(t.slice(13,16),10),c={hash:`SHA-${t.slice(8,11)}`,iterations:r,name:"PBKDF2",salt:i},d=await function(e,t){if(e instanceof Uint8Array)return a.subtle.importKey("raw",e,"PBKDF2",!1,["deriveBits"]);if(o(e))return q(e,t,"deriveBits","deriveKey"),e;throw TypeError(V(e,...Z,"Uint8Array"))}(n,t);if(d.usages.includes("deriveBits"))return new Uint8Array(await a.subtle.deriveBits(c,d,s));if(d.usages.includes("deriveKey"))return a.subtle.deriveKey(c,d,{length:s,name:"AES-KW"},!1,["wrapKey","unwrapKey"]);throw TypeError('PBKDF2 key "usages" must include "deriveBits" or "deriveKey"')}let ef=async(e,t,r,n=2048,i=j(new Uint8Array(16)))=>{let a=await eh(i,e,n,t);return{encryptedKey:await el(e.slice(-6),a,r),p2c:n,p2s:g(i)}},em=async(e,t,r,n,i)=>{let a=await eh(i,e,n,t);return ec(e.slice(-6),a,r)};function ey(e){switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new _(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}var eg=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){let{modulusLength:r}=t.algorithm;if("number"!=typeof r||r<2048)throw TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}};let ev=async(e,t,r)=>{if(!o(t))throw TypeError(V(t,...Z));if(q(t,e,"encrypt","wrapKey"),eg(e,t),t.usages.includes("encrypt"))return new Uint8Array(await a.subtle.encrypt(ey(e),t,r));if(t.usages.includes("wrapKey")){let n=await a.subtle.importKey("raw",r,...ea);return new Uint8Array(await a.subtle.wrapKey("raw",n,t,ey(e)))}throw TypeError('RSA-OAEP key "usages" must include "encrypt" or "wrapKey" for this operation')},eb=async(e,t,r)=>{if(!o(t))throw TypeError(V(t,...Z));if(q(t,e,"decrypt","unwrapKey"),eg(e,t),t.usages.includes("decrypt"))return new Uint8Array(await a.subtle.decrypt(ey(e),t,r));if(t.usages.includes("unwrapKey")){let n=await a.subtle.unwrapKey("raw",r,t,ey(e),...ea);return new Uint8Array(await a.subtle.exportKey("raw",n))}throw TypeError('RSA-OAEP key "usages" must include "decrypt" or "unwrapKey" for this operation')};function ew(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new _(`Unsupported JWE Algorithm: ${e}`)}}var eE=e=>j(new Uint8Array(ew(e)>>3)),eS=(e,t)=>{let r=(e.match(/.{1,64}/g)||[]).join("\n");return`-----BEGIN ${t}-----
${r}
-----END ${t}-----`};let eA=async(e,t,r)=>{if(!o(r))throw TypeError(V(r,...Z));if(!r.extractable)throw TypeError("CryptoKey is not extractable");if(r.type!==e)throw TypeError(`key is not a ${e} key`);return eS(y(new Uint8Array(await a.subtle.exportKey(t,r))),`${e.toUpperCase()} KEY`)},e_=e=>eA("public","spki",e),eC=e=>eA("private","pkcs8",e),eP=(e,t,r=0)=>{0===r&&(t.unshift(t.length),t.unshift(6));let n=e.indexOf(t[0],r);if(-1===n)return!1;let i=e.subarray(n,n+t.length);return i.length===t.length&&(i.every((e,r)=>e===t[r])||eP(e,t,n+1))},ek=e=>{switch(!0){case eP(e,[42,134,72,206,61,3,1,7]):return"P-256";case eP(e,[43,129,4,0,34]):return"P-384";case eP(e,[43,129,4,0,35]):return"P-521";case eP(e,[43,101,110]):return"X25519";case eP(e,[43,101,111]):return"X448";case eP(e,[43,101,112]):return"Ed25519";case eP(e,[43,101,113]):return"Ed448";default:throw new _("Invalid or unsupported EC Key Curve or OKP Key Sub Type")}},ex=async(e,t,r,n,i)=>{var o;let s,l;let c=new Uint8Array(atob(r.replace(e,"")).split("").map(e=>e.charCodeAt(0))),u="spki"===t;switch(n){case"PS256":case"PS384":case"PS512":s={name:"RSA-PSS",hash:`SHA-${n.slice(-3)}`},l=u?["verify"]:["sign"];break;case"RS256":case"RS384":case"RS512":s={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${n.slice(-3)}`},l=u?["verify"]:["sign"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":s={name:"RSA-OAEP",hash:`SHA-${parseInt(n.slice(-3),10)||1}`},l=u?["encrypt","wrapKey"]:["decrypt","unwrapKey"];break;case"ES256":s={name:"ECDSA",namedCurve:"P-256"},l=u?["verify"]:["sign"];break;case"ES384":s={name:"ECDSA",namedCurve:"P-384"},l=u?["verify"]:["sign"];break;case"ES512":s={name:"ECDSA",namedCurve:"P-521"},l=u?["verify"]:["sign"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let e=ek(c);s=e.startsWith("P-")?{name:"ECDH",namedCurve:e}:{name:e},l=u?[]:["deriveBits"];break}case"EdDSA":s={name:ek(c)},l=u?["verify"]:["sign"];break;default:throw new _('Invalid or unsupported "alg" (Algorithm) value')}return a.subtle.importKey(t,c,s,null!==(o=null==i?void 0:i.extractable)&&void 0!==o&&o,l)},eT=(e,t,r)=>ex(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,"pkcs8",e,t,r),eO=(e,t,r)=>ex(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g,"spki",e,t,r);function eR(e){let t=[],r=0;for(;r<e.length;){let n=eH(e.subarray(r));t.push(n),r+=n.byteLength}return t}function eH(e){let t=0,r=31&e[0];if(t++,31===r){for(r=0;e[t]>=128;)r=128*r+e[t]-128,t++;r=128*r+e[t]-128,t++}let n=0;if(e[t]<128)n=e[t],t++;else if(128===n){for(n=0;0!==e[t+n]||0!==e[t+n+1];){if(n>e.byteLength)throw TypeError("invalid indefinite form length");n++}let r=t+n+2;return{byteLength:r,contents:e.subarray(t,t+n),raw:e.subarray(0,r)}}else{let r=127&e[t];t++,n=0;for(let i=0;i<r;i++)n=256*n+e[t],t++}let i=t+n;return{byteLength:i,contents:e.subarray(t,i),raw:e.subarray(0,i)}}let eI=(e,t,r)=>{let n;try{n=eS(function(e){let t=eR(eR(eH(e).contents)[0].contents);return y(t[160===t[0].raw[0]?6:5].raw)}(v(e.replace(/(?:-----(?:BEGIN|END) CERTIFICATE-----|\s)/g,""))),"PUBLIC KEY")}catch(e){throw TypeError("Failed to parse the X.509 certificate",{cause:e})}return eO(n,t,r)},eM=async e=>{var t,r;if(!e.alg)throw TypeError('"alg" argument is required when "jwk.alg" is not present');let{algorithm:n,keyUsages:i}=function(e){let t,r;switch(e.kty){case"oct":switch(e.alg){case"HS256":case"HS384":case"HS512":t={name:"HMAC",hash:`SHA-${e.alg.slice(-3)}`},r=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":throw new _(`${e.alg} keys cannot be imported as CryptoKey instances`);case"A128GCM":case"A192GCM":case"A256GCM":case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":t={name:"AES-GCM"},r=["encrypt","decrypt"];break;case"A128KW":case"A192KW":case"A256KW":t={name:"AES-KW"},r=["wrapKey","unwrapKey"];break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":t={name:"PBKDF2"},r=["deriveBits"];break;default:throw new _('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"RSA":switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},r=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new _('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},r=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},r=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new _('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":switch(e.alg){case"EdDSA":t={name:e.crv},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new _('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new _('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:r}}(e),o=[n,null!==(t=e.ext)&&void 0!==t&&t,null!==(r=e.key_ops)&&void 0!==r?r:i];if("PBKDF2"===n.name)return a.subtle.importKey("raw",b(e.k),...o);let s={...e};return delete s.alg,delete s.use,a.subtle.importKey("jwk",s,...o)};async function eD(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN PUBLIC KEY-----"))throw TypeError('"spki" must be SPKI formatted string');return eO(e,t,r)}async function ej(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN CERTIFICATE-----"))throw TypeError('"x509" must be X.509 formatted string');return eI(e,t,r)}async function eN(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN PRIVATE KEY-----"))throw TypeError('"pkcs8" must be PKCS#8 formatted string');return eT(e,t,r)}async function e$(e,t,r){var n;if(!ei(e))throw TypeError("JWK must be an object");switch(t||(t=e.alg),e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw TypeError('missing "k" (Key Value) Parameter value');if(null!=r||(r=!0!==e.ext),r)return eM({...e,alg:t,ext:null!==(n=e.ext)&&void 0!==n&&n});return b(e.k);case"RSA":if(void 0!==e.oth)throw new _('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return eM({...e,alg:t});default:throw new _('Unsupported "kty" (Key Type) Parameter value')}}let eK=(e,t)=>{if(!(t instanceof Uint8Array)){if(!X(t))throw TypeError(G(e,t,...Z,"Uint8Array"));if("secret"!==t.type)throw TypeError(`${Z.join(" or ")} instances for symmetric algorithms must be of type "secret"`)}},eU=(e,t,r)=>{if(!X(t))throw TypeError(G(e,t,...Z));if("secret"===t.type)throw TypeError(`${Z.join(" or ")} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===r&&"public"===t.type)throw TypeError(`${Z.join(" or ")} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===r&&"public"===t.type)throw TypeError(`${Z.join(" or ")} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&"verify"===r&&"private"===t.type)throw TypeError(`${Z.join(" or ")} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&"encrypt"===r&&"private"===t.type)throw TypeError(`${Z.join(" or ")} instances for asymmetric algorithm encryption must be of type "public"`)};var eW=(e,t,r)=>{e.startsWith("HS")||"dir"===e||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?eK(e,t):eU(e,t,r)};async function eF(e,t,r,n,i){if(!(r instanceof Uint8Array))throw TypeError(V(r,"Uint8Array"));let o=parseInt(e.slice(1,4),10),s=await a.subtle.importKey("raw",r.subarray(o>>3),"AES-CBC",!1,["encrypt"]),l=await a.subtle.importKey("raw",r.subarray(0,o>>3),{hash:`SHA-${o<<1}`,name:"HMAC"},!1,["sign"]),c=new Uint8Array(await a.subtle.encrypt({iv:n,name:"AES-CBC"},s,t)),d=u(i,n,c,p(i.length<<3));return{ciphertext:c,tag:new Uint8Array((await a.subtle.sign("HMAC",l,d)).slice(0,o>>3))}}async function eB(e,t,r,n,i){let o;r instanceof Uint8Array?o=await a.subtle.importKey("raw",r,"AES-GCM",!1,["encrypt"]):(q(r,e,"encrypt"),o=r);let s=new Uint8Array(await a.subtle.encrypt({additionalData:i,iv:n,name:"AES-GCM",tagLength:128},o,t)),l=s.slice(-16);return{ciphertext:s.slice(0,-16),tag:l}}let eL=async(e,t,r,n,i)=>{if(!o(r)&&!(r instanceof Uint8Array))throw TypeError(V(r,...Z,"Uint8Array"));switch(K(e,n),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return r instanceof Uint8Array&&U(r,parseInt(e.slice(-3),10)),eF(e,t,r,n,i);case"A128GCM":case"A192GCM":case"A256GCM":return r instanceof Uint8Array&&U(r,parseInt(e.slice(1,4),10)),eB(e,t,r,n,i);default:throw new _("Unsupported JWE Content Encryption Algorithm")}};async function eJ(e,t,r,n){let i=e.slice(0,7);n||(n=$(i));let{ciphertext:a,tag:o}=await eL(i,r,t,n,new Uint8Array(0));return{encryptedKey:a,iv:g(n),tag:g(o)}}async function eq(e,t,r,n,i){return ee(e.slice(0,7),t,r,n,i,new Uint8Array(0))}async function ez(e,t,r,n,i){switch(eW(e,t,"decrypt"),e){case"dir":if(void 0!==r)throw new k("Encountered unexpected JWE Encrypted Key");return t;case"ECDH-ES":if(void 0!==r)throw new k("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let i,a;if(!ei(n.epk))throw new k('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!ep(t))throw new _("ECDH with the provided key is not allowed or not supported by your javascript runtime");let o=await e$(n.epk,e);if(void 0!==n.apu){if("string"!=typeof n.apu)throw new k('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{i=b(n.apu)}catch(e){throw new k("Failed to base64url decode the apu")}}if(void 0!==n.apv){if("string"!=typeof n.apv)throw new k('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{a=b(n.apv)}catch(e){throw new k("Failed to base64url decode the apv")}}let s=await eu(o,t,"ECDH-ES"===e?n.enc:e,"ECDH-ES"===e?ew(n.enc):parseInt(e.slice(-5,-2),10),i,a);if("ECDH-ES"===e)return s;if(void 0===r)throw new k("JWE Encrypted Key missing");return ec(e.slice(-6),s,r)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===r)throw new k("JWE Encrypted Key missing");return eb(e,t,r);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{let a;if(void 0===r)throw new k("JWE Encrypted Key missing");if("number"!=typeof n.p2c)throw new k('JOSE Header "p2c" (PBES2 Count) missing or invalid');let o=(null==i?void 0:i.maxPBES2Count)||1e4;if(n.p2c>o)throw new k('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if("string"!=typeof n.p2s)throw new k('JOSE Header "p2s" (PBES2 Salt) missing or invalid');try{a=b(n.p2s)}catch(e){throw new k("Failed to base64url decode the p2s")}return em(e,t,r,n.p2c,a)}case"A128KW":case"A192KW":case"A256KW":if(void 0===r)throw new k("JWE Encrypted Key missing");return ec(e,t,r);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{let i,a;if(void 0===r)throw new k("JWE Encrypted Key missing");if("string"!=typeof n.iv)throw new k('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof n.tag)throw new k('JOSE Header "tag" (Authentication Tag) missing or invalid');try{i=b(n.iv)}catch(e){throw new k("Failed to base64url decode the iv")}try{a=b(n.tag)}catch(e){throw new k("Failed to base64url decode the tag")}return eq(e,t,r,i,a)}default:throw new _('Invalid or unsupported "alg" (JWE Algorithm) header value')}}var eV=function(e,t,r,n,i){let a;if(void 0!==i.crit&&void 0===n.crit)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!n||void 0===n.crit)return new Set;if(!Array.isArray(n.crit)||0===n.crit.length||n.crit.some(e=>"string"!=typeof e||0===e.length))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let o of(a=void 0!==r?new Map([...Object.entries(r),...t.entries()]):t,n.crit)){if(!a.has(o))throw new _(`Extension Header Parameter "${o}" is not recognized`);if(void 0===i[o])throw new e(`Extension Header Parameter "${o}" is missing`);if(a.get(o)&&void 0===n[o])throw new e(`Extension Header Parameter "${o}" MUST be integrity protected`)}return new Set(n.crit)},eG=(e,t)=>{if(void 0!==t&&(!Array.isArray(t)||t.some(e=>"string"!=typeof e)))throw TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)};async function eX(e,t,r){var n;let i,a,o,s,d,p,h;if(!ei(e))throw new k("Flattened JWE must be an object");if(void 0===e.protected&&void 0===e.header&&void 0===e.unprotected)throw new k("JOSE Header missing");if("string"!=typeof e.iv)throw new k("JWE Initialization Vector missing or incorrect type");if("string"!=typeof e.ciphertext)throw new k("JWE Ciphertext missing or incorrect type");if("string"!=typeof e.tag)throw new k("JWE Authentication Tag missing or incorrect type");if(void 0!==e.protected&&"string"!=typeof e.protected)throw new k("JWE Protected Header incorrect type");if(void 0!==e.encrypted_key&&"string"!=typeof e.encrypted_key)throw new k("JWE Encrypted Key incorrect type");if(void 0!==e.aad&&"string"!=typeof e.aad)throw new k("JWE AAD incorrect type");if(void 0!==e.header&&!ei(e.header))throw new k("JWE Shared Unprotected Header incorrect type");if(void 0!==e.unprotected&&!ei(e.unprotected))throw new k("JWE Per-Recipient Unprotected Header incorrect type");if(e.protected)try{let t=b(e.protected);i=JSON.parse(c.decode(t))}catch(e){throw new k("JWE Protected Header is invalid")}if(!en(i,e.header,e.unprotected))throw new k("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");let f={...i,...e.header,...e.unprotected};if(eV(k,new Map,null==r?void 0:r.crit,i,f),void 0!==f.zip){if(!i||!i.zip)throw new k('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if("DEF"!==f.zip)throw new _('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}let{alg:m,enc:y}=f;if("string"!=typeof m||!m)throw new k("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof y||!y)throw new k("missing JWE Encryption Algorithm (enc) in JWE Header");let g=r&&eG("keyManagementAlgorithms",r.keyManagementAlgorithms),v=r&&eG("contentEncryptionAlgorithms",r.contentEncryptionAlgorithms);if(g&&!g.has(m))throw new A('"alg" (Algorithm) Header Parameter not allowed');if(v&&!v.has(y))throw new A('"enc" (Encryption Algorithm) Header Parameter not allowed');if(void 0!==e.encrypted_key)try{a=b(e.encrypted_key)}catch(e){throw new k("Failed to base64url decode the encrypted_key")}let w=!1;"function"==typeof t&&(t=await t(i,e),w=!0);try{o=await ez(m,t,a,f,r)}catch(e){if(e instanceof TypeError||e instanceof k||e instanceof _)throw e;o=eE(y)}try{s=b(e.iv)}catch(e){throw new k("Failed to base64url decode the iv")}try{d=b(e.tag)}catch(e){throw new k("Failed to base64url decode the tag")}let E=l.encode(null!==(n=e.protected)&&void 0!==n?n:"");p=void 0!==e.aad?u(E,l.encode("."),l.encode(e.aad)):E;try{h=b(e.ciphertext)}catch(e){throw new k("Failed to base64url decode the ciphertext")}let S=await ee(y,o,h,s,d,p);"DEF"===f.zip&&(S=await ((null==r?void 0:r.inflateRaw)||et)(S));let C={plaintext:S};if(void 0!==e.protected&&(C.protectedHeader=i),void 0!==e.aad)try{C.additionalAuthenticatedData=b(e.aad)}catch(e){throw new k("Failed to base64url decode the aad")}return(void 0!==e.unprotected&&(C.sharedUnprotectedHeader=e.unprotected),void 0!==e.header&&(C.unprotectedHeader=e.header),w)?{...C,key:t}:C}async function eZ(e,t,r){if(e instanceof Uint8Array&&(e=c.decode(e)),"string"!=typeof e)throw new k("Compact JWE must be a string or Uint8Array");let{0:n,1:i,2:a,3:o,4:s,length:l}=e.split(".");if(5!==l)throw new k("Invalid Compact JWE");let u=await eX({ciphertext:o,iv:a||void 0,protected:n||void 0,tag:s||void 0,encrypted_key:i||void 0},t,r),d={plaintext:u.plaintext,protectedHeader:u.protectedHeader};return"function"==typeof t?{...d,key:u.key}:d}async function eY(e,t,r){if(!ei(e))throw new k("General JWE must be an object");if(!Array.isArray(e.recipients)||!e.recipients.every(ei))throw new k("JWE Recipients missing or incorrect type");if(!e.recipients.length)throw new k("JWE Recipients has no members");for(let n of e.recipients)try{return await eX({aad:e.aad,ciphertext:e.ciphertext,encrypted_key:n.encrypted_key,header:n.header,iv:e.iv,protected:e.protected,tag:e.tag,unprotected:e.unprotected},t,r)}catch(e){}throw new C}let eQ=async e=>{if(e instanceof Uint8Array)return{kty:"oct",k:g(e)};if(!o(e))throw TypeError(V(e,...Z,"Uint8Array"));if(!e.extractable)throw TypeError("non-extractable CryptoKey cannot be exported as a JWK");let{ext:t,key_ops:r,alg:n,use:i,...s}=await a.subtle.exportKey("jwk",e);return s};async function e0(e){return e_(e)}async function e1(e){return eC(e)}async function e2(e){return eQ(e)}async function e5(e,t,r,n,i={}){let a,o,s;switch(eW(e,r,"encrypt"),e){case"dir":s=r;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!ep(r))throw new _("ECDH with the provided key is not allowed or not supported by your javascript runtime");let{apu:l,apv:c}=i,{epk:u}=i;u||(u=(await ed(r)).privateKey);let{x:d,y:p,crv:h,kty:f}=await e2(u),m=await eu(r,u,"ECDH-ES"===e?t:e,"ECDH-ES"===e?ew(t):parseInt(e.slice(-5,-2),10),l,c);if(o={epk:{x:d,crv:h,kty:f}},"EC"===f&&(o.epk.y=p),l&&(o.apu=g(l)),c&&(o.apv=g(c)),"ECDH-ES"===e){s=m;break}s=n||eE(t);let y=e.slice(-6);a=await el(y,m,s);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":s=n||eE(t),a=await ev(e,r,s);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{s=n||eE(t);let{p2c:l,p2s:c}=i;({encryptedKey:a,...o}=await ef(e,r,s,l,c));break}case"A128KW":case"A192KW":case"A256KW":s=n||eE(t),a=await el(e,r,s);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{s=n||eE(t);let{iv:l}=i;({encryptedKey:a,...o}=await eJ(e,r,s,l));break}default:throw new _('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:s,encryptedKey:a,parameters:o}}let e6=Symbol();class e4{constructor(e){if(!(e instanceof Uint8Array))throw TypeError("plaintext must be an instance of Uint8Array");this._plaintext=e}setKeyManagementParameters(e){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._sharedUnprotectedHeader)throw TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}setContentEncryptionKey(e){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=e,this}async encrypt(e,t){let r,n,i,a,o,s,d;if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new k("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!en(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new k("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let p={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if(eV(k,new Map,null==t?void 0:t.crit,this._protectedHeader,p),void 0!==p.zip){if(!this._protectedHeader||!this._protectedHeader.zip)throw new k('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if("DEF"!==p.zip)throw new _('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}let{alg:h,enc:f}=p;if("string"!=typeof h||!h)throw new k('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof f||!f)throw new k('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if("dir"===h){if(this._cek)throw TypeError("setContentEncryptionKey cannot be called when using Direct Encryption")}else if("ECDH-ES"===h&&this._cek)throw TypeError("setContentEncryptionKey cannot be called when using Direct Key Agreement");{let i;({cek:n,encryptedKey:r,parameters:i}=await e5(h,f,e,this._cek,this._keyManagementParameters)),i&&(t&&e6 in t?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...i}:this.setUnprotectedHeader(i):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...i}:this.setProtectedHeader(i))}if(this._iv||(this._iv=$(f)),a=this._protectedHeader?l.encode(g(JSON.stringify(this._protectedHeader))):l.encode(""),this._aad?(o=g(this._aad),i=u(a,l.encode("."),l.encode(o))):i=a,"DEF"===p.zip){let e=await ((null==t?void 0:t.deflateRaw)||er)(this._plaintext);({ciphertext:s,tag:d}=await eL(f,e,n,this._iv,i))}else({ciphertext:s,tag:d}=await eL(f,this._plaintext,n,this._iv,i));let m={ciphertext:g(s),iv:g(this._iv),tag:g(d)};return r&&(m.encrypted_key=g(r)),o&&(m.aad=o),this._protectedHeader&&(m.protected=c.decode(a)),this._sharedUnprotectedHeader&&(m.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(m.header=this._unprotectedHeader),m}}class e3{constructor(e,t,r){this.parent=e,this.key=t,this.options=r}setUnprotectedHeader(e){if(this.unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=e,this}addRecipient(...e){return this.parent.addRecipient(...e)}encrypt(...e){return this.parent.encrypt(...e)}done(){return this.parent}}class e7{constructor(e){this._recipients=[],this._plaintext=e}addRecipient(e,t){let r=new e3(this,e,{crit:null==t?void 0:t.crit});return this._recipients.push(r),r}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setSharedUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}async encrypt(e){var t,r,n;let i;if(!this._recipients.length)throw new k("at least one recipient must be added");if(e={deflateRaw:null==e?void 0:e.deflateRaw},1===this._recipients.length){let[t]=this._recipients,r=await new e4(this._plaintext).setAdditionalAuthenticatedData(this._aad).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(t.unprotectedHeader).encrypt(t.key,{...t.options,...e}),n={ciphertext:r.ciphertext,iv:r.iv,recipients:[{}],tag:r.tag};return r.aad&&(n.aad=r.aad),r.protected&&(n.protected=r.protected),r.unprotected&&(n.unprotected=r.unprotected),r.encrypted_key&&(n.recipients[0].encrypted_key=r.encrypted_key),r.header&&(n.recipients[0].header=r.header),n}for(let e=0;e<this._recipients.length;e++){let t=this._recipients[e];if(!en(this._protectedHeader,this._unprotectedHeader,t.unprotectedHeader))throw new k("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let r={...this._protectedHeader,...this._unprotectedHeader,...t.unprotectedHeader},{alg:n}=r;if("string"!=typeof n||!n)throw new k('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("dir"===n||"ECDH-ES"===n)throw new k('"dir" and "ECDH-ES" alg may only be used with a single recipient');if("string"!=typeof r.enc||!r.enc)throw new k('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(i){if(i!==r.enc)throw new k('JWE "enc" (Encryption Algorithm) Header Parameter must be the same for all recipients')}else i=r.enc;if(eV(k,new Map,t.options.crit,this._protectedHeader,r),void 0!==r.zip&&(!this._protectedHeader||!this._protectedHeader.zip))throw new k('JWE "zip" (Compression Algorithm) Header MUST be integrity protected')}let a=eE(i),o={ciphertext:"",iv:"",recipients:[],tag:""};for(let s=0;s<this._recipients.length;s++){let l=this._recipients[s],c={};o.recipients.push(c);let u=({...this._protectedHeader,...this._unprotectedHeader,...l.unprotectedHeader}).alg.startsWith("PBES2")?2048+s:void 0;if(0===s){let t=await new e4(this._plaintext).setAdditionalAuthenticatedData(this._aad).setContentEncryptionKey(a).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(l.unprotectedHeader).setKeyManagementParameters({p2c:u}).encrypt(l.key,{...l.options,...e,[e6]:!0});o.ciphertext=t.ciphertext,o.iv=t.iv,o.tag=t.tag,t.aad&&(o.aad=t.aad),t.protected&&(o.protected=t.protected),t.unprotected&&(o.unprotected=t.unprotected),c.encrypted_key=t.encrypted_key,t.header&&(c.header=t.header);continue}let{encryptedKey:d,parameters:p}=await e5((null===(t=l.unprotectedHeader)||void 0===t?void 0:t.alg)||(null===(r=this._protectedHeader)||void 0===r?void 0:r.alg)||(null===(n=this._unprotectedHeader)||void 0===n?void 0:n.alg),i,l.key,a,{p2c:u});c.encrypted_key=g(d),(l.unprotectedHeader||p)&&(c.header={...l.unprotectedHeader,...p})}return o}}function e8(e,t){let r=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:r,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:r,name:"RSA-PSS",saltLength:e.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:r,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:r,name:"ECDSA",namedCurve:t.namedCurve};case"EdDSA":return{name:t.name};default:throw new _(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}function e9(e,t,r){if(o(t))return!function(e,t,...r){switch(t){case"HS256":case"HS384":case"HS512":{if(!B(e.algorithm,"HMAC"))throw F("HMAC");let r=parseInt(t.slice(2),10);if(L(e.algorithm.hash)!==r)throw F(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!B(e.algorithm,"RSASSA-PKCS1-v1_5"))throw F("RSASSA-PKCS1-v1_5");let r=parseInt(t.slice(2),10);if(L(e.algorithm.hash)!==r)throw F(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!B(e.algorithm,"RSA-PSS"))throw F("RSA-PSS");let r=parseInt(t.slice(2),10);if(L(e.algorithm.hash)!==r)throw F(`SHA-${r}`,"algorithm.hash");break}case"EdDSA":if("Ed25519"!==e.algorithm.name&&"Ed448"!==e.algorithm.name)throw F("Ed25519 or Ed448");break;case"ES256":case"ES384":case"ES512":{if(!B(e.algorithm,"ECDSA"))throw F("ECDSA");let r=function(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw Error("unreachable")}}(t);if(e.algorithm.namedCurve!==r)throw F(r,"algorithm.namedCurve");break}default:throw TypeError("CryptoKey does not support this operation")}J(e,r)}(t,e,r),t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw TypeError(V(t,...Z));return a.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[r])}throw TypeError(V(t,...Z,"Uint8Array"))}let te=async(e,t,r,n)=>{let i=await e9(e,t,"verify");eg(e,i);let o=e8(e,i.algorithm);try{return await a.subtle.verify(o,i,r,n)}catch(e){return!1}};async function tt(e,t,r){var n;let i,a;if(!ei(e))throw new x("Flattened JWS must be an object");if(void 0===e.protected&&void 0===e.header)throw new x('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==e.protected&&"string"!=typeof e.protected)throw new x("JWS Protected Header incorrect type");if(void 0===e.payload)throw new x("JWS Payload missing");if("string"!=typeof e.signature)throw new x("JWS Signature missing or incorrect type");if(void 0!==e.header&&!ei(e.header))throw new x("JWS Unprotected Header incorrect type");let o={};if(e.protected)try{let t=b(e.protected);o=JSON.parse(c.decode(t))}catch(e){throw new x("JWS Protected Header is invalid")}if(!en(o,e.header))throw new x("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let s={...o,...e.header},d=eV(x,new Map([["b64",!0]]),null==r?void 0:r.crit,o,s),p=!0;if(d.has("b64")&&"boolean"!=typeof(p=o.b64))throw new x('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:h}=s;if("string"!=typeof h||!h)throw new x('JWS "alg" (Algorithm) Header Parameter missing or invalid');let f=r&&eG("algorithms",r.algorithms);if(f&&!f.has(h))throw new A('"alg" (Algorithm) Header Parameter not allowed');if(p){if("string"!=typeof e.payload)throw new x("JWS Payload must be a string")}else if("string"!=typeof e.payload&&!(e.payload instanceof Uint8Array))throw new x("JWS Payload must be a string or an Uint8Array instance");let m=!1;"function"==typeof t&&(t=await t(o,e),m=!0),eW(h,t,"verify");let y=u(l.encode(null!==(n=e.protected)&&void 0!==n?n:""),l.encode("."),"string"==typeof e.payload?l.encode(e.payload):e.payload);try{i=b(e.signature)}catch(e){throw new x("Failed to base64url decode the signature")}if(!await te(h,t,i,y))throw new D;if(p)try{a=b(e.payload)}catch(e){throw new x("Failed to base64url decode the payload")}else a="string"==typeof e.payload?l.encode(e.payload):e.payload;let g={payload:a};return(void 0!==e.protected&&(g.protectedHeader=o),void 0!==e.header&&(g.unprotectedHeader=e.header),m)?{...g,key:t}:g}async function tr(e,t,r){if(e instanceof Uint8Array&&(e=c.decode(e)),"string"!=typeof e)throw new x("Compact JWS must be a string or Uint8Array");let{0:n,1:i,2:a,length:o}=e.split(".");if(3!==o)throw new x("Invalid Compact JWS");let s=await tt({payload:i,protected:n,signature:a},t,r),l={payload:s.payload,protectedHeader:s.protectedHeader};return"function"==typeof t?{...l,key:s.key}:l}async function tn(e,t,r){if(!ei(e))throw new x("General JWS must be an object");if(!Array.isArray(e.signatures)||!e.signatures.every(ei))throw new x("JWS Signatures missing or incorrect type");for(let n of e.signatures)try{return await tt({header:n.header,payload:e.payload,protected:n.protected,signature:n.signature},t,r)}catch(e){}throw new D}var ti=e=>Math.floor(e.getTime()/1e3);let ta=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i;var to=e=>{let t=ta.exec(e);if(!t)throw TypeError("Invalid time period format");let r=parseFloat(t[1]);switch(t[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(r);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(60*r);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(3600*r);case"day":case"days":case"d":return Math.round(86400*r);case"week":case"weeks":case"w":return Math.round(604800*r);default:return Math.round(31557600*r)}};let ts=e=>e.toLowerCase().replace(/^application\//,""),tl=(e,t)=>"string"==typeof e?t.includes(e):!!Array.isArray(e)&&t.some(Set.prototype.has.bind(new Set(e)));var tc=(e,t,r={})=>{let n,i;let{typ:a}=r;if(a&&("string"!=typeof e.typ||ts(e.typ)!==ts(a)))throw new E('unexpected "typ" JWT header value',"typ","check_failed");try{n=JSON.parse(c.decode(t))}catch(e){}if(!ei(n))throw new T("JWT Claims Set must be a top-level JSON object");let{requiredClaims:o=[],issuer:s,subject:l,audience:u,maxTokenAge:d}=r;for(let e of(void 0!==d&&o.push("iat"),void 0!==u&&o.push("aud"),void 0!==l&&o.push("sub"),void 0!==s&&o.push("iss"),new Set(o.reverse())))if(!(e in n))throw new E(`missing required "${e}" claim`,e,"missing");if(s&&!(Array.isArray(s)?s:[s]).includes(n.iss))throw new E('unexpected "iss" claim value',"iss","check_failed");if(l&&n.sub!==l)throw new E('unexpected "sub" claim value',"sub","check_failed");if(u&&!tl(n.aud,"string"==typeof u?[u]:u))throw new E('unexpected "aud" claim value',"aud","check_failed");switch(typeof r.clockTolerance){case"string":i=to(r.clockTolerance);break;case"number":i=r.clockTolerance;break;case"undefined":i=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:p}=r,h=ti(p||new Date);if((void 0!==n.iat||d)&&"number"!=typeof n.iat)throw new E('"iat" claim must be a number',"iat","invalid");if(void 0!==n.nbf){if("number"!=typeof n.nbf)throw new E('"nbf" claim must be a number',"nbf","invalid");if(n.nbf>h+i)throw new E('"nbf" claim timestamp check failed',"nbf","check_failed")}if(void 0!==n.exp){if("number"!=typeof n.exp)throw new E('"exp" claim must be a number',"exp","invalid");if(n.exp<=h-i)throw new S('"exp" claim timestamp check failed',"exp","check_failed")}if(d){let e=h-n.iat;if(e-i>("number"==typeof d?d:to(d)))throw new S('"iat" claim timestamp check failed (too far in the past)',"iat","check_failed");if(e<0-i)throw new E('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}return n};async function tu(e,t,r){var n;let i=await tr(e,t,r);if((null===(n=i.protectedHeader.crit)||void 0===n?void 0:n.includes("b64"))&&!1===i.protectedHeader.b64)throw new T("JWTs MUST NOT use unencoded payload");let a={payload:tc(i.protectedHeader,i.payload,r),protectedHeader:i.protectedHeader};return"function"==typeof t?{...a,key:i.key}:a}async function td(e,t,r){let n=await eZ(e,t,r),i=tc(n.protectedHeader,n.plaintext,r),{protectedHeader:a}=n;if(void 0!==a.iss&&a.iss!==i.iss)throw new E('replicated "iss" claim header parameter mismatch',"iss","mismatch");if(void 0!==a.sub&&a.sub!==i.sub)throw new E('replicated "sub" claim header parameter mismatch',"sub","mismatch");if(void 0!==a.aud&&JSON.stringify(a.aud)!==JSON.stringify(i.aud))throw new E('replicated "aud" claim header parameter mismatch',"aud","mismatch");let o={payload:i,protectedHeader:a};return"function"==typeof t?{...o,key:n.key}:o}class tp{constructor(e){this._flattened=new e4(e)}setContentEncryptionKey(e){return this._flattened.setContentEncryptionKey(e),this}setInitializationVector(e){return this._flattened.setInitializationVector(e),this}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}setKeyManagementParameters(e){return this._flattened.setKeyManagementParameters(e),this}async encrypt(e,t){let r=await this._flattened.encrypt(e,t);return[r.protected,r.encrypted_key,r.iv,r.ciphertext,r.tag].join(".")}}let th=async(e,t,r)=>{let n=await e9(e,t,"sign");eg(e,n);let i=await a.subtle.sign(e8(e,n.algorithm),n,r);return new Uint8Array(i)};class tf{constructor(e){if(!(e instanceof Uint8Array))throw TypeError("payload must be an instance of Uint8Array");this._payload=e}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}async sign(e,t){let r;if(!this._protectedHeader&&!this._unprotectedHeader)throw new x("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!en(this._protectedHeader,this._unprotectedHeader))throw new x("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let n={...this._protectedHeader,...this._unprotectedHeader},i=eV(x,new Map([["b64",!0]]),null==t?void 0:t.crit,this._protectedHeader,n),a=!0;if(i.has("b64")&&"boolean"!=typeof(a=this._protectedHeader.b64))throw new x('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:o}=n;if("string"!=typeof o||!o)throw new x('JWS "alg" (Algorithm) Header Parameter missing or invalid');eW(o,e,"sign");let s=this._payload;a&&(s=l.encode(g(s)));let d=u(r=this._protectedHeader?l.encode(g(JSON.stringify(this._protectedHeader))):l.encode(""),l.encode("."),s),p={signature:g(await th(o,e,d)),payload:""};return a&&(p.payload=c.decode(s)),this._unprotectedHeader&&(p.header=this._unprotectedHeader),this._protectedHeader&&(p.protected=c.decode(r)),p}}class tm{constructor(e){this._flattened=new tf(e)}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}async sign(e,t){let r=await this._flattened.sign(e,t);if(void 0===r.payload)throw TypeError("use the flattened module for creating JWS with b64: false");return`${r.protected}.${r.payload}.${r.signature}`}}class ty{constructor(e,t,r){this.parent=e,this.key=t,this.options=r}setProtectedHeader(e){if(this.protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this.protectedHeader=e,this}setUnprotectedHeader(e){if(this.unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=e,this}addSignature(...e){return this.parent.addSignature(...e)}sign(...e){return this.parent.sign(...e)}done(){return this.parent}}class tg{constructor(e){this._signatures=[],this._payload=e}addSignature(e,t){let r=new ty(this,e,t);return this._signatures.push(r),r}async sign(){if(!this._signatures.length)throw new x("at least one signature must be added");let e={signatures:[],payload:""};for(let t=0;t<this._signatures.length;t++){let r=this._signatures[t],n=new tf(this._payload);n.setProtectedHeader(r.protectedHeader),n.setUnprotectedHeader(r.unprotectedHeader);let{payload:i,...a}=await n.sign(r.key,r.options);if(0===t)e.payload=i;else if(e.payload!==i)throw new x("inconsistent use of JWS Unencoded Payload (RFC7797)");e.signatures.push(a)}return e}}class tv{constructor(e){if(!ei(e))throw TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return"number"==typeof e?this._payload={...this._payload,nbf:e}:this._payload={...this._payload,nbf:ti(new Date)+to(e)},this}setExpirationTime(e){return"number"==typeof e?this._payload={...this._payload,exp:e}:this._payload={...this._payload,exp:ti(new Date)+to(e)},this}setIssuedAt(e){return void 0===e?this._payload={...this._payload,iat:ti(new Date)}:this._payload={...this._payload,iat:e},this}}class tb extends tv{setProtectedHeader(e){return this._protectedHeader=e,this}async sign(e,t){var r;let n=new tm(l.encode(JSON.stringify(this._payload)));if(n.setProtectedHeader(this._protectedHeader),Array.isArray(null===(r=this._protectedHeader)||void 0===r?void 0:r.crit)&&this._protectedHeader.crit.includes("b64")&&!1===this._protectedHeader.b64)throw new T("JWTs MUST NOT use unencoded payload");return n.sign(e,t)}}class tw extends tv{setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setKeyManagementParameters(e){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setContentEncryptionKey(e){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=e,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(e,t){let r=new tp(l.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),r.setProtectedHeader(this._protectedHeader),this._iv&&r.setInitializationVector(this._iv),this._cek&&r.setContentEncryptionKey(this._cek),this._keyManagementParameters&&r.setKeyManagementParameters(this._keyManagementParameters),r.encrypt(e,t)}}let tE=(e,t)=>{if("string"!=typeof e||!e)throw new O(`${t} missing or invalid`)};async function tS(e,t){let r;if(!ei(e))throw TypeError("JWK must be an object");if(null!=t||(t="sha256"),"sha256"!==t&&"sha384"!==t&&"sha512"!==t)throw TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');switch(e.kty){case"EC":tE(e.crv,'"crv" (Curve) Parameter'),tE(e.x,'"x" (X Coordinate) Parameter'),tE(e.y,'"y" (Y Coordinate) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x,y:e.y};break;case"OKP":tE(e.crv,'"crv" (Subtype of Key Pair) Parameter'),tE(e.x,'"x" (Public Key) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x};break;case"RSA":tE(e.e,'"e" (Exponent) Parameter'),tE(e.n,'"n" (Modulus) Parameter'),r={e:e.e,kty:e.kty,n:e.n};break;case"oct":tE(e.k,'"k" (Key Value) Parameter'),r={k:e.k,kty:e.kty};break;default:throw new _('"kty" (Key Type) Parameter missing or unsupported')}let n=l.encode(JSON.stringify(r));return g(await s(t,n))}async function tA(e,t){null!=t||(t="sha256");let r=await tS(e,t);return`urn:ietf:params:oauth:jwk-thumbprint:sha-${t.slice(-3)}:${r}`}async function t_(e,t){let r={...e,...null==t?void 0:t.header};if(!ei(r.jwk))throw new x('"jwk" (JSON Web Key) Header Parameter must be a JSON object');let n=await e$({...r.jwk,ext:!0},r.alg,!0);if(n instanceof Uint8Array||"public"!==n.type)throw new x('"jwk" (JSON Web Key) Header Parameter must be a public key');return n}function tC(e){return e&&"object"==typeof e&&Array.isArray(e.keys)&&e.keys.every(tP)}function tP(e){return ei(e)}class tk{constructor(e){if(this._cached=new WeakMap,!tC(e))throw new R("JSON Web Key Set malformed");this._jwks="function"==typeof structuredClone?structuredClone(e):JSON.parse(JSON.stringify(e))}async getKey(e,t){let{alg:r,kid:n}={...e,...null==t?void 0:t.header},i=function(e){switch("string"==typeof e&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new _('Unsupported "alg" value for a JSON Web Key Set')}}(r),a=this._jwks.keys.filter(e=>{let t=i===e.kty;if(t&&"string"==typeof n&&(t=n===e.kid),t&&"string"==typeof e.alg&&(t=r===e.alg),t&&"string"==typeof e.use&&(t="sig"===e.use),t&&Array.isArray(e.key_ops)&&(t=e.key_ops.includes("verify")),t&&"EdDSA"===r&&(t="Ed25519"===e.crv||"Ed448"===e.crv),t)switch(r){case"ES256":t="P-256"===e.crv;break;case"ES256K":t="secp256k1"===e.crv;break;case"ES384":t="P-384"===e.crv;break;case"ES512":t="P-521"===e.crv}return t}),{0:o,length:s}=a;if(0===s)throw new H;if(1!==s){let e=new I,{_cached:t}=this;throw e[Symbol.asyncIterator]=async function*(){for(let e of a)try{yield await tx(t,e,r)}catch(e){continue}},e}return tx(this._cached,o,r)}}async function tx(e,t,r){let n=e.get(t)||e.set(t,{}).get(t);if(void 0===n[r]){let e=await e$({...t,ext:!0},r);if(e instanceof Uint8Array||"public"!==e.type)throw new R("JSON Web Key Set members must be public keys");n[r]=e}return n[r]}function tT(e){let t=new tk(e);return async function(e,r){return t.getKey(e,r)}}let tO=async(e,t,r)=>{let n,i;let a=!1;"function"==typeof AbortController&&(n=new AbortController,i=setTimeout(()=>{a=!0,n.abort()},t));let o=await fetch(e.href,{signal:n?n.signal:void 0,redirect:"manual",headers:r.headers}).catch(e=>{if(a)throw new M;throw e});if(void 0!==i&&clearTimeout(i),200!==o.status)throw new w("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await o.json()}catch(e){throw new w("Failed to parse the JSON Web Key Set HTTP response as JSON")}};class tR extends tk{constructor(e,t){if(super({keys:[]}),this._jwks=void 0,!(e instanceof URL))throw TypeError("url must be an instance of URL");this._url=new URL(e.href),this._options={agent:null==t?void 0:t.agent,headers:null==t?void 0:t.headers},this._timeoutDuration="number"==typeof(null==t?void 0:t.timeoutDuration)?null==t?void 0:t.timeoutDuration:5e3,this._cooldownDuration="number"==typeof(null==t?void 0:t.cooldownDuration)?null==t?void 0:t.cooldownDuration:3e4,this._cacheMaxAge="number"==typeof(null==t?void 0:t.cacheMaxAge)?null==t?void 0:t.cacheMaxAge:6e5}coolingDown(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cooldownDuration}fresh(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cacheMaxAge}async getKey(e,t){this._jwks&&this.fresh()||await this.reload();try{return await super.getKey(e,t)}catch(r){if(r instanceof H&&!1===this.coolingDown())return await this.reload(),super.getKey(e,t);throw r}}async reload(){this._pendingFetch&&("undefined"!=typeof WebSocketPair||"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||"undefined"!=typeof EdgeRuntime&&"vercel"===EdgeRuntime)&&(this._pendingFetch=void 0),this._pendingFetch||(this._pendingFetch=tO(this._url,this._timeoutDuration,this._options).then(e=>{if(!tC(e))throw new R("JSON Web Key Set malformed");this._jwks={keys:e.keys},this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(e=>{throw this._pendingFetch=void 0,e})),await this._pendingFetch}}function tH(e,t){let r=new tR(e,t);return async function(e,t){return r.getKey(e,t)}}class tI extends tv{encode(){let e=g(JSON.stringify({alg:"none"})),t=g(JSON.stringify(this._payload));return`${e}.${t}.`}static decode(e,t){let r;if("string"!=typeof e)throw new T("Unsecured JWT must be a string");let{0:n,1:i,2:a,length:o}=e.split(".");if(3!==o||""!==a)throw new T("Invalid Unsecured JWT");try{if(r=JSON.parse(c.decode(b(n))),"none"!==r.alg)throw Error()}catch(e){throw new T("Invalid Unsecured JWT")}return{payload:tc(r,b(i),t),header:r}}}let tM=g,tD=b;function tj(e){let t;if("string"==typeof e){let r=e.split(".");(3===r.length||5===r.length)&&([t]=r)}else if("object"==typeof e&&e){if("protected"in e)t=e.protected;else throw TypeError("Token does not contain a Protected Header")}try{if("string"!=typeof t||!t)throw Error();let e=JSON.parse(c.decode(tD(t)));if(!ei(e))throw Error();return e}catch(e){throw TypeError("Invalid Token or Protected Header formatting")}}function tN(e){let t,r;if("string"!=typeof e)throw new T("JWTs must use Compact JWS serialization, JWT must be a string");let{1:n,length:i}=e.split(".");if(5===i)throw new T("Only JWTs using Compact JWS serialization can be decoded");if(3!==i)throw new T("Invalid JWT");if(!n)throw new T("JWTs must contain a payload");try{t=tD(n)}catch(e){throw new T("Failed to base64url decode the payload")}try{r=JSON.parse(c.decode(t))}catch(e){throw new T("Failed to parse the decoded payload as JSON")}if(!ei(r))throw new T("Invalid JWT Claims Set");return r}async function t$(e,t){var r;let n,i,o;switch(e){case"HS256":case"HS384":case"HS512":n=parseInt(e.slice(-3),10),i={name:"HMAC",hash:`SHA-${n}`,length:n},o=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return n=parseInt(e.slice(-3),10),j(new Uint8Array(n>>3));case"A128KW":case"A192KW":case"A256KW":i={name:"AES-KW",length:n=parseInt(e.slice(1,4),10)},o=["wrapKey","unwrapKey"];break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":case"A128GCM":case"A192GCM":case"A256GCM":i={name:"AES-GCM",length:n=parseInt(e.slice(1,4),10)},o=["encrypt","decrypt"];break;default:throw new _('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return a.subtle.generateKey(i,null!==(r=null==t?void 0:t.extractable)&&void 0!==r&&r,o)}function tK(e){var t;let r=null!==(t=null==e?void 0:e.modulusLength)&&void 0!==t?t:2048;if("number"!=typeof r||r<2048)throw new _("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return r}async function tU(e,t){var r,n,i;let o,s;switch(e){case"PS256":case"PS384":case"PS512":o={name:"RSA-PSS",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:tK(t)},s=["sign","verify"];break;case"RS256":case"RS384":case"RS512":o={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:tK(t)},s=["sign","verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":o={name:"RSA-OAEP",hash:`SHA-${parseInt(e.slice(-3),10)||1}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:tK(t)},s=["decrypt","unwrapKey","encrypt","wrapKey"];break;case"ES256":o={name:"ECDSA",namedCurve:"P-256"},s=["sign","verify"];break;case"ES384":o={name:"ECDSA",namedCurve:"P-384"},s=["sign","verify"];break;case"ES512":o={name:"ECDSA",namedCurve:"P-521"},s=["sign","verify"];break;case"EdDSA":s=["sign","verify"];let l=null!==(r=null==t?void 0:t.crv)&&void 0!==r?r:"Ed25519";switch(l){case"Ed25519":case"Ed448":o={name:l};break;default:throw new _("Invalid or unsupported crv option provided")}break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{s=["deriveKey","deriveBits"];let e=null!==(n=null==t?void 0:t.crv)&&void 0!==n?n:"P-256";switch(e){case"P-256":case"P-384":case"P-521":o={name:"ECDH",namedCurve:e};break;case"X25519":case"X448":o={name:e};break;default:throw new _("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}break}default:throw new _('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return a.subtle.generateKey(o,null!==(i=null==t?void 0:t.extractable)&&void 0!==i&&i,s)}async function tW(e,t){return tU(e,t)}async function tF(e,t){return t$(e,t)}var tB="WebCryptoAPI"},7941:function(e,t,r){"use strict";r.r(t),r.d(t,{__addDisposableResource:function(){return D},__assign:function(){return a},__asyncDelegator:function(){return C},__asyncGenerator:function(){return _},__asyncValues:function(){return P},__await:function(){return A},__awaiter:function(){return f},__classPrivateFieldGet:function(){return H},__classPrivateFieldIn:function(){return M},__classPrivateFieldSet:function(){return I},__createBinding:function(){return y},__decorate:function(){return s},__disposeResources:function(){return N},__esDecorate:function(){return c},__exportStar:function(){return g},__extends:function(){return i},__generator:function(){return m},__importDefault:function(){return R},__importStar:function(){return O},__makeTemplateObject:function(){return k},__metadata:function(){return h},__param:function(){return l},__propKey:function(){return d},__read:function(){return b},__rest:function(){return o},__rewriteRelativeImportExtension:function(){return $},__runInitializers:function(){return u},__setFunctionName:function(){return p},__spread:function(){return w},__spreadArray:function(){return S},__spreadArrays:function(){return E},__values:function(){return v}});var n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var a=function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function s(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}function l(e,t){return function(r,n){t(r,n,e)}}function c(e,t,r,n,i,a){function o(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var s,l=n.kind,c="getter"===l?"get":"setter"===l?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),p=!1,h=r.length-1;h>=0;h--){var f={};for(var m in n)f[m]="access"===m?{}:n[m];for(var m in n.access)f.access[m]=n.access[m];f.addInitializer=function(e){if(p)throw TypeError("Cannot add initializers after decoration has completed");a.push(o(e||null))};var y=(0,r[h])("accessor"===l?{get:d.get,set:d.set}:d[c],f);if("accessor"===l){if(void 0===y)continue;if(null===y||"object"!=typeof y)throw TypeError("Object expected");(s=o(y.get))&&(d.get=s),(s=o(y.set))&&(d.set=s),(s=o(y.init))&&i.unshift(s)}else(s=o(y))&&("field"===l?i.unshift(s):d[c]=s)}u&&Object.defineProperty(u,n.name,d),p=!0}function u(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function d(e){return"symbol"==typeof e?e:"".concat(e)}function p(e,t,r){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function h(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function f(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,s)}l((n=n.apply(e,t||[])).next())})}function m(e,t){var r,n,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}var y=Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};function g(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||y(t,e,r)}function v(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}function w(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(b(arguments[t]));return e}function E(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}function S(e,t,r){if(r||2==arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}function A(e){return this instanceof A?(this.v=e,this):new A(e)}function _(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),a=[];return n=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",function(e){return function(t){return Promise.resolve(t).then(e,c)}}),n[Symbol.asyncIterator]=function(){return this},n;function o(e,t){i[e]&&(n[e]=function(t){return new Promise(function(r,n){a.push([e,t,r,n])>1||s(e,t)})},t&&(n[e]=t(n[e])))}function s(e,t){try{var r;(r=i[e](t)).value instanceof A?Promise.resolve(r.value.v).then(l,c):u(a[0][2],r)}catch(e){u(a[0][3],e)}}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}}function C(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:A(e[n](t)),done:!1}:i?i(t):t}:i}}function P(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=v(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){!function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}(n,i,(t=e[r](t)).done,t.value)})}}}function k(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var x=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},T=function(e){return(T=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(e)};function O(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=T(e),n=0;n<r.length;n++)"default"!==r[n]&&y(t,e,r[n]);return x(t,e),t}function R(e){return e&&e.__esModule?e:{default:e}}function H(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function I(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r}function M(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function D(e,t,r){if(null!=t){var n,i;if("object"!=typeof t&&"function"!=typeof t)throw TypeError("Object expected.");if(r){if(!Symbol.asyncDispose)throw TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if("function"!=typeof n)throw TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var j="function"==typeof SuppressedError?SuppressedError:function(e,t,r){var n=Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function N(e){function t(t){e.error=e.hasError?new j(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var r,n=0;return function i(){for(;r=e.stack.pop();)try{if(!r.async&&1===n)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(i,function(e){return t(e),i()})}else n|=1}catch(e){t(e)}if(1===n)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}function $(e,t){return"string"==typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,r,n,i,a){return r?t?".jsx":".js":!n||i&&a?n+i+"."+a.toLowerCase()+"js":e}):e}t.default={__extends:i,__assign:a,__rest:o,__decorate:s,__param:l,__esDecorate:c,__runInitializers:u,__propKey:d,__setFunctionName:p,__metadata:h,__awaiter:f,__generator:m,__createBinding:y,__exportStar:g,__values:v,__read:b,__spread:w,__spreadArrays:E,__spreadArray:S,__await:A,__asyncGenerator:_,__asyncDelegator:C,__asyncValues:P,__makeTemplateObject:k,__importStar:O,__importDefault:R,__classPrivateFieldGet:H,__classPrivateFieldSet:I,__classPrivateFieldIn:M,__addDisposableResource:D,__disposeResources:N,__rewriteRelativeImportExtension:$}}}]);